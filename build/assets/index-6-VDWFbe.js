function lm(l,r){for(var s=0;s<r.length;s++){const o=r[s];if(typeof o!="string"&&!Array.isArray(o)){for(const u in o)if(u!=="default"&&!(u in l)){const c=Object.getOwnPropertyDescriptor(o,u);c&&Object.defineProperty(l,u,c.get?c:{enumerable:!0,get:()=>o[u]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function s(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(u){if(u.ep)return;u.ep=!0;const c=s(u);fetch(u.href,c)}})();function um(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function cm(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var r=l.default;if(typeof r=="function"){var s=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};s.prototype=r.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(l).forEach(function(o){var u=Object.getOwnPropertyDescriptor(l,o);Object.defineProperty(s,o,u.get?u:{enumerable:!0,get:function(){return l[o]}})}),s}var Ba={exports:{}},os={},Fa={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d;function dm(){if(_d)return le;_d=1;var l=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function j(S){return S===null||typeof S!="object"?null:(S=_&&S[_]||S["@@iterator"],typeof S=="function"?S:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,R={};function O(S,L,oe){this.props=S,this.context=L,this.refs=R,this.updater=oe||k}O.prototype.isReactComponent={},O.prototype.setState=function(S,L){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,L,"setState")},O.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function U(){}U.prototype=O.prototype;function A(S,L,oe){this.props=S,this.context=L,this.refs=R,this.updater=oe||k}var T=A.prototype=new U;T.constructor=A,P(T,O.prototype),T.isPureReactComponent=!0;var q=Array.isArray,ie=Object.prototype.hasOwnProperty,ne={current:null},ae={key:!0,ref:!0,__self:!0,__source:!0};function je(S,L,oe){var ue,de={},he=null,ye=null;if(L!=null)for(ue in L.ref!==void 0&&(ye=L.ref),L.key!==void 0&&(he=""+L.key),L)ie.call(L,ue)&&!ae.hasOwnProperty(ue)&&(de[ue]=L[ue]);var me=arguments.length-2;if(me===1)de.children=oe;else if(1<me){for(var Ne=Array(me),lt=0;lt<me;lt++)Ne[lt]=arguments[lt+2];de.children=Ne}if(S&&S.defaultProps)for(ue in me=S.defaultProps,me)de[ue]===void 0&&(de[ue]=me[ue]);return{$$typeof:l,type:S,key:he,ref:ye,props:de,_owner:ne.current}}function J(S,L){return{$$typeof:l,type:S.type,key:L,ref:S.ref,props:S.props,_owner:S._owner}}function we(S){return typeof S=="object"&&S!==null&&S.$$typeof===l}function mt(S){var L={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(oe){return L[oe]})}var se=/\/+/g;function ke(S,L){return typeof S=="object"&&S!==null&&S.key!=null?mt(""+S.key):L.toString(36)}function Re(S,L,oe,ue,de){var he=typeof S;(he==="undefined"||he==="boolean")&&(S=null);var ye=!1;if(S===null)ye=!0;else switch(he){case"string":case"number":ye=!0;break;case"object":switch(S.$$typeof){case l:case r:ye=!0}}if(ye)return ye=S,de=de(ye),S=ue===""?"."+ke(ye,0):ue,q(de)?(oe="",S!=null&&(oe=S.replace(se,"$&/")+"/"),Re(de,L,oe,"",function(lt){return lt})):de!=null&&(we(de)&&(de=J(de,oe+(!de.key||ye&&ye.key===de.key?"":(""+de.key).replace(se,"$&/")+"/")+S)),L.push(de)),1;if(ye=0,ue=ue===""?".":ue+":",q(S))for(var me=0;me<S.length;me++){he=S[me];var Ne=ue+ke(he,me);ye+=Re(he,L,oe,Ne,de)}else if(Ne=j(S),typeof Ne=="function")for(S=Ne.call(S),me=0;!(he=S.next()).done;)he=he.value,Ne=ue+ke(he,me++),ye+=Re(he,L,oe,Ne,de);else if(he==="object")throw L=String(S),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return ye}function Ze(S,L,oe){if(S==null)return S;var ue=[],de=0;return Re(S,ue,"","",function(he){return L.call(oe,he,de++)}),ue}function qe(S){if(S._status===-1){var L=S._result;L=L(),L.then(function(oe){(S._status===0||S._status===-1)&&(S._status=1,S._result=oe)},function(oe){(S._status===0||S._status===-1)&&(S._status=2,S._result=oe)}),S._status===-1&&(S._status=0,S._result=L)}if(S._status===1)return S._result.default;throw S._result}var Se={current:null},z={transition:null},ee={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:z,ReactCurrentOwner:ne};function W(){throw Error("act(...) is not supported in production builds of React.")}return le.Children={map:Ze,forEach:function(S,L,oe){Ze(S,function(){L.apply(this,arguments)},oe)},count:function(S){var L=0;return Ze(S,function(){L++}),L},toArray:function(S){return Ze(S,function(L){return L})||[]},only:function(S){if(!we(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},le.Component=O,le.Fragment=s,le.Profiler=u,le.PureComponent=A,le.StrictMode=o,le.Suspense=g,le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,le.act=W,le.cloneElement=function(S,L,oe){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var ue=P({},S.props),de=S.key,he=S.ref,ye=S._owner;if(L!=null){if(L.ref!==void 0&&(he=L.ref,ye=ne.current),L.key!==void 0&&(de=""+L.key),S.type&&S.type.defaultProps)var me=S.type.defaultProps;for(Ne in L)ie.call(L,Ne)&&!ae.hasOwnProperty(Ne)&&(ue[Ne]=L[Ne]===void 0&&me!==void 0?me[Ne]:L[Ne])}var Ne=arguments.length-2;if(Ne===1)ue.children=oe;else if(1<Ne){me=Array(Ne);for(var lt=0;lt<Ne;lt++)me[lt]=arguments[lt+2];ue.children=me}return{$$typeof:l,type:S.type,key:de,ref:he,props:ue,_owner:ye}},le.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:c,_context:S},S.Consumer=S},le.createElement=je,le.createFactory=function(S){var L=je.bind(null,S);return L.type=S,L},le.createRef=function(){return{current:null}},le.forwardRef=function(S){return{$$typeof:p,render:S}},le.isValidElement=we,le.lazy=function(S){return{$$typeof:v,_payload:{_status:-1,_result:S},_init:qe}},le.memo=function(S,L){return{$$typeof:y,type:S,compare:L===void 0?null:L}},le.startTransition=function(S){var L=z.transition;z.transition={};try{S()}finally{z.transition=L}},le.unstable_act=W,le.useCallback=function(S,L){return Se.current.useCallback(S,L)},le.useContext=function(S){return Se.current.useContext(S)},le.useDebugValue=function(){},le.useDeferredValue=function(S){return Se.current.useDeferredValue(S)},le.useEffect=function(S,L){return Se.current.useEffect(S,L)},le.useId=function(){return Se.current.useId()},le.useImperativeHandle=function(S,L,oe){return Se.current.useImperativeHandle(S,L,oe)},le.useInsertionEffect=function(S,L){return Se.current.useInsertionEffect(S,L)},le.useLayoutEffect=function(S,L){return Se.current.useLayoutEffect(S,L)},le.useMemo=function(S,L){return Se.current.useMemo(S,L)},le.useReducer=function(S,L,oe){return Se.current.useReducer(S,L,oe)},le.useRef=function(S){return Se.current.useRef(S)},le.useState=function(S){return Se.current.useState(S)},le.useSyncExternalStore=function(S,L,oe){return Se.current.useSyncExternalStore(S,L,oe)},le.useTransition=function(){return Se.current.useTransition()},le.version="18.3.1",le}var jd;function gl(){return jd||(jd=1,Fa.exports=dm()),Fa.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kd;function hm(){if(kd)return os;kd=1;var l=gl(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(p,g,y){var v,_={},j=null,k=null;y!==void 0&&(j=""+y),g.key!==void 0&&(j=""+g.key),g.ref!==void 0&&(k=g.ref);for(v in g)o.call(g,v)&&!c.hasOwnProperty(v)&&(_[v]=g[v]);if(p&&p.defaultProps)for(v in g=p.defaultProps,g)_[v]===void 0&&(_[v]=g[v]);return{$$typeof:r,type:p,key:j,ref:k,props:_,_owner:u.current}}return os.Fragment=s,os.jsx=h,os.jsxs=h,os}var Sd;function fm(){return Sd||(Sd=1,Ba.exports=hm()),Ba.exports}var a=fm(),Ci={},Va={exports:{}},at={},Wa={exports:{}},qa={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd;function pm(){return Nd||(Nd=1,(function(l){function r(z,ee){var W=z.length;z.push(ee);e:for(;0<W;){var S=W-1>>>1,L=z[S];if(0<u(L,ee))z[S]=ee,z[W]=L,W=S;else break e}}function s(z){return z.length===0?null:z[0]}function o(z){if(z.length===0)return null;var ee=z[0],W=z.pop();if(W!==ee){z[0]=W;e:for(var S=0,L=z.length,oe=L>>>1;S<oe;){var ue=2*(S+1)-1,de=z[ue],he=ue+1,ye=z[he];if(0>u(de,W))he<L&&0>u(ye,de)?(z[S]=ye,z[he]=W,S=he):(z[S]=de,z[ue]=W,S=ue);else if(he<L&&0>u(ye,W))z[S]=ye,z[he]=W,S=he;else break e}}return ee}function u(z,ee){var W=z.sortIndex-ee.sortIndex;return W!==0?W:z.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;l.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();l.unstable_now=function(){return h.now()-p}}var g=[],y=[],v=1,_=null,j=3,k=!1,P=!1,R=!1,O=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(z){for(var ee=s(y);ee!==null;){if(ee.callback===null)o(y);else if(ee.startTime<=z)o(y),ee.sortIndex=ee.expirationTime,r(g,ee);else break;ee=s(y)}}function q(z){if(R=!1,T(z),!P)if(s(g)!==null)P=!0,qe(ie);else{var ee=s(y);ee!==null&&Se(q,ee.startTime-z)}}function ie(z,ee){P=!1,R&&(R=!1,U(je),je=-1),k=!0;var W=j;try{for(T(ee),_=s(g);_!==null&&(!(_.expirationTime>ee)||z&&!mt());){var S=_.callback;if(typeof S=="function"){_.callback=null,j=_.priorityLevel;var L=S(_.expirationTime<=ee);ee=l.unstable_now(),typeof L=="function"?_.callback=L:_===s(g)&&o(g),T(ee)}else o(g);_=s(g)}if(_!==null)var oe=!0;else{var ue=s(y);ue!==null&&Se(q,ue.startTime-ee),oe=!1}return oe}finally{_=null,j=W,k=!1}}var ne=!1,ae=null,je=-1,J=5,we=-1;function mt(){return!(l.unstable_now()-we<J)}function se(){if(ae!==null){var z=l.unstable_now();we=z;var ee=!0;try{ee=ae(!0,z)}finally{ee?ke():(ne=!1,ae=null)}}else ne=!1}var ke;if(typeof A=="function")ke=function(){A(se)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,Ze=Re.port2;Re.port1.onmessage=se,ke=function(){Ze.postMessage(null)}}else ke=function(){O(se,0)};function qe(z){ae=z,ne||(ne=!0,ke())}function Se(z,ee){je=O(function(){z(l.unstable_now())},ee)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(z){z.callback=null},l.unstable_continueExecution=function(){P||k||(P=!0,qe(ie))},l.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<z?Math.floor(1e3/z):5},l.unstable_getCurrentPriorityLevel=function(){return j},l.unstable_getFirstCallbackNode=function(){return s(g)},l.unstable_next=function(z){switch(j){case 1:case 2:case 3:var ee=3;break;default:ee=j}var W=j;j=ee;try{return z()}finally{j=W}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(z,ee){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var W=j;j=z;try{return ee()}finally{j=W}},l.unstable_scheduleCallback=function(z,ee,W){var S=l.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?S+W:S):W=S,z){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=W+L,z={id:v++,callback:ee,priorityLevel:z,startTime:W,expirationTime:L,sortIndex:-1},W>S?(z.sortIndex=W,r(y,z),s(g)===null&&z===s(y)&&(R?(U(je),je=-1):R=!0,Se(q,W-S))):(z.sortIndex=L,r(g,z),P||k||(P=!0,qe(ie))),z},l.unstable_shouldYield=mt,l.unstable_wrapCallback=function(z){var ee=j;return function(){var W=j;j=ee;try{return z.apply(this,arguments)}finally{j=W}}}})(qa)),qa}var Ed;function mm(){return Ed||(Ed=1,Wa.exports=pm()),Wa.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cd;function gm(){if(Cd)return at;Cd=1;var l=gl(),r=mm();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function c(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},_={};function j(e){return g.call(_,e)?!0:g.call(v,e)?!1:y.test(e)?_[e]=!0:(v[e]=!0,!1)}function k(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function P(e,t,n,i){if(t===null||typeof t>"u"||k(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function R(e,t,n,i,d,f,m){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=d,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=m}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){O[e]=new R(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];O[t]=new R(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){O[e]=new R(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){O[e]=new R(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){O[e]=new R(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){O[e]=new R(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){O[e]=new R(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){O[e]=new R(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){O[e]=new R(e,5,!1,e.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function A(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(U,A);O[t]=new R(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(U,A);O[t]=new R(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(U,A);O[t]=new R(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){O[e]=new R(e,1,!1,e.toLowerCase(),null,!1,!1)}),O.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){O[e]=new R(e,1,!1,e.toLowerCase(),null,!0,!0)});function T(e,t,n,i){var d=O.hasOwnProperty(t)?O[t]:null;(d!==null?d.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(P(t,n,d,i)&&(n=null),i||d===null?j(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):d.mustUseProperty?e[d.propertyName]=n===null?d.type===3?!1:"":n:(t=d.attributeName,i=d.attributeNamespace,n===null?e.removeAttribute(t):(d=d.type,n=d===3||d===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var q=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),ne=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),je=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),we=Symbol.for("react.provider"),mt=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),Ze=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),z=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,S;function L(e){if(S===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);S=t&&t[1]||""}return`
`+S+e}var oe=!1;function ue(e,t){if(!e||oe)return"";oe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(C){var i=C}Reflect.construct(e,[],t)}else{try{t.call()}catch(C){i=C}e.call(t.prototype)}else{try{throw Error()}catch(C){i=C}e()}}catch(C){if(C&&i&&typeof C.stack=="string"){for(var d=C.stack.split(`
`),f=i.stack.split(`
`),m=d.length-1,x=f.length-1;1<=m&&0<=x&&d[m]!==f[x];)x--;for(;1<=m&&0<=x;m--,x--)if(d[m]!==f[x]){if(m!==1||x!==1)do if(m--,x--,0>x||d[m]!==f[x]){var w=`
`+d[m].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=m&&0<=x);break}}}finally{oe=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function de(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=ue(e.type,!1),e;case 11:return e=ue(e.type.render,!1),e;case 1:return e=ue(e.type,!0),e;default:return""}}function he(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ae:return"Fragment";case ne:return"Portal";case J:return"Profiler";case je:return"StrictMode";case ke:return"Suspense";case Re:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mt:return(e.displayName||"Context")+".Consumer";case we:return(e._context.displayName||"Context")+".Provider";case se:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ze:return t=e.displayName||null,t!==null?t:he(e.type)||"Memo";case qe:t=e._payload,e=e._init;try{return he(e(t))}catch{}}return null}function ye(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(t);case 8:return t===je?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function me(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ne(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lt(e){var t=Ne(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var d=n.get,f=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(m){i=""+m,f.call(this,m)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(m){i=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vs(e){e._valueTracker||(e._valueTracker=lt(e))}function Cl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Ne(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function xs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ki(e,t){var n=t.checked;return W({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ol(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=me(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tl(e,t){t=t.checked,t!=null&&T(e,"checked",t,!1)}function Ji(e,t){Tl(e,t);var n=me(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gi(e,t.type,n):t.hasOwnProperty("defaultValue")&&Gi(e,t.type,me(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pl(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Gi(e,t,n){(t!=="number"||xs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var bn=Array.isArray;function $r(e,t,n,i){if(e=e.options,t){t={};for(var d=0;d<n.length;d++)t["$"+n[d]]=!0;for(n=0;n<e.length;n++)d=t.hasOwnProperty("$"+e[n].value),e[n].selected!==d&&(e[n].selected=d),d&&i&&(e[n].defaultSelected=!0)}else{for(n=""+me(n),t=null,d=0;d<e.length;d++){if(e[d].value===n){e[d].selected=!0,i&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function Qi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return W({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rl(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(s(92));if(bn(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:me(n)}}function Al(e,t){var n=me(t.value),i=me(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Il(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ll(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ll(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ws,$l=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,d){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,d)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ws=ws||document.createElement("div"),ws.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ws.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _n(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var jn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hf=["Webkit","ms","Moz","O"];Object.keys(jn).forEach(function(e){hf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jn[t]=jn[e]})});function Ul(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||jn.hasOwnProperty(e)&&jn[e]?(""+t).trim():t+"px"}function Dl(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,d=Ul(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,d):e[n]=d}}var ff=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xi(e,t){if(t){if(ff[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function Zi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eo=null;function to(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ro=null,Ur=null,Dr=null;function Ml(e){if(e=qn(e)){if(typeof ro!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Vs(t),ro(e.stateNode,e.type,t))}}function zl(e){Ur?Dr?Dr.push(e):Dr=[e]:Ur=e}function Bl(){if(Ur){var e=Ur,t=Dr;if(Dr=Ur=null,Ml(e),t)for(e=0;e<t.length;e++)Ml(t[e])}}function Fl(e,t){return e(t)}function Vl(){}var no=!1;function Wl(e,t,n){if(no)return e(t,n);no=!0;try{return Fl(e,t,n)}finally{no=!1,(Ur!==null||Dr!==null)&&(Vl(),Bl())}}function kn(e,t){var n=e.stateNode;if(n===null)return null;var i=Vs(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var so=!1;if(p)try{var Sn={};Object.defineProperty(Sn,"passive",{get:function(){so=!0}}),window.addEventListener("test",Sn,Sn),window.removeEventListener("test",Sn,Sn)}catch{so=!1}function pf(e,t,n,i,d,f,m,x,w){var C=Array.prototype.slice.call(arguments,3);try{t.apply(n,C)}catch($){this.onError($)}}var Nn=!1,bs=null,_s=!1,io=null,mf={onError:function(e){Nn=!0,bs=e}};function gf(e,t,n,i,d,f,m,x,w){Nn=!1,bs=null,pf.apply(mf,arguments)}function yf(e,t,n,i,d,f,m,x,w){if(gf.apply(this,arguments),Nn){if(Nn){var C=bs;Nn=!1,bs=null}else throw Error(s(198));_s||(_s=!0,io=C)}}function yr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ql(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hl(e){if(yr(e)!==e)throw Error(s(188))}function vf(e){var t=e.alternate;if(!t){if(t=yr(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var d=n.return;if(d===null)break;var f=d.alternate;if(f===null){if(i=d.return,i!==null){n=i;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===n)return Hl(d),e;if(f===i)return Hl(d),t;f=f.sibling}throw Error(s(188))}if(n.return!==i.return)n=d,i=f;else{for(var m=!1,x=d.child;x;){if(x===n){m=!0,n=d,i=f;break}if(x===i){m=!0,i=d,n=f;break}x=x.sibling}if(!m){for(x=f.child;x;){if(x===n){m=!0,n=f,i=d;break}if(x===i){m=!0,i=f,n=d;break}x=x.sibling}if(!m)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function Kl(e){return e=vf(e),e!==null?Jl(e):null}function Jl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Jl(e);if(t!==null)return t;e=e.sibling}return null}var Gl=r.unstable_scheduleCallback,Ql=r.unstable_cancelCallback,xf=r.unstable_shouldYield,wf=r.unstable_requestPaint,Ae=r.unstable_now,bf=r.unstable_getCurrentPriorityLevel,oo=r.unstable_ImmediatePriority,Yl=r.unstable_UserBlockingPriority,js=r.unstable_NormalPriority,_f=r.unstable_LowPriority,Xl=r.unstable_IdlePriority,ks=null,At=null;function jf(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(ks,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:Nf,kf=Math.log,Sf=Math.LN2;function Nf(e){return e>>>=0,e===0?32:31-(kf(e)/Sf|0)|0}var Ss=64,Ns=4194304;function En(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Es(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,d=e.suspendedLanes,f=e.pingedLanes,m=n&268435455;if(m!==0){var x=m&~d;x!==0?i=En(x):(f&=m,f!==0&&(i=En(f)))}else m=n&~d,m!==0?i=En(m):f!==0&&(i=En(f));if(i===0)return 0;if(t!==0&&t!==i&&(t&d)===0&&(d=i&-i,f=t&-t,d>=f||d===16&&(f&4194240)!==0))return t;if((i&4)!==0&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-_t(t),d=1<<n,i|=e[n],t&=~d;return i}function Ef(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cf(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes;0<f;){var m=31-_t(f),x=1<<m,w=d[m];w===-1?((x&n)===0||(x&i)!==0)&&(d[m]=Ef(x,t)):w<=t&&(e.expiredLanes|=x),f&=~x}}function ao(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zl(){var e=Ss;return Ss<<=1,(Ss&4194240)===0&&(Ss=64),e}function lo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Cn(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=n}function Of(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var d=31-_t(n),f=1<<d;t[d]=0,i[d]=-1,e[d]=-1,n&=~f}}function uo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-_t(n),d=1<<i;d&t|e[i]&t&&(e[i]|=t),n&=~d}}var ge=0;function eu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var tu,co,ru,nu,su,ho=!1,Cs=[],Jt=null,Gt=null,Qt=null,On=new Map,Tn=new Map,Yt=[],Tf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iu(e,t){switch(e){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":On.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tn.delete(t.pointerId)}}function Pn(e,t,n,i,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:f,targetContainers:[d]},t!==null&&(t=qn(t),t!==null&&co(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function Pf(e,t,n,i,d){switch(t){case"focusin":return Jt=Pn(Jt,e,t,n,i,d),!0;case"dragenter":return Gt=Pn(Gt,e,t,n,i,d),!0;case"mouseover":return Qt=Pn(Qt,e,t,n,i,d),!0;case"pointerover":var f=d.pointerId;return On.set(f,Pn(On.get(f)||null,e,t,n,i,d)),!0;case"gotpointercapture":return f=d.pointerId,Tn.set(f,Pn(Tn.get(f)||null,e,t,n,i,d)),!0}return!1}function ou(e){var t=vr(e.target);if(t!==null){var n=yr(t);if(n!==null){if(t=n.tag,t===13){if(t=ql(n),t!==null){e.blockedOn=t,su(e.priority,function(){ru(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Os(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=po(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);eo=i,n.target.dispatchEvent(i),eo=null}else return t=qn(n),t!==null&&co(t),e.blockedOn=n,!1;t.shift()}return!0}function au(e,t,n){Os(e)&&n.delete(t)}function Rf(){ho=!1,Jt!==null&&Os(Jt)&&(Jt=null),Gt!==null&&Os(Gt)&&(Gt=null),Qt!==null&&Os(Qt)&&(Qt=null),On.forEach(au),Tn.forEach(au)}function Rn(e,t){e.blockedOn===t&&(e.blockedOn=null,ho||(ho=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Rf)))}function An(e){function t(d){return Rn(d,e)}if(0<Cs.length){Rn(Cs[0],e);for(var n=1;n<Cs.length;n++){var i=Cs[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Jt!==null&&Rn(Jt,e),Gt!==null&&Rn(Gt,e),Qt!==null&&Rn(Qt,e),On.forEach(t),Tn.forEach(t),n=0;n<Yt.length;n++)i=Yt[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Yt.length&&(n=Yt[0],n.blockedOn===null);)ou(n),n.blockedOn===null&&Yt.shift()}var Mr=q.ReactCurrentBatchConfig,Ts=!0;function Af(e,t,n,i){var d=ge,f=Mr.transition;Mr.transition=null;try{ge=1,fo(e,t,n,i)}finally{ge=d,Mr.transition=f}}function If(e,t,n,i){var d=ge,f=Mr.transition;Mr.transition=null;try{ge=4,fo(e,t,n,i)}finally{ge=d,Mr.transition=f}}function fo(e,t,n,i){if(Ts){var d=po(e,t,n,i);if(d===null)Po(e,t,i,Ps,n),iu(e,i);else if(Pf(d,e,t,n,i))i.stopPropagation();else if(iu(e,i),t&4&&-1<Tf.indexOf(e)){for(;d!==null;){var f=qn(d);if(f!==null&&tu(f),f=po(e,t,n,i),f===null&&Po(e,t,i,Ps,n),f===d)break;d=f}d!==null&&i.stopPropagation()}else Po(e,t,i,null,n)}}var Ps=null;function po(e,t,n,i){if(Ps=null,e=to(i),e=vr(e),e!==null)if(t=yr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ql(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ps=e,null}function lu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bf()){case oo:return 1;case Yl:return 4;case js:case _f:return 16;case Xl:return 536870912;default:return 16}default:return 16}}var Xt=null,mo=null,Rs=null;function uu(){if(Rs)return Rs;var e,t=mo,n=t.length,i,d="value"in Xt?Xt.value:Xt.textContent,f=d.length;for(e=0;e<n&&t[e]===d[e];e++);var m=n-e;for(i=1;i<=m&&t[n-i]===d[f-i];i++);return Rs=d.slice(e,1<i?1-i:void 0)}function As(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Is(){return!0}function cu(){return!1}function ut(e){function t(n,i,d,f,m){this._reactName=n,this._targetInst=d,this.type=i,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Is:cu,this.isPropagationStopped=cu,this}return W(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),t}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=ut(zr),In=W({},zr,{view:0,detail:0}),Lf=ut(In),yo,vo,Ln,Ls=W({},In,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ln&&(Ln&&e.type==="mousemove"?(yo=e.screenX-Ln.screenX,vo=e.screenY-Ln.screenY):vo=yo=0,Ln=e),yo)},movementY:function(e){return"movementY"in e?e.movementY:vo}}),du=ut(Ls),$f=W({},Ls,{dataTransfer:0}),Uf=ut($f),Df=W({},In,{relatedTarget:0}),xo=ut(Df),Mf=W({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),zf=ut(Mf),Bf=W({},zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ff=ut(Bf),Vf=W({},zr,{data:0}),hu=ut(Vf),Wf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hf[e])?!!t[e]:!1}function wo(){return Kf}var Jf=W({},In,{key:function(e){if(e.key){var t=Wf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=As(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wo,charCode:function(e){return e.type==="keypress"?As(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?As(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gf=ut(Jf),Qf=W({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fu=ut(Qf),Yf=W({},In,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wo}),Xf=ut(Yf),Zf=W({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ep=ut(Zf),tp=W({},Ls,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rp=ut(tp),np=[9,13,27,32],bo=p&&"CompositionEvent"in window,$n=null;p&&"documentMode"in document&&($n=document.documentMode);var sp=p&&"TextEvent"in window&&!$n,pu=p&&(!bo||$n&&8<$n&&11>=$n),mu=" ",gu=!1;function yu(e,t){switch(e){case"keyup":return np.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Br=!1;function ip(e,t){switch(e){case"compositionend":return vu(t);case"keypress":return t.which!==32?null:(gu=!0,mu);case"textInput":return e=t.data,e===mu&&gu?null:e;default:return null}}function op(e,t){if(Br)return e==="compositionend"||!bo&&yu(e,t)?(e=uu(),Rs=mo=Xt=null,Br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pu&&t.locale!=="ko"?null:t.data;default:return null}}var ap={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ap[e.type]:t==="textarea"}function wu(e,t,n,i){zl(i),t=zs(t,"onChange"),0<t.length&&(n=new go("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Un=null,Dn=null;function lp(e){Du(e,0)}function $s(e){var t=Hr(e);if(Cl(t))return e}function up(e,t){if(e==="change")return t}var bu=!1;if(p){var _o;if(p){var jo="oninput"in document;if(!jo){var _u=document.createElement("div");_u.setAttribute("oninput","return;"),jo=typeof _u.oninput=="function"}_o=jo}else _o=!1;bu=_o&&(!document.documentMode||9<document.documentMode)}function ju(){Un&&(Un.detachEvent("onpropertychange",ku),Dn=Un=null)}function ku(e){if(e.propertyName==="value"&&$s(Dn)){var t=[];wu(t,Dn,e,to(e)),Wl(lp,t)}}function cp(e,t,n){e==="focusin"?(ju(),Un=t,Dn=n,Un.attachEvent("onpropertychange",ku)):e==="focusout"&&ju()}function dp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $s(Dn)}function hp(e,t){if(e==="click")return $s(t)}function fp(e,t){if(e==="input"||e==="change")return $s(t)}function pp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:pp;function Mn(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var d=n[i];if(!g.call(t,d)||!jt(e[d],t[d]))return!1}return!0}function Su(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nu(e,t){var n=Su(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Su(n)}}function Eu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Eu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cu(){for(var e=window,t=xs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xs(e.document)}return t}function ko(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mp(e){var t=Cu(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Eu(n.ownerDocument.documentElement,n)){if(i!==null&&ko(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=n.textContent.length,f=Math.min(i.start,d);i=i.end===void 0?f:Math.min(i.end,d),!e.extend&&f>i&&(d=i,i=f,f=d),d=Nu(n,f);var m=Nu(n,i);d&&m&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),f>i?(e.addRange(t),e.extend(m.node,m.offset)):(t.setEnd(m.node,m.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gp=p&&"documentMode"in document&&11>=document.documentMode,Fr=null,So=null,zn=null,No=!1;function Ou(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;No||Fr==null||Fr!==xs(i)||(i=Fr,"selectionStart"in i&&ko(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),zn&&Mn(zn,i)||(zn=i,i=zs(So,"onSelect"),0<i.length&&(t=new go("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Fr)))}function Us(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vr={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionend:Us("Transition","TransitionEnd")},Eo={},Tu={};p&&(Tu=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function Ds(e){if(Eo[e])return Eo[e];if(!Vr[e])return e;var t=Vr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Tu)return Eo[e]=t[n];return e}var Pu=Ds("animationend"),Ru=Ds("animationiteration"),Au=Ds("animationstart"),Iu=Ds("transitionend"),Lu=new Map,$u="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zt(e,t){Lu.set(e,t),c(t,[e])}for(var Co=0;Co<$u.length;Co++){var Oo=$u[Co],yp=Oo.toLowerCase(),vp=Oo[0].toUpperCase()+Oo.slice(1);Zt(yp,"on"+vp)}Zt(Pu,"onAnimationEnd"),Zt(Ru,"onAnimationIteration"),Zt(Au,"onAnimationStart"),Zt("dblclick","onDoubleClick"),Zt("focusin","onFocus"),Zt("focusout","onBlur"),Zt(Iu,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bn));function Uu(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,yf(i,t,void 0,e),e.currentTarget=null}function Du(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],d=i.event;i=i.listeners;e:{var f=void 0;if(t)for(var m=i.length-1;0<=m;m--){var x=i[m],w=x.instance,C=x.currentTarget;if(x=x.listener,w!==f&&d.isPropagationStopped())break e;Uu(d,x,C),f=w}else for(m=0;m<i.length;m++){if(x=i[m],w=x.instance,C=x.currentTarget,x=x.listener,w!==f&&d.isPropagationStopped())break e;Uu(d,x,C),f=w}}}if(_s)throw e=io,_s=!1,io=null,e}function be(e,t){var n=t[Uo];n===void 0&&(n=t[Uo]=new Set);var i=e+"__bubble";n.has(i)||(Mu(t,e,2,!1),n.add(i))}function To(e,t,n){var i=0;t&&(i|=4),Mu(n,e,i,t)}var Ms="_reactListening"+Math.random().toString(36).slice(2);function Fn(e){if(!e[Ms]){e[Ms]=!0,o.forEach(function(n){n!=="selectionchange"&&(xp.has(n)||To(n,!1,e),To(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ms]||(t[Ms]=!0,To("selectionchange",!1,t))}}function Mu(e,t,n,i){switch(lu(t)){case 1:var d=Af;break;case 4:d=If;break;default:d=fo}n=d.bind(null,t,n,e),d=void 0,!so||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),i?d!==void 0?e.addEventListener(t,n,{capture:!0,passive:d}):e.addEventListener(t,n,!0):d!==void 0?e.addEventListener(t,n,{passive:d}):e.addEventListener(t,n,!1)}function Po(e,t,n,i,d){var f=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var m=i.tag;if(m===3||m===4){var x=i.stateNode.containerInfo;if(x===d||x.nodeType===8&&x.parentNode===d)break;if(m===4)for(m=i.return;m!==null;){var w=m.tag;if((w===3||w===4)&&(w=m.stateNode.containerInfo,w===d||w.nodeType===8&&w.parentNode===d))return;m=m.return}for(;x!==null;){if(m=vr(x),m===null)return;if(w=m.tag,w===5||w===6){i=f=m;continue e}x=x.parentNode}}i=i.return}Wl(function(){var C=f,$=to(n),D=[];e:{var I=Lu.get(e);if(I!==void 0){var B=go,H=e;switch(e){case"keypress":if(As(n)===0)break e;case"keydown":case"keyup":B=Gf;break;case"focusin":H="focus",B=xo;break;case"focusout":H="blur",B=xo;break;case"beforeblur":case"afterblur":B=xo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=du;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Uf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Xf;break;case Pu:case Ru:case Au:B=zf;break;case Iu:B=ep;break;case"scroll":B=Lf;break;case"wheel":B=rp;break;case"copy":case"cut":case"paste":B=Ff;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=fu}var K=(t&4)!==0,Ie=!K&&e==="scroll",N=K?I!==null?I+"Capture":null:I;K=[];for(var b=C,E;b!==null;){E=b;var M=E.stateNode;if(E.tag===5&&M!==null&&(E=M,N!==null&&(M=kn(b,N),M!=null&&K.push(Vn(b,M,E)))),Ie)break;b=b.return}0<K.length&&(I=new B(I,H,null,n,$),D.push({event:I,listeners:K}))}}if((t&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",I&&n!==eo&&(H=n.relatedTarget||n.fromElement)&&(vr(H)||H[Mt]))break e;if((B||I)&&(I=$.window===$?$:(I=$.ownerDocument)?I.defaultView||I.parentWindow:window,B?(H=n.relatedTarget||n.toElement,B=C,H=H?vr(H):null,H!==null&&(Ie=yr(H),H!==Ie||H.tag!==5&&H.tag!==6)&&(H=null)):(B=null,H=C),B!==H)){if(K=du,M="onMouseLeave",N="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(K=fu,M="onPointerLeave",N="onPointerEnter",b="pointer"),Ie=B==null?I:Hr(B),E=H==null?I:Hr(H),I=new K(M,b+"leave",B,n,$),I.target=Ie,I.relatedTarget=E,M=null,vr($)===C&&(K=new K(N,b+"enter",H,n,$),K.target=E,K.relatedTarget=Ie,M=K),Ie=M,B&&H)t:{for(K=B,N=H,b=0,E=K;E;E=Wr(E))b++;for(E=0,M=N;M;M=Wr(M))E++;for(;0<b-E;)K=Wr(K),b--;for(;0<E-b;)N=Wr(N),E--;for(;b--;){if(K===N||N!==null&&K===N.alternate)break t;K=Wr(K),N=Wr(N)}K=null}else K=null;B!==null&&zu(D,I,B,K,!1),H!==null&&Ie!==null&&zu(D,Ie,H,K,!0)}}e:{if(I=C?Hr(C):window,B=I.nodeName&&I.nodeName.toLowerCase(),B==="select"||B==="input"&&I.type==="file")var G=up;else if(xu(I))if(bu)G=fp;else{G=dp;var X=cp}else(B=I.nodeName)&&B.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(G=hp);if(G&&(G=G(e,C))){wu(D,G,n,$);break e}X&&X(e,I,C),e==="focusout"&&(X=I._wrapperState)&&X.controlled&&I.type==="number"&&Gi(I,"number",I.value)}switch(X=C?Hr(C):window,e){case"focusin":(xu(X)||X.contentEditable==="true")&&(Fr=X,So=C,zn=null);break;case"focusout":zn=So=Fr=null;break;case"mousedown":No=!0;break;case"contextmenu":case"mouseup":case"dragend":No=!1,Ou(D,n,$);break;case"selectionchange":if(gp)break;case"keydown":case"keyup":Ou(D,n,$)}var Z;if(bo)e:{switch(e){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else Br?yu(e,n)&&(re="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(re="onCompositionStart");re&&(pu&&n.locale!=="ko"&&(Br||re!=="onCompositionStart"?re==="onCompositionEnd"&&Br&&(Z=uu()):(Xt=$,mo="value"in Xt?Xt.value:Xt.textContent,Br=!0)),X=zs(C,re),0<X.length&&(re=new hu(re,e,null,n,$),D.push({event:re,listeners:X}),Z?re.data=Z:(Z=vu(n),Z!==null&&(re.data=Z)))),(Z=sp?ip(e,n):op(e,n))&&(C=zs(C,"onBeforeInput"),0<C.length&&($=new hu("onBeforeInput","beforeinput",null,n,$),D.push({event:$,listeners:C}),$.data=Z))}Du(D,t)})}function Vn(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zs(e,t){for(var n=t+"Capture",i=[];e!==null;){var d=e,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=kn(e,n),f!=null&&i.unshift(Vn(e,f,d)),f=kn(e,t),f!=null&&i.push(Vn(e,f,d))),e=e.return}return i}function Wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zu(e,t,n,i,d){for(var f=t._reactName,m=[];n!==null&&n!==i;){var x=n,w=x.alternate,C=x.stateNode;if(w!==null&&w===i)break;x.tag===5&&C!==null&&(x=C,d?(w=kn(n,f),w!=null&&m.unshift(Vn(n,w,x))):d||(w=kn(n,f),w!=null&&m.push(Vn(n,w,x)))),n=n.return}m.length!==0&&e.push({event:t,listeners:m})}var wp=/\r\n?/g,bp=/\u0000|\uFFFD/g;function Bu(e){return(typeof e=="string"?e:""+e).replace(wp,`
`).replace(bp,"")}function Bs(e,t,n){if(t=Bu(t),Bu(e)!==t&&n)throw Error(s(425))}function Fs(){}var Ro=null,Ao=null;function Io(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lo=typeof setTimeout=="function"?setTimeout:void 0,_p=typeof clearTimeout=="function"?clearTimeout:void 0,Fu=typeof Promise=="function"?Promise:void 0,jp=typeof queueMicrotask=="function"?queueMicrotask:typeof Fu<"u"?function(e){return Fu.resolve(null).then(e).catch(kp)}:Lo;function kp(e){setTimeout(function(){throw e})}function $o(e,t){var n=t,i=0;do{var d=n.nextSibling;if(e.removeChild(n),d&&d.nodeType===8)if(n=d.data,n==="/$"){if(i===0){e.removeChild(d),An(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=d}while(n);An(t)}function er(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qr=Math.random().toString(36).slice(2),It="__reactFiber$"+qr,Wn="__reactProps$"+qr,Mt="__reactContainer$"+qr,Uo="__reactEvents$"+qr,Sp="__reactListeners$"+qr,Np="__reactHandles$"+qr;function vr(e){var t=e[It];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mt]||n[It]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Vu(e);e!==null;){if(n=e[It])return n;e=Vu(e)}return t}e=n,n=e.parentNode}return null}function qn(e){return e=e[It]||e[Mt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Vs(e){return e[Wn]||null}var Do=[],Kr=-1;function tr(e){return{current:e}}function _e(e){0>Kr||(e.current=Do[Kr],Do[Kr]=null,Kr--)}function ve(e,t){Kr++,Do[Kr]=e.current,e.current=t}var rr={},He=tr(rr),rt=tr(!1),xr=rr;function Jr(e,t){var n=e.type.contextTypes;if(!n)return rr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in n)d[f]=t[f];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function nt(e){return e=e.childContextTypes,e!=null}function Ws(){_e(rt),_e(He)}function Wu(e,t,n){if(He.current!==rr)throw Error(s(168));ve(He,t),ve(rt,n)}function qu(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var d in i)if(!(d in t))throw Error(s(108,ye(e)||"Unknown",d));return W({},n,i)}function qs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rr,xr=He.current,ve(He,e),ve(rt,rt.current),!0}function Hu(e,t,n){var i=e.stateNode;if(!i)throw Error(s(169));n?(e=qu(e,t,xr),i.__reactInternalMemoizedMergedChildContext=e,_e(rt),_e(He),ve(He,e)):_e(rt),ve(rt,n)}var zt=null,Hs=!1,Mo=!1;function Ku(e){zt===null?zt=[e]:zt.push(e)}function Ep(e){Hs=!0,Ku(e)}function nr(){if(!Mo&&zt!==null){Mo=!0;var e=0,t=ge;try{var n=zt;for(ge=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}zt=null,Hs=!1}catch(d){throw zt!==null&&(zt=zt.slice(e+1)),Gl(oo,nr),d}finally{ge=t,Mo=!1}}return null}var Gr=[],Qr=0,Ks=null,Js=0,gt=[],yt=0,wr=null,Bt=1,Ft="";function br(e,t){Gr[Qr++]=Js,Gr[Qr++]=Ks,Ks=e,Js=t}function Ju(e,t,n){gt[yt++]=Bt,gt[yt++]=Ft,gt[yt++]=wr,wr=e;var i=Bt;e=Ft;var d=32-_t(i)-1;i&=~(1<<d),n+=1;var f=32-_t(t)+d;if(30<f){var m=d-d%5;f=(i&(1<<m)-1).toString(32),i>>=m,d-=m,Bt=1<<32-_t(t)+d|n<<d|i,Ft=f+e}else Bt=1<<f|n<<d|i,Ft=e}function zo(e){e.return!==null&&(br(e,1),Ju(e,1,0))}function Bo(e){for(;e===Ks;)Ks=Gr[--Qr],Gr[Qr]=null,Js=Gr[--Qr],Gr[Qr]=null;for(;e===wr;)wr=gt[--yt],gt[yt]=null,Ft=gt[--yt],gt[yt]=null,Bt=gt[--yt],gt[yt]=null}var ct=null,dt=null,Ee=!1,kt=null;function Gu(e,t){var n=bt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,dt=er(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wr!==null?{id:Bt,overflow:Ft}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=bt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ct=e,dt=null,!0):!1;default:return!1}}function Fo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vo(e){if(Ee){var t=dt;if(t){var n=t;if(!Qu(e,t)){if(Fo(e))throw Error(s(418));t=er(n.nextSibling);var i=ct;t&&Qu(e,t)?Gu(i,n):(e.flags=e.flags&-4097|2,Ee=!1,ct=e)}}else{if(Fo(e))throw Error(s(418));e.flags=e.flags&-4097|2,Ee=!1,ct=e}}}function Yu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function Gs(e){if(e!==ct)return!1;if(!Ee)return Yu(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Io(e.type,e.memoizedProps)),t&&(t=dt)){if(Fo(e))throw Xu(),Error(s(418));for(;t;)Gu(e,t),t=er(t.nextSibling)}if(Yu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){dt=er(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=ct?er(e.stateNode.nextSibling):null;return!0}function Xu(){for(var e=dt;e;)e=er(e.nextSibling)}function Yr(){dt=ct=null,Ee=!1}function Wo(e){kt===null?kt=[e]:kt.push(e)}var Cp=q.ReactCurrentBatchConfig;function Hn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,e));var d=i,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(m){var x=d.refs;m===null?delete x[f]:x[f]=m},t._stringRef=f,t)}if(typeof e!="string")throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Qs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zu(e){var t=e._init;return t(e._payload)}function ec(e){function t(N,b){if(e){var E=N.deletions;E===null?(N.deletions=[b],N.flags|=16):E.push(b)}}function n(N,b){if(!e)return null;for(;b!==null;)t(N,b),b=b.sibling;return null}function i(N,b){for(N=new Map;b!==null;)b.key!==null?N.set(b.key,b):N.set(b.index,b),b=b.sibling;return N}function d(N,b){return N=dr(N,b),N.index=0,N.sibling=null,N}function f(N,b,E){return N.index=E,e?(E=N.alternate,E!==null?(E=E.index,E<b?(N.flags|=2,b):E):(N.flags|=2,b)):(N.flags|=1048576,b)}function m(N){return e&&N.alternate===null&&(N.flags|=2),N}function x(N,b,E,M){return b===null||b.tag!==6?(b=La(E,N.mode,M),b.return=N,b):(b=d(b,E),b.return=N,b)}function w(N,b,E,M){var G=E.type;return G===ae?$(N,b,E.props.children,M,E.key):b!==null&&(b.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===qe&&Zu(G)===b.type)?(M=d(b,E.props),M.ref=Hn(N,b,E),M.return=N,M):(M=wi(E.type,E.key,E.props,null,N.mode,M),M.ref=Hn(N,b,E),M.return=N,M)}function C(N,b,E,M){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=$a(E,N.mode,M),b.return=N,b):(b=d(b,E.children||[]),b.return=N,b)}function $(N,b,E,M,G){return b===null||b.tag!==7?(b=Or(E,N.mode,M,G),b.return=N,b):(b=d(b,E),b.return=N,b)}function D(N,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=La(""+b,N.mode,E),b.return=N,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ie:return E=wi(b.type,b.key,b.props,null,N.mode,E),E.ref=Hn(N,null,b),E.return=N,E;case ne:return b=$a(b,N.mode,E),b.return=N,b;case qe:var M=b._init;return D(N,M(b._payload),E)}if(bn(b)||ee(b))return b=Or(b,N.mode,E,null),b.return=N,b;Qs(N,b)}return null}function I(N,b,E,M){var G=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return G!==null?null:x(N,b,""+E,M);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ie:return E.key===G?w(N,b,E,M):null;case ne:return E.key===G?C(N,b,E,M):null;case qe:return G=E._init,I(N,b,G(E._payload),M)}if(bn(E)||ee(E))return G!==null?null:$(N,b,E,M,null);Qs(N,E)}return null}function B(N,b,E,M,G){if(typeof M=="string"&&M!==""||typeof M=="number")return N=N.get(E)||null,x(b,N,""+M,G);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case ie:return N=N.get(M.key===null?E:M.key)||null,w(b,N,M,G);case ne:return N=N.get(M.key===null?E:M.key)||null,C(b,N,M,G);case qe:var X=M._init;return B(N,b,E,X(M._payload),G)}if(bn(M)||ee(M))return N=N.get(E)||null,$(b,N,M,G,null);Qs(b,M)}return null}function H(N,b,E,M){for(var G=null,X=null,Z=b,re=b=0,Fe=null;Z!==null&&re<E.length;re++){Z.index>re?(Fe=Z,Z=null):Fe=Z.sibling;var fe=I(N,Z,E[re],M);if(fe===null){Z===null&&(Z=Fe);break}e&&Z&&fe.alternate===null&&t(N,Z),b=f(fe,b,re),X===null?G=fe:X.sibling=fe,X=fe,Z=Fe}if(re===E.length)return n(N,Z),Ee&&br(N,re),G;if(Z===null){for(;re<E.length;re++)Z=D(N,E[re],M),Z!==null&&(b=f(Z,b,re),X===null?G=Z:X.sibling=Z,X=Z);return Ee&&br(N,re),G}for(Z=i(N,Z);re<E.length;re++)Fe=B(Z,N,re,E[re],M),Fe!==null&&(e&&Fe.alternate!==null&&Z.delete(Fe.key===null?re:Fe.key),b=f(Fe,b,re),X===null?G=Fe:X.sibling=Fe,X=Fe);return e&&Z.forEach(function(hr){return t(N,hr)}),Ee&&br(N,re),G}function K(N,b,E,M){var G=ee(E);if(typeof G!="function")throw Error(s(150));if(E=G.call(E),E==null)throw Error(s(151));for(var X=G=null,Z=b,re=b=0,Fe=null,fe=E.next();Z!==null&&!fe.done;re++,fe=E.next()){Z.index>re?(Fe=Z,Z=null):Fe=Z.sibling;var hr=I(N,Z,fe.value,M);if(hr===null){Z===null&&(Z=Fe);break}e&&Z&&hr.alternate===null&&t(N,Z),b=f(hr,b,re),X===null?G=hr:X.sibling=hr,X=hr,Z=Fe}if(fe.done)return n(N,Z),Ee&&br(N,re),G;if(Z===null){for(;!fe.done;re++,fe=E.next())fe=D(N,fe.value,M),fe!==null&&(b=f(fe,b,re),X===null?G=fe:X.sibling=fe,X=fe);return Ee&&br(N,re),G}for(Z=i(N,Z);!fe.done;re++,fe=E.next())fe=B(Z,N,re,fe.value,M),fe!==null&&(e&&fe.alternate!==null&&Z.delete(fe.key===null?re:fe.key),b=f(fe,b,re),X===null?G=fe:X.sibling=fe,X=fe);return e&&Z.forEach(function(am){return t(N,am)}),Ee&&br(N,re),G}function Ie(N,b,E,M){if(typeof E=="object"&&E!==null&&E.type===ae&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case ie:e:{for(var G=E.key,X=b;X!==null;){if(X.key===G){if(G=E.type,G===ae){if(X.tag===7){n(N,X.sibling),b=d(X,E.props.children),b.return=N,N=b;break e}}else if(X.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===qe&&Zu(G)===X.type){n(N,X.sibling),b=d(X,E.props),b.ref=Hn(N,X,E),b.return=N,N=b;break e}n(N,X);break}else t(N,X);X=X.sibling}E.type===ae?(b=Or(E.props.children,N.mode,M,E.key),b.return=N,N=b):(M=wi(E.type,E.key,E.props,null,N.mode,M),M.ref=Hn(N,b,E),M.return=N,N=M)}return m(N);case ne:e:{for(X=E.key;b!==null;){if(b.key===X)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){n(N,b.sibling),b=d(b,E.children||[]),b.return=N,N=b;break e}else{n(N,b);break}else t(N,b);b=b.sibling}b=$a(E,N.mode,M),b.return=N,N=b}return m(N);case qe:return X=E._init,Ie(N,b,X(E._payload),M)}if(bn(E))return H(N,b,E,M);if(ee(E))return K(N,b,E,M);Qs(N,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(n(N,b.sibling),b=d(b,E),b.return=N,N=b):(n(N,b),b=La(E,N.mode,M),b.return=N,N=b),m(N)):n(N,b)}return Ie}var Xr=ec(!0),tc=ec(!1),Ys=tr(null),Xs=null,Zr=null,qo=null;function Ho(){qo=Zr=Xs=null}function Ko(e){var t=Ys.current;_e(Ys),e._currentValue=t}function Jo(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function en(e,t){Xs=e,qo=Zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(st=!0),e.firstContext=null)}function vt(e){var t=e._currentValue;if(qo!==e)if(e={context:e,memoizedValue:t,next:null},Zr===null){if(Xs===null)throw Error(s(308));Zr=e,Xs.dependencies={lanes:0,firstContext:e}}else Zr=Zr.next=e;return t}var _r=null;function Go(e){_r===null?_r=[e]:_r.push(e)}function rc(e,t,n,i){var d=t.interleaved;return d===null?(n.next=n,Go(t)):(n.next=d.next,d.next=n),t.interleaved=n,Vt(e,i)}function Vt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sr=!1;function Qo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ir(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(ce&2)!==0){var d=i.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),i.pending=t,Vt(e,n)}return d=i.interleaved,d===null?(t.next=t,Go(i)):(t.next=d.next,d.next=t),i.interleaved=t,Vt(e,n)}function Zs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,uo(e,n)}}function sc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var d=null,f=null;if(n=n.firstBaseUpdate,n!==null){do{var m={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};f===null?d=f=m:f=f.next=m,n=n.next}while(n!==null);f===null?d=f=t:f=f.next=t}else d=f=t;n={baseState:i.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ei(e,t,n,i){var d=e.updateQueue;sr=!1;var f=d.firstBaseUpdate,m=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var w=x,C=w.next;w.next=null,m===null?f=C:m.next=C,m=w;var $=e.alternate;$!==null&&($=$.updateQueue,x=$.lastBaseUpdate,x!==m&&(x===null?$.firstBaseUpdate=C:x.next=C,$.lastBaseUpdate=w))}if(f!==null){var D=d.baseState;m=0,$=C=w=null,x=f;do{var I=x.lane,B=x.eventTime;if((i&I)===I){$!==null&&($=$.next={eventTime:B,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var H=e,K=x;switch(I=t,B=n,K.tag){case 1:if(H=K.payload,typeof H=="function"){D=H.call(B,D,I);break e}D=H;break e;case 3:H.flags=H.flags&-65537|128;case 0:if(H=K.payload,I=typeof H=="function"?H.call(B,D,I):H,I==null)break e;D=W({},D,I);break e;case 2:sr=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,I=d.effects,I===null?d.effects=[x]:I.push(x))}else B={eventTime:B,lane:I,tag:x.tag,payload:x.payload,callback:x.callback,next:null},$===null?(C=$=B,w=D):$=$.next=B,m|=I;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;I=x,x=I.next,I.next=null,d.lastBaseUpdate=I,d.shared.pending=null}}while(!0);if($===null&&(w=D),d.baseState=w,d.firstBaseUpdate=C,d.lastBaseUpdate=$,t=d.shared.interleaved,t!==null){d=t;do m|=d.lane,d=d.next;while(d!==t)}else f===null&&(d.shared.lanes=0);Sr|=m,e.lanes=m,e.memoizedState=D}}function ic(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],d=i.callback;if(d!==null){if(i.callback=null,i=n,typeof d!="function")throw Error(s(191,d));d.call(i)}}}var Kn={},Lt=tr(Kn),Jn=tr(Kn),Gn=tr(Kn);function jr(e){if(e===Kn)throw Error(s(174));return e}function Yo(e,t){switch(ve(Gn,t),ve(Jn,e),ve(Lt,Kn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yi(t,e)}_e(Lt),ve(Lt,t)}function tn(){_e(Lt),_e(Jn),_e(Gn)}function oc(e){jr(Gn.current);var t=jr(Lt.current),n=Yi(t,e.type);t!==n&&(ve(Jn,e),ve(Lt,n))}function Xo(e){Jn.current===e&&(_e(Lt),_e(Jn))}var Ce=tr(0);function ti(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zo=[];function ea(){for(var e=0;e<Zo.length;e++)Zo[e]._workInProgressVersionPrimary=null;Zo.length=0}var ri=q.ReactCurrentDispatcher,ta=q.ReactCurrentBatchConfig,kr=0,Oe=null,Ue=null,ze=null,ni=!1,Qn=!1,Yn=0,Op=0;function Ke(){throw Error(s(321))}function ra(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function na(e,t,n,i,d,f){if(kr=f,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=e===null||e.memoizedState===null?Ap:Ip,e=n(i,d),Qn){f=0;do{if(Qn=!1,Yn=0,25<=f)throw Error(s(301));f+=1,ze=Ue=null,t.updateQueue=null,ri.current=Lp,e=n(i,d)}while(Qn)}if(ri.current=oi,t=Ue!==null&&Ue.next!==null,kr=0,ze=Ue=Oe=null,ni=!1,t)throw Error(s(300));return e}function sa(){var e=Yn!==0;return Yn=0,e}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Oe.memoizedState=ze=e:ze=ze.next=e,ze}function xt(){if(Ue===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=ze===null?Oe.memoizedState:ze.next;if(t!==null)ze=t,Ue=e;else{if(e===null)throw Error(s(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},ze===null?Oe.memoizedState=ze=e:ze=ze.next=e}return ze}function Xn(e,t){return typeof t=="function"?t(e):t}function ia(e){var t=xt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var i=Ue,d=i.baseQueue,f=n.pending;if(f!==null){if(d!==null){var m=d.next;d.next=f.next,f.next=m}i.baseQueue=d=f,n.pending=null}if(d!==null){f=d.next,i=i.baseState;var x=m=null,w=null,C=f;do{var $=C.lane;if((kr&$)===$)w!==null&&(w=w.next={lane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),i=C.hasEagerState?C.eagerState:e(i,C.action);else{var D={lane:$,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null};w===null?(x=w=D,m=i):w=w.next=D,Oe.lanes|=$,Sr|=$}C=C.next}while(C!==null&&C!==f);w===null?m=i:w.next=x,jt(i,t.memoizedState)||(st=!0),t.memoizedState=i,t.baseState=m,t.baseQueue=w,n.lastRenderedState=i}if(e=n.interleaved,e!==null){d=e;do f=d.lane,Oe.lanes|=f,Sr|=f,d=d.next;while(d!==e)}else d===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function oa(e){var t=xt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,d=n.pending,f=t.memoizedState;if(d!==null){n.pending=null;var m=d=d.next;do f=e(f,m.action),m=m.next;while(m!==d);jt(f,t.memoizedState)||(st=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),n.lastRenderedState=f}return[f,i]}function ac(){}function lc(e,t){var n=Oe,i=xt(),d=t(),f=!jt(i.memoizedState,d);if(f&&(i.memoizedState=d,st=!0),i=i.queue,aa(dc.bind(null,n,i,e),[e]),i.getSnapshot!==t||f||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,Zn(9,cc.bind(null,n,i,d,t),void 0,null),Be===null)throw Error(s(349));(kr&30)!==0||uc(n,t,d)}return d}function uc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function cc(e,t,n,i){t.value=n,t.getSnapshot=i,hc(t)&&fc(e)}function dc(e,t,n){return n(function(){hc(t)&&fc(e)})}function hc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch{return!0}}function fc(e){var t=Vt(e,1);t!==null&&Ct(t,e,1,-1)}function pc(e){var t=$t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:e},t.queue=e,e=e.dispatch=Rp.bind(null,Oe,e),[t.memoizedState,e]}function Zn(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function mc(){return xt().memoizedState}function si(e,t,n,i){var d=$t();Oe.flags|=e,d.memoizedState=Zn(1|t,n,void 0,i===void 0?null:i)}function ii(e,t,n,i){var d=xt();i=i===void 0?null:i;var f=void 0;if(Ue!==null){var m=Ue.memoizedState;if(f=m.destroy,i!==null&&ra(i,m.deps)){d.memoizedState=Zn(t,n,f,i);return}}Oe.flags|=e,d.memoizedState=Zn(1|t,n,f,i)}function gc(e,t){return si(8390656,8,e,t)}function aa(e,t){return ii(2048,8,e,t)}function yc(e,t){return ii(4,2,e,t)}function vc(e,t){return ii(4,4,e,t)}function xc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wc(e,t,n){return n=n!=null?n.concat([e]):null,ii(4,4,xc.bind(null,t,e),n)}function la(){}function bc(e,t){var n=xt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&ra(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function _c(e,t){var n=xt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&ra(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function jc(e,t,n){return(kr&21)===0?(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=n):(jt(n,t)||(n=Zl(),Oe.lanes|=n,Sr|=n,e.baseState=!0),t)}function Tp(e,t){var n=ge;ge=n!==0&&4>n?n:4,e(!0);var i=ta.transition;ta.transition={};try{e(!1),t()}finally{ge=n,ta.transition=i}}function kc(){return xt().memoizedState}function Pp(e,t,n){var i=ur(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Sc(e))Nc(t,n);else if(n=rc(e,t,n,i),n!==null){var d=tt();Ct(n,e,i,d),Ec(n,t,i)}}function Rp(e,t,n){var i=ur(e),d={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sc(e))Nc(t,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var m=t.lastRenderedState,x=f(m,n);if(d.hasEagerState=!0,d.eagerState=x,jt(x,m)){var w=t.interleaved;w===null?(d.next=d,Go(t)):(d.next=w.next,w.next=d),t.interleaved=d;return}}catch{}finally{}n=rc(e,t,d,i),n!==null&&(d=tt(),Ct(n,e,i,d),Ec(n,t,i))}}function Sc(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function Nc(e,t){Qn=ni=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ec(e,t,n){if((n&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,uo(e,n)}}var oi={readContext:vt,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},Ap={readContext:vt,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:gc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,si(4194308,4,xc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return si(4194308,4,e,t)},useInsertionEffect:function(e,t){return si(4,2,e,t)},useMemo:function(e,t){var n=$t();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=$t();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Pp.bind(null,Oe,e),[i.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:pc,useDebugValue:la,useDeferredValue:function(e){return $t().memoizedState=e},useTransition:function(){var e=pc(!1),t=e[0];return e=Tp.bind(null,e[1]),$t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Oe,d=$t();if(Ee){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Be===null)throw Error(s(349));(kr&30)!==0||uc(i,t,n)}d.memoizedState=n;var f={value:n,getSnapshot:t};return d.queue=f,gc(dc.bind(null,i,f,e),[e]),i.flags|=2048,Zn(9,cc.bind(null,i,f,n,t),void 0,null),n},useId:function(){var e=$t(),t=Be.identifierPrefix;if(Ee){var n=Ft,i=Bt;n=(i&~(1<<32-_t(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Yn++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Op++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ip={readContext:vt,useCallback:bc,useContext:vt,useEffect:aa,useImperativeHandle:wc,useInsertionEffect:yc,useLayoutEffect:vc,useMemo:_c,useReducer:ia,useRef:mc,useState:function(){return ia(Xn)},useDebugValue:la,useDeferredValue:function(e){var t=xt();return jc(t,Ue.memoizedState,e)},useTransition:function(){var e=ia(Xn)[0],t=xt().memoizedState;return[e,t]},useMutableSource:ac,useSyncExternalStore:lc,useId:kc,unstable_isNewReconciler:!1},Lp={readContext:vt,useCallback:bc,useContext:vt,useEffect:aa,useImperativeHandle:wc,useInsertionEffect:yc,useLayoutEffect:vc,useMemo:_c,useReducer:oa,useRef:mc,useState:function(){return oa(Xn)},useDebugValue:la,useDeferredValue:function(e){var t=xt();return Ue===null?t.memoizedState=e:jc(t,Ue.memoizedState,e)},useTransition:function(){var e=oa(Xn)[0],t=xt().memoizedState;return[e,t]},useMutableSource:ac,useSyncExternalStore:lc,useId:kc,unstable_isNewReconciler:!1};function St(e,t){if(e&&e.defaultProps){t=W({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ua(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:W({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ai={isMounted:function(e){return(e=e._reactInternals)?yr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=tt(),d=ur(e),f=Wt(i,d);f.payload=t,n!=null&&(f.callback=n),t=ir(e,f,d),t!==null&&(Ct(t,e,d,i),Zs(t,e,d))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=tt(),d=ur(e),f=Wt(i,d);f.tag=1,f.payload=t,n!=null&&(f.callback=n),t=ir(e,f,d),t!==null&&(Ct(t,e,d,i),Zs(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tt(),i=ur(e),d=Wt(n,i);d.tag=2,t!=null&&(d.callback=t),t=ir(e,d,i),t!==null&&(Ct(t,e,i,n),Zs(t,e,i))}};function Cc(e,t,n,i,d,f,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,f,m):t.prototype&&t.prototype.isPureReactComponent?!Mn(n,i)||!Mn(d,f):!0}function Oc(e,t,n){var i=!1,d=rr,f=t.contextType;return typeof f=="object"&&f!==null?f=vt(f):(d=nt(t)?xr:He.current,i=t.contextTypes,f=(i=i!=null)?Jr(e,d):rr),t=new t(n,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=f),t}function Tc(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function ca(e,t,n,i){var d=e.stateNode;d.props=n,d.state=e.memoizedState,d.refs={},Qo(e);var f=t.contextType;typeof f=="object"&&f!==null?d.context=vt(f):(f=nt(t)?xr:He.current,d.context=Jr(e,f)),d.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(ua(e,t,f,n),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&ai.enqueueReplaceState(d,d.state,null),ei(e,n,d,i),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function rn(e,t){try{var n="",i=t;do n+=de(i),i=i.return;while(i);var d=n}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:d,digest:null}}function da(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var $p=typeof WeakMap=="function"?WeakMap:Map;function Pc(e,t,n){n=Wt(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){pi||(pi=!0,Ea=i),ha(e,t)},n}function Rc(e,t,n){n=Wt(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var d=t.value;n.payload=function(){return i(d)},n.callback=function(){ha(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(n.callback=function(){ha(e,t),typeof i!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var m=t.stack;this.componentDidCatch(t.value,{componentStack:m!==null?m:""})}),n}function Ac(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new $p;var d=new Set;i.set(t,d)}else d=i.get(t),d===void 0&&(d=new Set,i.set(t,d));d.has(n)||(d.add(n),e=Qp.bind(null,e,t,n),t.then(e,e))}function Ic(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Lc(e,t,n,i,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Wt(-1,1),t.tag=2,ir(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var Up=q.ReactCurrentOwner,st=!1;function et(e,t,n,i){t.child=e===null?tc(t,null,n,i):Xr(t,e.child,n,i)}function $c(e,t,n,i,d){n=n.render;var f=t.ref;return en(t,d),i=na(e,t,n,i,f,d),n=sa(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,qt(e,t,d)):(Ee&&n&&zo(t),t.flags|=1,et(e,t,i,d),t.child)}function Uc(e,t,n,i,d){if(e===null){var f=n.type;return typeof f=="function"&&!Ia(f)&&f.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=f,Dc(e,t,f,i,d)):(e=wi(n.type,null,i,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&d)===0){var m=f.memoizedProps;if(n=n.compare,n=n!==null?n:Mn,n(m,i)&&e.ref===t.ref)return qt(e,t,d)}return t.flags|=1,e=dr(f,i),e.ref=t.ref,e.return=t,t.child=e}function Dc(e,t,n,i,d){if(e!==null){var f=e.memoizedProps;if(Mn(f,i)&&e.ref===t.ref)if(st=!1,t.pendingProps=i=f,(e.lanes&d)!==0)(e.flags&131072)!==0&&(st=!0);else return t.lanes=e.lanes,qt(e,t,d)}return fa(e,t,n,i,d)}function Mc(e,t,n){var i=t.pendingProps,d=i.children,f=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(sn,ht),ht|=n;else{if((n&1073741824)===0)return e=f!==null?f.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(sn,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=f!==null?f.baseLanes:n,ve(sn,ht),ht|=i}else f!==null?(i=f.baseLanes|n,t.memoizedState=null):i=n,ve(sn,ht),ht|=i;return et(e,t,d,n),t.child}function zc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function fa(e,t,n,i,d){var f=nt(n)?xr:He.current;return f=Jr(t,f),en(t,d),n=na(e,t,n,i,f,d),i=sa(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,qt(e,t,d)):(Ee&&i&&zo(t),t.flags|=1,et(e,t,n,d),t.child)}function Bc(e,t,n,i,d){if(nt(n)){var f=!0;qs(t)}else f=!1;if(en(t,d),t.stateNode===null)ui(e,t),Oc(t,n,i),ca(t,n,i,d),i=!0;else if(e===null){var m=t.stateNode,x=t.memoizedProps;m.props=x;var w=m.context,C=n.contextType;typeof C=="object"&&C!==null?C=vt(C):(C=nt(n)?xr:He.current,C=Jr(t,C));var $=n.getDerivedStateFromProps,D=typeof $=="function"||typeof m.getSnapshotBeforeUpdate=="function";D||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==i||w!==C)&&Tc(t,m,i,C),sr=!1;var I=t.memoizedState;m.state=I,ei(t,i,m,d),w=t.memoizedState,x!==i||I!==w||rt.current||sr?(typeof $=="function"&&(ua(t,n,$,i),w=t.memoizedState),(x=sr||Cc(t,n,x,i,I,w,C))?(D||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=w),m.props=i,m.state=w,m.context=C,i=x):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{m=t.stateNode,nc(e,t),x=t.memoizedProps,C=t.type===t.elementType?x:St(t.type,x),m.props=C,D=t.pendingProps,I=m.context,w=n.contextType,typeof w=="object"&&w!==null?w=vt(w):(w=nt(n)?xr:He.current,w=Jr(t,w));var B=n.getDerivedStateFromProps;($=typeof B=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==D||I!==w)&&Tc(t,m,i,w),sr=!1,I=t.memoizedState,m.state=I,ei(t,i,m,d);var H=t.memoizedState;x!==D||I!==H||rt.current||sr?(typeof B=="function"&&(ua(t,n,B,i),H=t.memoizedState),(C=sr||Cc(t,n,C,i,I,H,w)||!1)?($||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(i,H,w),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(i,H,w)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=H),m.props=i,m.state=H,m.context=w,i=C):(typeof m.componentDidUpdate!="function"||x===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),i=!1)}return pa(e,t,n,i,f,d)}function pa(e,t,n,i,d,f){zc(e,t);var m=(t.flags&128)!==0;if(!i&&!m)return d&&Hu(t,n,!1),qt(e,t,f);i=t.stateNode,Up.current=t;var x=m&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&m?(t.child=Xr(t,e.child,null,f),t.child=Xr(t,null,x,f)):et(e,t,x,f),t.memoizedState=i.state,d&&Hu(t,n,!0),t.child}function Fc(e){var t=e.stateNode;t.pendingContext?Wu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wu(e,t.context,!1),Yo(e,t.containerInfo)}function Vc(e,t,n,i,d){return Yr(),Wo(d),t.flags|=256,et(e,t,n,i),t.child}var ma={dehydrated:null,treeContext:null,retryLane:0};function ga(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wc(e,t,n){var i=t.pendingProps,d=Ce.current,f=!1,m=(t.flags&128)!==0,x;if((x=m)||(x=e!==null&&e.memoizedState===null?!1:(d&2)!==0),x?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),ve(Ce,d&1),e===null)return Vo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(m=i.children,e=i.fallback,f?(i=t.mode,f=t.child,m={mode:"hidden",children:m},(i&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=m):f=bi(m,i,0,null),e=Or(e,i,n,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=ga(n),t.memoizedState=ma,e):ya(t,m));if(d=e.memoizedState,d!==null&&(x=d.dehydrated,x!==null))return Dp(e,t,m,i,x,d,n);if(f){f=i.fallback,m=t.mode,d=e.child,x=d.sibling;var w={mode:"hidden",children:i.children};return(m&1)===0&&t.child!==d?(i=t.child,i.childLanes=0,i.pendingProps=w,t.deletions=null):(i=dr(d,w),i.subtreeFlags=d.subtreeFlags&14680064),x!==null?f=dr(x,f):(f=Or(f,m,n,null),f.flags|=2),f.return=t,i.return=t,i.sibling=f,t.child=i,i=f,f=t.child,m=e.child.memoizedState,m=m===null?ga(n):{baseLanes:m.baseLanes|n,cachePool:null,transitions:m.transitions},f.memoizedState=m,f.childLanes=e.childLanes&~n,t.memoizedState=ma,i}return f=e.child,e=f.sibling,i=dr(f,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ya(e,t){return t=bi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function li(e,t,n,i){return i!==null&&Wo(i),Xr(t,e.child,null,n),e=ya(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dp(e,t,n,i,d,f,m){if(n)return t.flags&256?(t.flags&=-257,i=da(Error(s(422))),li(e,t,m,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=i.fallback,d=t.mode,i=bi({mode:"visible",children:i.children},d,0,null),f=Or(f,d,m,null),f.flags|=2,i.return=t,f.return=t,i.sibling=f,t.child=i,(t.mode&1)!==0&&Xr(t,e.child,null,m),t.child.memoizedState=ga(m),t.memoizedState=ma,f);if((t.mode&1)===0)return li(e,t,m,null);if(d.data==="$!"){if(i=d.nextSibling&&d.nextSibling.dataset,i)var x=i.dgst;return i=x,f=Error(s(419)),i=da(f,i,void 0),li(e,t,m,i)}if(x=(m&e.childLanes)!==0,st||x){if(i=Be,i!==null){switch(m&-m){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(i.suspendedLanes|m))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,Vt(e,d),Ct(i,e,d,-1))}return Aa(),i=da(Error(s(421))),li(e,t,m,i)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=Yp.bind(null,e),d._reactRetry=t,null):(e=f.treeContext,dt=er(d.nextSibling),ct=t,Ee=!0,kt=null,e!==null&&(gt[yt++]=Bt,gt[yt++]=Ft,gt[yt++]=wr,Bt=e.id,Ft=e.overflow,wr=t),t=ya(t,i.children),t.flags|=4096,t)}function qc(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Jo(e.return,t,n)}function va(e,t,n,i,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:d}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=i,f.tail=n,f.tailMode=d)}function Hc(e,t,n){var i=t.pendingProps,d=i.revealOrder,f=i.tail;if(et(e,t,i.children,n),i=Ce.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qc(e,n,t);else if(e.tag===19)qc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ve(Ce,i),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(n=t.child,d=null;n!==null;)e=n.alternate,e!==null&&ti(e)===null&&(d=n),n=n.sibling;n=d,n===null?(d=t.child,t.child=null):(d=n.sibling,n.sibling=null),va(t,!1,d,n,f);break;case"backwards":for(n=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&ti(e)===null){t.child=d;break}e=d.sibling,d.sibling=n,n=d,d=e}va(t,!0,n,null,f);break;case"together":va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ui(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Sr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=dr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mp(e,t,n){switch(t.tag){case 3:Fc(t),Yr();break;case 5:oc(t);break;case 1:nt(t.type)&&qs(t);break;case 4:Yo(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,d=t.memoizedProps.value;ve(Ys,i._currentValue),i._currentValue=d;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(ve(Ce,Ce.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Wc(e,t,n):(ve(Ce,Ce.current&1),e=qt(e,t,n),e!==null?e.sibling:null);ve(Ce,Ce.current&1);break;case 19:if(i=(n&t.childLanes)!==0,(e.flags&128)!==0){if(i)return Hc(e,t,n);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ve(Ce,Ce.current),i)break;return null;case 22:case 23:return t.lanes=0,Mc(e,t,n)}return qt(e,t,n)}var Kc,xa,Jc,Gc;Kc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},xa=function(){},Jc=function(e,t,n,i){var d=e.memoizedProps;if(d!==i){e=t.stateNode,jr(Lt.current);var f=null;switch(n){case"input":d=Ki(e,d),i=Ki(e,i),f=[];break;case"select":d=W({},d,{value:void 0}),i=W({},i,{value:void 0}),f=[];break;case"textarea":d=Qi(e,d),i=Qi(e,i),f=[];break;default:typeof d.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Fs)}Xi(n,i);var m;n=null;for(C in d)if(!i.hasOwnProperty(C)&&d.hasOwnProperty(C)&&d[C]!=null)if(C==="style"){var x=d[C];for(m in x)x.hasOwnProperty(m)&&(n||(n={}),n[m]="")}else C!=="dangerouslySetInnerHTML"&&C!=="children"&&C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(u.hasOwnProperty(C)?f||(f=[]):(f=f||[]).push(C,null));for(C in i){var w=i[C];if(x=d?.[C],i.hasOwnProperty(C)&&w!==x&&(w!=null||x!=null))if(C==="style")if(x){for(m in x)!x.hasOwnProperty(m)||w&&w.hasOwnProperty(m)||(n||(n={}),n[m]="");for(m in w)w.hasOwnProperty(m)&&x[m]!==w[m]&&(n||(n={}),n[m]=w[m])}else n||(f||(f=[]),f.push(C,n)),n=w;else C==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,x=x?x.__html:void 0,w!=null&&x!==w&&(f=f||[]).push(C,w)):C==="children"?typeof w!="string"&&typeof w!="number"||(f=f||[]).push(C,""+w):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&(u.hasOwnProperty(C)?(w!=null&&C==="onScroll"&&be("scroll",e),f||x===w||(f=[])):(f=f||[]).push(C,w))}n&&(f=f||[]).push("style",n);var C=f;(t.updateQueue=C)&&(t.flags|=4)}},Gc=function(e,t,n,i){n!==i&&(t.flags|=4)};function es(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var d=e.child;d!==null;)n|=d.lanes|d.childLanes,i|=d.subtreeFlags&14680064,i|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)n|=d.lanes|d.childLanes,i|=d.subtreeFlags,i|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function zp(e,t,n){var i=t.pendingProps;switch(Bo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return nt(t.type)&&Ws(),Je(t),null;case 3:return i=t.stateNode,tn(),_e(rt),_e(He),ea(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Gs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,kt!==null&&(Ta(kt),kt=null))),xa(e,t),Je(t),null;case 5:Xo(t);var d=jr(Gn.current);if(n=t.type,e!==null&&t.stateNode!=null)Jc(e,t,n,i,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(s(166));return Je(t),null}if(e=jr(Lt.current),Gs(t)){i=t.stateNode,n=t.type;var f=t.memoizedProps;switch(i[It]=t,i[Wn]=f,e=(t.mode&1)!==0,n){case"dialog":be("cancel",i),be("close",i);break;case"iframe":case"object":case"embed":be("load",i);break;case"video":case"audio":for(d=0;d<Bn.length;d++)be(Bn[d],i);break;case"source":be("error",i);break;case"img":case"image":case"link":be("error",i),be("load",i);break;case"details":be("toggle",i);break;case"input":Ol(i,f),be("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!f.multiple},be("invalid",i);break;case"textarea":Rl(i,f),be("invalid",i)}Xi(n,f),d=null;for(var m in f)if(f.hasOwnProperty(m)){var x=f[m];m==="children"?typeof x=="string"?i.textContent!==x&&(f.suppressHydrationWarning!==!0&&Bs(i.textContent,x,e),d=["children",x]):typeof x=="number"&&i.textContent!==""+x&&(f.suppressHydrationWarning!==!0&&Bs(i.textContent,x,e),d=["children",""+x]):u.hasOwnProperty(m)&&x!=null&&m==="onScroll"&&be("scroll",i)}switch(n){case"input":vs(i),Pl(i,f,!0);break;case"textarea":vs(i),Il(i);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(i.onclick=Fs)}i=d,t.updateQueue=i,i!==null&&(t.flags|=4)}else{m=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ll(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=m.createElement(n,{is:i.is}):(e=m.createElement(n),n==="select"&&(m=e,i.multiple?m.multiple=!0:i.size&&(m.size=i.size))):e=m.createElementNS(e,n),e[It]=t,e[Wn]=i,Kc(e,t,!1,!1),t.stateNode=e;e:{switch(m=Zi(n,i),n){case"dialog":be("cancel",e),be("close",e),d=i;break;case"iframe":case"object":case"embed":be("load",e),d=i;break;case"video":case"audio":for(d=0;d<Bn.length;d++)be(Bn[d],e);d=i;break;case"source":be("error",e),d=i;break;case"img":case"image":case"link":be("error",e),be("load",e),d=i;break;case"details":be("toggle",e),d=i;break;case"input":Ol(e,i),d=Ki(e,i),be("invalid",e);break;case"option":d=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},d=W({},i,{value:void 0}),be("invalid",e);break;case"textarea":Rl(e,i),d=Qi(e,i),be("invalid",e);break;default:d=i}Xi(n,d),x=d;for(f in x)if(x.hasOwnProperty(f)){var w=x[f];f==="style"?Dl(e,w):f==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&$l(e,w)):f==="children"?typeof w=="string"?(n!=="textarea"||w!=="")&&_n(e,w):typeof w=="number"&&_n(e,""+w):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(u.hasOwnProperty(f)?w!=null&&f==="onScroll"&&be("scroll",e):w!=null&&T(e,f,w,m))}switch(n){case"input":vs(e),Pl(e,i,!1);break;case"textarea":vs(e),Il(e);break;case"option":i.value!=null&&e.setAttribute("value",""+me(i.value));break;case"select":e.multiple=!!i.multiple,f=i.value,f!=null?$r(e,!!i.multiple,f,!1):i.defaultValue!=null&&$r(e,!!i.multiple,i.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Fs)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Je(t),null;case 6:if(e&&t.stateNode!=null)Gc(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(s(166));if(n=jr(Gn.current),jr(Lt.current),Gs(t)){if(i=t.stateNode,n=t.memoizedProps,i[It]=t,(f=i.nodeValue!==n)&&(e=ct,e!==null))switch(e.tag){case 3:Bs(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bs(i.nodeValue,n,(e.mode&1)!==0)}f&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[It]=t,t.stateNode=i}return Je(t),null;case 13:if(_e(Ce),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&dt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Xu(),Yr(),t.flags|=98560,f=!1;else if(f=Gs(t),i!==null&&i.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[It]=t}else Yr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Je(t),f=!1}else kt!==null&&(Ta(kt),kt=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ce.current&1)!==0?De===0&&(De=3):Aa())),t.updateQueue!==null&&(t.flags|=4),Je(t),null);case 4:return tn(),xa(e,t),e===null&&Fn(t.stateNode.containerInfo),Je(t),null;case 10:return Ko(t.type._context),Je(t),null;case 17:return nt(t.type)&&Ws(),Je(t),null;case 19:if(_e(Ce),f=t.memoizedState,f===null)return Je(t),null;if(i=(t.flags&128)!==0,m=f.rendering,m===null)if(i)es(f,!1);else{if(De!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(m=ti(e),m!==null){for(t.flags|=128,es(f,!1),i=m.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)f=n,e=i,f.flags&=14680066,m=f.alternate,m===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=m.childLanes,f.lanes=m.lanes,f.child=m.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=m.memoizedProps,f.memoizedState=m.memoizedState,f.updateQueue=m.updateQueue,f.type=m.type,e=m.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ve(Ce,Ce.current&1|2),t.child}e=e.sibling}f.tail!==null&&Ae()>on&&(t.flags|=128,i=!0,es(f,!1),t.lanes=4194304)}else{if(!i)if(e=ti(m),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),es(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ee)return Je(t),null}else 2*Ae()-f.renderingStartTime>on&&n!==1073741824&&(t.flags|=128,i=!0,es(f,!1),t.lanes=4194304);f.isBackwards?(m.sibling=t.child,t.child=m):(n=f.last,n!==null?n.sibling=m:t.child=m,f.last=m)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Ae(),t.sibling=null,n=Ce.current,ve(Ce,i?n&1|2:n&1),t):(Je(t),null);case 22:case 23:return Ra(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(ht&1073741824)!==0&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function Bp(e,t){switch(Bo(t),t.tag){case 1:return nt(t.type)&&Ws(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tn(),_e(rt),_e(He),ea(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Xo(t),null;case 13:if(_e(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Yr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Ce),null;case 4:return tn(),null;case 10:return Ko(t.type._context),null;case 22:case 23:return Ra(),null;case 24:return null;default:return null}}var ci=!1,Ge=!1,Fp=typeof WeakSet=="function"?WeakSet:Set,V=null;function nn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Pe(e,t,i)}else n.current=null}function wa(e,t,n){try{n()}catch(i){Pe(e,t,i)}}var Qc=!1;function Vp(e,t){if(Ro=Ts,e=Cu(),ko(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var d=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{n.nodeType,f.nodeType}catch{n=null;break e}var m=0,x=-1,w=-1,C=0,$=0,D=e,I=null;t:for(;;){for(var B;D!==n||d!==0&&D.nodeType!==3||(x=m+d),D!==f||i!==0&&D.nodeType!==3||(w=m+i),D.nodeType===3&&(m+=D.nodeValue.length),(B=D.firstChild)!==null;)I=D,D=B;for(;;){if(D===e)break t;if(I===n&&++C===d&&(x=m),I===f&&++$===i&&(w=m),(B=D.nextSibling)!==null)break;D=I,I=D.parentNode}D=B}n=x===-1||w===-1?null:{start:x,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ao={focusedElem:e,selectionRange:n},Ts=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var H=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(H!==null){var K=H.memoizedProps,Ie=H.memoizedState,N=t.stateNode,b=N.getSnapshotBeforeUpdate(t.elementType===t.type?K:St(t.type,K),Ie);N.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(M){Pe(t,t.return,M)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return H=Qc,Qc=!1,H}function ts(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var d=i=i.next;do{if((d.tag&e)===e){var f=d.destroy;d.destroy=void 0,f!==void 0&&wa(t,n,f)}d=d.next}while(d!==i)}}function di(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function ba(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Yc(e){var t=e.alternate;t!==null&&(e.alternate=null,Yc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[It],delete t[Wn],delete t[Uo],delete t[Sp],delete t[Np])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xc(e){return e.tag===5||e.tag===3||e.tag===4}function Zc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _a(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Fs));else if(i!==4&&(e=e.child,e!==null))for(_a(e,t,n),e=e.sibling;e!==null;)_a(e,t,n),e=e.sibling}function ja(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(ja(e,t,n),e=e.sibling;e!==null;)ja(e,t,n),e=e.sibling}var Ve=null,Nt=!1;function or(e,t,n){for(n=n.child;n!==null;)ed(e,t,n),n=n.sibling}function ed(e,t,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(ks,n)}catch{}switch(n.tag){case 5:Ge||nn(n,t);case 6:var i=Ve,d=Nt;Ve=null,or(e,t,n),Ve=i,Nt=d,Ve!==null&&(Nt?(e=Ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(Nt?(e=Ve,n=n.stateNode,e.nodeType===8?$o(e.parentNode,n):e.nodeType===1&&$o(e,n),An(e)):$o(Ve,n.stateNode));break;case 4:i=Ve,d=Nt,Ve=n.stateNode.containerInfo,Nt=!0,or(e,t,n),Ve=i,Nt=d;break;case 0:case 11:case 14:case 15:if(!Ge&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){d=i=i.next;do{var f=d,m=f.destroy;f=f.tag,m!==void 0&&((f&2)!==0||(f&4)!==0)&&wa(n,t,m),d=d.next}while(d!==i)}or(e,t,n);break;case 1:if(!Ge&&(nn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(x){Pe(n,t,x)}or(e,t,n);break;case 21:or(e,t,n);break;case 22:n.mode&1?(Ge=(i=Ge)||n.memoizedState!==null,or(e,t,n),Ge=i):or(e,t,n);break;default:or(e,t,n)}}function td(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Fp),t.forEach(function(i){var d=Xp.bind(null,e,i);n.has(i)||(n.add(i),i.then(d,d))})}}function Et(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var d=n[i];try{var f=e,m=t,x=m;e:for(;x!==null;){switch(x.tag){case 5:Ve=x.stateNode,Nt=!1;break e;case 3:Ve=x.stateNode.containerInfo,Nt=!0;break e;case 4:Ve=x.stateNode.containerInfo,Nt=!0;break e}x=x.return}if(Ve===null)throw Error(s(160));ed(f,m,d),Ve=null,Nt=!1;var w=d.alternate;w!==null&&(w.return=null),d.return=null}catch(C){Pe(d,t,C)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rd(t,e),t=t.sibling}function rd(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Et(t,e),Ut(e),i&4){try{ts(3,e,e.return),di(3,e)}catch(K){Pe(e,e.return,K)}try{ts(5,e,e.return)}catch(K){Pe(e,e.return,K)}}break;case 1:Et(t,e),Ut(e),i&512&&n!==null&&nn(n,n.return);break;case 5:if(Et(t,e),Ut(e),i&512&&n!==null&&nn(n,n.return),e.flags&32){var d=e.stateNode;try{_n(d,"")}catch(K){Pe(e,e.return,K)}}if(i&4&&(d=e.stateNode,d!=null)){var f=e.memoizedProps,m=n!==null?n.memoizedProps:f,x=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{x==="input"&&f.type==="radio"&&f.name!=null&&Tl(d,f),Zi(x,m);var C=Zi(x,f);for(m=0;m<w.length;m+=2){var $=w[m],D=w[m+1];$==="style"?Dl(d,D):$==="dangerouslySetInnerHTML"?$l(d,D):$==="children"?_n(d,D):T(d,$,D,C)}switch(x){case"input":Ji(d,f);break;case"textarea":Al(d,f);break;case"select":var I=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var B=f.value;B!=null?$r(d,!!f.multiple,B,!1):I!==!!f.multiple&&(f.defaultValue!=null?$r(d,!!f.multiple,f.defaultValue,!0):$r(d,!!f.multiple,f.multiple?[]:"",!1))}d[Wn]=f}catch(K){Pe(e,e.return,K)}}break;case 6:if(Et(t,e),Ut(e),i&4){if(e.stateNode===null)throw Error(s(162));d=e.stateNode,f=e.memoizedProps;try{d.nodeValue=f}catch(K){Pe(e,e.return,K)}}break;case 3:if(Et(t,e),Ut(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{An(t.containerInfo)}catch(K){Pe(e,e.return,K)}break;case 4:Et(t,e),Ut(e);break;case 13:Et(t,e),Ut(e),d=e.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(Na=Ae())),i&4&&td(e);break;case 22:if($=n!==null&&n.memoizedState!==null,e.mode&1?(Ge=(C=Ge)||$,Et(t,e),Ge=C):Et(t,e),Ut(e),i&8192){if(C=e.memoizedState!==null,(e.stateNode.isHidden=C)&&!$&&(e.mode&1)!==0)for(V=e,$=e.child;$!==null;){for(D=V=$;V!==null;){switch(I=V,B=I.child,I.tag){case 0:case 11:case 14:case 15:ts(4,I,I.return);break;case 1:nn(I,I.return);var H=I.stateNode;if(typeof H.componentWillUnmount=="function"){i=I,n=I.return;try{t=i,H.props=t.memoizedProps,H.state=t.memoizedState,H.componentWillUnmount()}catch(K){Pe(i,n,K)}}break;case 5:nn(I,I.return);break;case 22:if(I.memoizedState!==null){id(D);continue}}B!==null?(B.return=I,V=B):id(D)}$=$.sibling}e:for($=null,D=e;;){if(D.tag===5){if($===null){$=D;try{d=D.stateNode,C?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(x=D.stateNode,w=D.memoizedProps.style,m=w!=null&&w.hasOwnProperty("display")?w.display:null,x.style.display=Ul("display",m))}catch(K){Pe(e,e.return,K)}}}else if(D.tag===6){if($===null)try{D.stateNode.nodeValue=C?"":D.memoizedProps}catch(K){Pe(e,e.return,K)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===e)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===e)break e;for(;D.sibling===null;){if(D.return===null||D.return===e)break e;$===D&&($=null),D=D.return}$===D&&($=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:Et(t,e),Ut(e),i&4&&td(e);break;case 21:break;default:Et(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Xc(n)){var i=n;break e}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var d=i.stateNode;i.flags&32&&(_n(d,""),i.flags&=-33);var f=Zc(e);ja(e,f,d);break;case 3:case 4:var m=i.stateNode.containerInfo,x=Zc(e);_a(e,x,m);break;default:throw Error(s(161))}}catch(w){Pe(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wp(e,t,n){V=e,nd(e)}function nd(e,t,n){for(var i=(e.mode&1)!==0;V!==null;){var d=V,f=d.child;if(d.tag===22&&i){var m=d.memoizedState!==null||ci;if(!m){var x=d.alternate,w=x!==null&&x.memoizedState!==null||Ge;x=ci;var C=Ge;if(ci=m,(Ge=w)&&!C)for(V=d;V!==null;)m=V,w=m.child,m.tag===22&&m.memoizedState!==null?od(d):w!==null?(w.return=m,V=w):od(d);for(;f!==null;)V=f,nd(f),f=f.sibling;V=d,ci=x,Ge=C}sd(e)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,V=f):sd(e)}}function sd(e){for(;V!==null;){var t=V;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ge||di(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Ge)if(n===null)i.componentDidMount();else{var d=t.elementType===t.type?n.memoizedProps:St(t.type,n.memoizedProps);i.componentDidUpdate(d,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&ic(t,f,i);break;case 3:var m=t.updateQueue;if(m!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ic(t,m,n)}break;case 5:var x=t.stateNode;if(n===null&&t.flags&4){n=x;var w=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&n.focus();break;case"img":w.src&&(n.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var C=t.alternate;if(C!==null){var $=C.memoizedState;if($!==null){var D=$.dehydrated;D!==null&&An(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Ge||t.flags&512&&ba(t)}catch(I){Pe(t,t.return,I)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function id(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function od(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{di(4,t)}catch(w){Pe(t,n,w)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var d=t.return;try{i.componentDidMount()}catch(w){Pe(t,d,w)}}var f=t.return;try{ba(t)}catch(w){Pe(t,f,w)}break;case 5:var m=t.return;try{ba(t)}catch(w){Pe(t,m,w)}}}catch(w){Pe(t,t.return,w)}if(t===e){V=null;break}var x=t.sibling;if(x!==null){x.return=t.return,V=x;break}V=t.return}}var qp=Math.ceil,hi=q.ReactCurrentDispatcher,ka=q.ReactCurrentOwner,wt=q.ReactCurrentBatchConfig,ce=0,Be=null,Le=null,We=0,ht=0,sn=tr(0),De=0,rs=null,Sr=0,fi=0,Sa=0,ns=null,it=null,Na=0,on=1/0,Ht=null,pi=!1,Ea=null,ar=null,mi=!1,lr=null,gi=0,ss=0,Ca=null,yi=-1,vi=0;function tt(){return(ce&6)!==0?Ae():yi!==-1?yi:yi=Ae()}function ur(e){return(e.mode&1)===0?1:(ce&2)!==0&&We!==0?We&-We:Cp.transition!==null?(vi===0&&(vi=Zl()),vi):(e=ge,e!==0||(e=window.event,e=e===void 0?16:lu(e.type)),e)}function Ct(e,t,n,i){if(50<ss)throw ss=0,Ca=null,Error(s(185));Cn(e,n,i),((ce&2)===0||e!==Be)&&(e===Be&&((ce&2)===0&&(fi|=n),De===4&&cr(e,We)),ot(e,i),n===1&&ce===0&&(t.mode&1)===0&&(on=Ae()+500,Hs&&nr()))}function ot(e,t){var n=e.callbackNode;Cf(e,t);var i=Es(e,e===Be?We:0);if(i===0)n!==null&&Ql(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Ql(n),t===1)e.tag===0?Ep(ld.bind(null,e)):Ku(ld.bind(null,e)),jp(function(){(ce&6)===0&&nr()}),n=null;else{switch(eu(i)){case 1:n=oo;break;case 4:n=Yl;break;case 16:n=js;break;case 536870912:n=Xl;break;default:n=js}n=gd(n,ad.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ad(e,t){if(yi=-1,vi=0,(ce&6)!==0)throw Error(s(327));var n=e.callbackNode;if(an()&&e.callbackNode!==n)return null;var i=Es(e,e===Be?We:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=xi(e,i);else{t=i;var d=ce;ce|=2;var f=cd();(Be!==e||We!==t)&&(Ht=null,on=Ae()+500,Er(e,t));do try{Jp();break}catch(x){ud(e,x)}while(!0);Ho(),hi.current=f,ce=d,Le!==null?t=0:(Be=null,We=0,t=De)}if(t!==0){if(t===2&&(d=ao(e),d!==0&&(i=d,t=Oa(e,d))),t===1)throw n=rs,Er(e,0),cr(e,i),ot(e,Ae()),n;if(t===6)cr(e,i);else{if(d=e.current.alternate,(i&30)===0&&!Hp(d)&&(t=xi(e,i),t===2&&(f=ao(e),f!==0&&(i=f,t=Oa(e,f))),t===1))throw n=rs,Er(e,0),cr(e,i),ot(e,Ae()),n;switch(e.finishedWork=d,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:Cr(e,it,Ht);break;case 3:if(cr(e,i),(i&130023424)===i&&(t=Na+500-Ae(),10<t)){if(Es(e,0)!==0)break;if(d=e.suspendedLanes,(d&i)!==i){tt(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=Lo(Cr.bind(null,e,it,Ht),t);break}Cr(e,it,Ht);break;case 4:if(cr(e,i),(i&4194240)===i)break;for(t=e.eventTimes,d=-1;0<i;){var m=31-_t(i);f=1<<m,m=t[m],m>d&&(d=m),i&=~f}if(i=d,i=Ae()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*qp(i/1960))-i,10<i){e.timeoutHandle=Lo(Cr.bind(null,e,it,Ht),i);break}Cr(e,it,Ht);break;case 5:Cr(e,it,Ht);break;default:throw Error(s(329))}}}return ot(e,Ae()),e.callbackNode===n?ad.bind(null,e):null}function Oa(e,t){var n=ns;return e.current.memoizedState.isDehydrated&&(Er(e,t).flags|=256),e=xi(e,t),e!==2&&(t=it,it=n,t!==null&&Ta(t)),e}function Ta(e){it===null?it=e:it.push.apply(it,e)}function Hp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var d=n[i],f=d.getSnapshot;d=d.value;try{if(!jt(f(),d))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cr(e,t){for(t&=~Sa,t&=~fi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_t(t),i=1<<n;e[n]=-1,t&=~i}}function ld(e){if((ce&6)!==0)throw Error(s(327));an();var t=Es(e,0);if((t&1)===0)return ot(e,Ae()),null;var n=xi(e,t);if(e.tag!==0&&n===2){var i=ao(e);i!==0&&(t=i,n=Oa(e,i))}if(n===1)throw n=rs,Er(e,0),cr(e,t),ot(e,Ae()),n;if(n===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cr(e,it,Ht),ot(e,Ae()),null}function Pa(e,t){var n=ce;ce|=1;try{return e(t)}finally{ce=n,ce===0&&(on=Ae()+500,Hs&&nr())}}function Nr(e){lr!==null&&lr.tag===0&&(ce&6)===0&&an();var t=ce;ce|=1;var n=wt.transition,i=ge;try{if(wt.transition=null,ge=1,e)return e()}finally{ge=i,wt.transition=n,ce=t,(ce&6)===0&&nr()}}function Ra(){ht=sn.current,_e(sn)}function Er(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,_p(n)),Le!==null)for(n=Le.return;n!==null;){var i=n;switch(Bo(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ws();break;case 3:tn(),_e(rt),_e(He),ea();break;case 5:Xo(i);break;case 4:tn();break;case 13:_e(Ce);break;case 19:_e(Ce);break;case 10:Ko(i.type._context);break;case 22:case 23:Ra()}n=n.return}if(Be=e,Le=e=dr(e.current,null),We=ht=t,De=0,rs=null,Sa=fi=Sr=0,it=ns=null,_r!==null){for(t=0;t<_r.length;t++)if(n=_r[t],i=n.interleaved,i!==null){n.interleaved=null;var d=i.next,f=n.pending;if(f!==null){var m=f.next;f.next=d,i.next=m}n.pending=i}_r=null}return e}function ud(e,t){do{var n=Le;try{if(Ho(),ri.current=oi,ni){for(var i=Oe.memoizedState;i!==null;){var d=i.queue;d!==null&&(d.pending=null),i=i.next}ni=!1}if(kr=0,ze=Ue=Oe=null,Qn=!1,Yn=0,ka.current=null,n===null||n.return===null){De=1,rs=t,Le=null;break}e:{var f=e,m=n.return,x=n,w=t;if(t=We,x.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var C=w,$=x,D=$.tag;if(($.mode&1)===0&&(D===0||D===11||D===15)){var I=$.alternate;I?($.updateQueue=I.updateQueue,$.memoizedState=I.memoizedState,$.lanes=I.lanes):($.updateQueue=null,$.memoizedState=null)}var B=Ic(m);if(B!==null){B.flags&=-257,Lc(B,m,x,f,t),B.mode&1&&Ac(f,C,t),t=B,w=C;var H=t.updateQueue;if(H===null){var K=new Set;K.add(w),t.updateQueue=K}else H.add(w);break e}else{if((t&1)===0){Ac(f,C,t),Aa();break e}w=Error(s(426))}}else if(Ee&&x.mode&1){var Ie=Ic(m);if(Ie!==null){(Ie.flags&65536)===0&&(Ie.flags|=256),Lc(Ie,m,x,f,t),Wo(rn(w,x));break e}}f=w=rn(w,x),De!==4&&(De=2),ns===null?ns=[f]:ns.push(f),f=m;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var N=Pc(f,w,t);sc(f,N);break e;case 1:x=w;var b=f.type,E=f.stateNode;if((f.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ar===null||!ar.has(E)))){f.flags|=65536,t&=-t,f.lanes|=t;var M=Rc(f,x,t);sc(f,M);break e}}f=f.return}while(f!==null)}hd(n)}catch(G){t=G,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function cd(){var e=hi.current;return hi.current=oi,e===null?oi:e}function Aa(){(De===0||De===3||De===2)&&(De=4),Be===null||(Sr&268435455)===0&&(fi&268435455)===0||cr(Be,We)}function xi(e,t){var n=ce;ce|=2;var i=cd();(Be!==e||We!==t)&&(Ht=null,Er(e,t));do try{Kp();break}catch(d){ud(e,d)}while(!0);if(Ho(),ce=n,hi.current=i,Le!==null)throw Error(s(261));return Be=null,We=0,De}function Kp(){for(;Le!==null;)dd(Le)}function Jp(){for(;Le!==null&&!xf();)dd(Le)}function dd(e){var t=md(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?hd(e):Le=t,ka.current=null}function hd(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=zp(n,t,ht),n!==null){Le=n;return}}else{if(n=Bp(n,t),n!==null){n.flags&=32767,Le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Le=null;return}}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);De===0&&(De=5)}function Cr(e,t,n){var i=ge,d=wt.transition;try{wt.transition=null,ge=1,Gp(e,t,n,i)}finally{wt.transition=d,ge=i}return null}function Gp(e,t,n,i){do an();while(lr!==null);if((ce&6)!==0)throw Error(s(327));n=e.finishedWork;var d=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var f=n.lanes|n.childLanes;if(Of(e,f),e===Be&&(Le=Be=null,We=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||mi||(mi=!0,gd(js,function(){return an(),null})),f=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||f){f=wt.transition,wt.transition=null;var m=ge;ge=1;var x=ce;ce|=4,ka.current=null,Vp(e,n),rd(n,e),mp(Ao),Ts=!!Ro,Ao=Ro=null,e.current=n,Wp(n),wf(),ce=x,ge=m,wt.transition=f}else e.current=n;if(mi&&(mi=!1,lr=e,gi=d),f=e.pendingLanes,f===0&&(ar=null),jf(n.stateNode),ot(e,Ae()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)d=t[n],i(d.value,{componentStack:d.stack,digest:d.digest});if(pi)throw pi=!1,e=Ea,Ea=null,e;return(gi&1)!==0&&e.tag!==0&&an(),f=e.pendingLanes,(f&1)!==0?e===Ca?ss++:(ss=0,Ca=e):ss=0,nr(),null}function an(){if(lr!==null){var e=eu(gi),t=wt.transition,n=ge;try{if(wt.transition=null,ge=16>e?16:e,lr===null)var i=!1;else{if(e=lr,lr=null,gi=0,(ce&6)!==0)throw Error(s(331));var d=ce;for(ce|=4,V=e.current;V!==null;){var f=V,m=f.child;if((V.flags&16)!==0){var x=f.deletions;if(x!==null){for(var w=0;w<x.length;w++){var C=x[w];for(V=C;V!==null;){var $=V;switch($.tag){case 0:case 11:case 15:ts(8,$,f)}var D=$.child;if(D!==null)D.return=$,V=D;else for(;V!==null;){$=V;var I=$.sibling,B=$.return;if(Yc($),$===C){V=null;break}if(I!==null){I.return=B,V=I;break}V=B}}}var H=f.alternate;if(H!==null){var K=H.child;if(K!==null){H.child=null;do{var Ie=K.sibling;K.sibling=null,K=Ie}while(K!==null)}}V=f}}if((f.subtreeFlags&2064)!==0&&m!==null)m.return=f,V=m;else e:for(;V!==null;){if(f=V,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:ts(9,f,f.return)}var N=f.sibling;if(N!==null){N.return=f.return,V=N;break e}V=f.return}}var b=e.current;for(V=b;V!==null;){m=V;var E=m.child;if((m.subtreeFlags&2064)!==0&&E!==null)E.return=m,V=E;else e:for(m=b;V!==null;){if(x=V,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:di(9,x)}}catch(G){Pe(x,x.return,G)}if(x===m){V=null;break e}var M=x.sibling;if(M!==null){M.return=x.return,V=M;break e}V=x.return}}if(ce=d,nr(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(ks,e)}catch{}i=!0}return i}finally{ge=n,wt.transition=t}}return!1}function fd(e,t,n){t=rn(n,t),t=Pc(e,t,1),e=ir(e,t,1),t=tt(),e!==null&&(Cn(e,1,t),ot(e,t))}function Pe(e,t,n){if(e.tag===3)fd(e,e,n);else for(;t!==null;){if(t.tag===3){fd(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ar===null||!ar.has(i))){e=rn(n,e),e=Rc(t,e,1),t=ir(t,e,1),e=tt(),t!==null&&(Cn(t,1,e),ot(t,e));break}}t=t.return}}function Qp(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=tt(),e.pingedLanes|=e.suspendedLanes&n,Be===e&&(We&n)===n&&(De===4||De===3&&(We&130023424)===We&&500>Ae()-Na?Er(e,0):Sa|=n),ot(e,t)}function pd(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ns,Ns<<=1,(Ns&130023424)===0&&(Ns=4194304)));var n=tt();e=Vt(e,t),e!==null&&(Cn(e,t,n),ot(e,n))}function Yp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),pd(e,n)}function Xp(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,d=e.memoizedState;d!==null&&(n=d.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}i!==null&&i.delete(t),pd(e,n)}var md;md=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||rt.current)st=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return st=!1,Mp(e,t,n);st=(e.flags&131072)!==0}else st=!1,Ee&&(t.flags&1048576)!==0&&Ju(t,Js,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;ui(e,t),e=t.pendingProps;var d=Jr(t,He.current);en(t,n),d=na(null,t,i,e,d,n);var f=sa();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nt(i)?(f=!0,qs(t)):f=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Qo(t),d.updater=ai,t.stateNode=d,d._reactInternals=t,ca(t,i,e,n),t=pa(null,t,i,!0,f,n)):(t.tag=0,Ee&&f&&zo(t),et(null,t,d,n),t=t.child),t;case 16:i=t.elementType;e:{switch(ui(e,t),e=t.pendingProps,d=i._init,i=d(i._payload),t.type=i,d=t.tag=em(i),e=St(i,e),d){case 0:t=fa(null,t,i,e,n);break e;case 1:t=Bc(null,t,i,e,n);break e;case 11:t=$c(null,t,i,e,n);break e;case 14:t=Uc(null,t,i,St(i.type,e),n);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,d=t.pendingProps,d=t.elementType===i?d:St(i,d),fa(e,t,i,d,n);case 1:return i=t.type,d=t.pendingProps,d=t.elementType===i?d:St(i,d),Bc(e,t,i,d,n);case 3:e:{if(Fc(t),e===null)throw Error(s(387));i=t.pendingProps,f=t.memoizedState,d=f.element,nc(e,t),ei(t,i,null,n);var m=t.memoizedState;if(i=m.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){d=rn(Error(s(423)),t),t=Vc(e,t,i,n,d);break e}else if(i!==d){d=rn(Error(s(424)),t),t=Vc(e,t,i,n,d);break e}else for(dt=er(t.stateNode.containerInfo.firstChild),ct=t,Ee=!0,kt=null,n=tc(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yr(),i===d){t=qt(e,t,n);break e}et(e,t,i,n)}t=t.child}return t;case 5:return oc(t),e===null&&Vo(t),i=t.type,d=t.pendingProps,f=e!==null?e.memoizedProps:null,m=d.children,Io(i,d)?m=null:f!==null&&Io(i,f)&&(t.flags|=32),zc(e,t),et(e,t,m,n),t.child;case 6:return e===null&&Vo(t),null;case 13:return Wc(e,t,n);case 4:return Yo(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Xr(t,null,i,n):et(e,t,i,n),t.child;case 11:return i=t.type,d=t.pendingProps,d=t.elementType===i?d:St(i,d),$c(e,t,i,d,n);case 7:return et(e,t,t.pendingProps,n),t.child;case 8:return et(e,t,t.pendingProps.children,n),t.child;case 12:return et(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,d=t.pendingProps,f=t.memoizedProps,m=d.value,ve(Ys,i._currentValue),i._currentValue=m,f!==null)if(jt(f.value,m)){if(f.children===d.children&&!rt.current){t=qt(e,t,n);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var x=f.dependencies;if(x!==null){m=f.child;for(var w=x.firstContext;w!==null;){if(w.context===i){if(f.tag===1){w=Wt(-1,n&-n),w.tag=2;var C=f.updateQueue;if(C!==null){C=C.shared;var $=C.pending;$===null?w.next=w:(w.next=$.next,$.next=w),C.pending=w}}f.lanes|=n,w=f.alternate,w!==null&&(w.lanes|=n),Jo(f.return,n,t),x.lanes|=n;break}w=w.next}}else if(f.tag===10)m=f.type===t.type?null:f.child;else if(f.tag===18){if(m=f.return,m===null)throw Error(s(341));m.lanes|=n,x=m.alternate,x!==null&&(x.lanes|=n),Jo(m,n,t),m=f.sibling}else m=f.child;if(m!==null)m.return=f;else for(m=f;m!==null;){if(m===t){m=null;break}if(f=m.sibling,f!==null){f.return=m.return,m=f;break}m=m.return}f=m}et(e,t,d.children,n),t=t.child}return t;case 9:return d=t.type,i=t.pendingProps.children,en(t,n),d=vt(d),i=i(d),t.flags|=1,et(e,t,i,n),t.child;case 14:return i=t.type,d=St(i,t.pendingProps),d=St(i.type,d),Uc(e,t,i,d,n);case 15:return Dc(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,d=t.pendingProps,d=t.elementType===i?d:St(i,d),ui(e,t),t.tag=1,nt(i)?(e=!0,qs(t)):e=!1,en(t,n),Oc(t,i,d),ca(t,i,d,n),pa(null,t,i,!0,e,n);case 19:return Hc(e,t,n);case 22:return Mc(e,t,n)}throw Error(s(156,t.tag))};function gd(e,t){return Gl(e,t)}function Zp(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,n,i){return new Zp(e,t,n,i)}function Ia(e){return e=e.prototype,!(!e||!e.isReactComponent)}function em(e){if(typeof e=="function")return Ia(e)?1:0;if(e!=null){if(e=e.$$typeof,e===se)return 11;if(e===Ze)return 14}return 2}function dr(e,t){var n=e.alternate;return n===null?(n=bt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function wi(e,t,n,i,d,f){var m=2;if(i=e,typeof e=="function")Ia(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case ae:return Or(n.children,d,f,t);case je:m=8,d|=8;break;case J:return e=bt(12,n,t,d|2),e.elementType=J,e.lanes=f,e;case ke:return e=bt(13,n,t,d),e.elementType=ke,e.lanes=f,e;case Re:return e=bt(19,n,t,d),e.elementType=Re,e.lanes=f,e;case Se:return bi(n,d,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case we:m=10;break e;case mt:m=9;break e;case se:m=11;break e;case Ze:m=14;break e;case qe:m=16,i=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=bt(m,n,t,d),t.elementType=e,t.type=i,t.lanes=f,t}function Or(e,t,n,i){return e=bt(7,e,i,t),e.lanes=n,e}function bi(e,t,n,i){return e=bt(22,e,i,t),e.elementType=Se,e.lanes=n,e.stateNode={isHidden:!1},e}function La(e,t,n){return e=bt(6,e,null,t),e.lanes=n,e}function $a(e,t,n){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function tm(e,t,n,i,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lo(0),this.expirationTimes=lo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lo(0),this.identifierPrefix=i,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Ua(e,t,n,i,d,f,m,x,w){return e=new tm(e,t,n,x,w),t===1?(t=1,f===!0&&(t|=8)):t=0,f=bt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qo(f),e}function rm(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function yd(e){if(!e)return rr;e=e._reactInternals;e:{if(yr(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var n=e.type;if(nt(n))return qu(e,n,t)}return t}function vd(e,t,n,i,d,f,m,x,w){return e=Ua(n,i,!0,e,d,f,m,x,w),e.context=yd(null),n=e.current,i=tt(),d=ur(n),f=Wt(i,d),f.callback=t??null,ir(n,f,d),e.current.lanes=d,Cn(e,d,i),ot(e,i),e}function _i(e,t,n,i){var d=t.current,f=tt(),m=ur(d);return n=yd(n),t.context===null?t.context=n:t.pendingContext=n,t=Wt(f,m),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=ir(d,t,m),e!==null&&(Ct(e,d,m,f),Zs(e,d,m)),m}function ji(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Da(e,t){xd(e,t),(e=e.alternate)&&xd(e,t)}function nm(){return null}var wd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ma(e){this._internalRoot=e}ki.prototype.render=Ma.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));_i(e,t,null,null)},ki.prototype.unmount=Ma.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nr(function(){_i(null,e,null,null)}),t[Mt]=null}};function ki(e){this._internalRoot=e}ki.prototype.unstable_scheduleHydration=function(e){if(e){var t=nu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yt.length&&t!==0&&t<Yt[n].priority;n++);Yt.splice(n,0,e),n===0&&ou(e)}};function za(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Si(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bd(){}function sm(e,t,n,i,d){if(d){if(typeof i=="function"){var f=i;i=function(){var C=ji(m);f.call(C)}}var m=vd(t,i,e,0,null,!1,!1,"",bd);return e._reactRootContainer=m,e[Mt]=m.current,Fn(e.nodeType===8?e.parentNode:e),Nr(),m}for(;d=e.lastChild;)e.removeChild(d);if(typeof i=="function"){var x=i;i=function(){var C=ji(w);x.call(C)}}var w=Ua(e,0,!1,null,null,!1,!1,"",bd);return e._reactRootContainer=w,e[Mt]=w.current,Fn(e.nodeType===8?e.parentNode:e),Nr(function(){_i(t,w,n,i)}),w}function Ni(e,t,n,i,d){var f=n._reactRootContainer;if(f){var m=f;if(typeof d=="function"){var x=d;d=function(){var w=ji(m);x.call(w)}}_i(t,m,e,d)}else m=sm(n,t,e,d,i);return ji(m)}tu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=En(t.pendingLanes);n!==0&&(uo(t,n|1),ot(t,Ae()),(ce&6)===0&&(on=Ae()+500,nr()))}break;case 13:Nr(function(){var i=Vt(e,1);if(i!==null){var d=tt();Ct(i,e,1,d)}}),Da(e,1)}},co=function(e){if(e.tag===13){var t=Vt(e,134217728);if(t!==null){var n=tt();Ct(t,e,134217728,n)}Da(e,134217728)}},ru=function(e){if(e.tag===13){var t=ur(e),n=Vt(e,t);if(n!==null){var i=tt();Ct(n,e,t,i)}Da(e,t)}},nu=function(){return ge},su=function(e,t){var n=ge;try{return ge=e,t()}finally{ge=n}},ro=function(e,t,n){switch(t){case"input":if(Ji(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var d=Vs(i);if(!d)throw Error(s(90));Cl(i),Ji(i,d)}}}break;case"textarea":Al(e,n);break;case"select":t=n.value,t!=null&&$r(e,!!n.multiple,t,!1)}},Fl=Pa,Vl=Nr;var im={usingClientEntryPoint:!1,Events:[qn,Hr,Vs,zl,Bl,Pa]},is={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},om={bundleType:is.bundleType,version:is.version,rendererPackageName:is.rendererPackageName,rendererConfig:is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kl(e),e===null?null:e.stateNode},findFiberByHostInstance:is.findFiberByHostInstance||nm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ei=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ei.isDisabled&&Ei.supportsFiber)try{ks=Ei.inject(om),At=Ei}catch{}}return at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=im,at.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!za(t))throw Error(s(200));return rm(e,t,null,n)},at.createRoot=function(e,t){if(!za(e))throw Error(s(299));var n=!1,i="",d=wd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=Ua(e,1,!1,null,null,n,!1,i,d),e[Mt]=t.current,Fn(e.nodeType===8?e.parentNode:e),new Ma(t)},at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Kl(t),e=e===null?null:e.stateNode,e},at.flushSync=function(e){return Nr(e)},at.hydrate=function(e,t,n){if(!Si(t))throw Error(s(200));return Ni(null,e,t,!0,n)},at.hydrateRoot=function(e,t,n){if(!za(e))throw Error(s(405));var i=n!=null&&n.hydratedSources||null,d=!1,f="",m=wd;if(n!=null&&(n.unstable_strictMode===!0&&(d=!0),n.identifierPrefix!==void 0&&(f=n.identifierPrefix),n.onRecoverableError!==void 0&&(m=n.onRecoverableError)),t=vd(t,null,e,1,n??null,d,!1,f,m),e[Mt]=t.current,Fn(e),i)for(e=0;e<i.length;e++)n=i[e],d=n._getVersion,d=d(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,d]:t.mutableSourceEagerHydrationData.push(n,d);return new ki(t)},at.render=function(e,t,n){if(!Si(t))throw Error(s(200));return Ni(null,e,t,!1,n)},at.unmountComponentAtNode=function(e){if(!Si(e))throw Error(s(40));return e._reactRootContainer?(Nr(function(){Ni(null,null,e,!1,function(){e._reactRootContainer=null,e[Mt]=null})}),!0):!1},at.unstable_batchedUpdates=Pa,at.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Si(n))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Ni(e,t,n,!1,i)},at.version="18.3.1-next-f1338f8080-20240426",at}var Od;function ym(){if(Od)return Va.exports;Od=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),Va.exports=gm(),Va.exports}var Td;function vm(){if(Td)return Ci;Td=1;var l=ym();return Ci.createRoot=l.createRoot,Ci.hydrateRoot=l.hydrateRoot,Ci}var xm=vm(),F=gl(),nl=function(l,r){return nl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(s[u]=o[u])},nl(l,r)};function hh(l,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");nl(l,r);function s(){this.constructor=l}l.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}var Mi=function(){return Mi=Object.assign||function(r){for(var s,o=1,u=arguments.length;o<u;o++){s=arguments[o];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(r[c]=s[c])}return r},Mi.apply(this,arguments)};function xn(l,r){var s={};for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&r.indexOf(o)<0&&(s[o]=l[o]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(l);u<o.length;u++)r.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(l,o[u])&&(s[o[u]]=l[o[u]]);return s}function fh(l,r,s,o){var u=arguments.length,c=u<3?r:o===null?o=Object.getOwnPropertyDescriptor(r,s):o,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(l,r,s,o);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(c=(u<3?h(c):u>3?h(r,s,c):h(r,s))||c);return u>3&&c&&Object.defineProperty(r,s,c),c}function ph(l,r){return function(s,o){r(s,o,l)}}function mh(l,r,s,o,u,c){function h(U){if(U!==void 0&&typeof U!="function")throw new TypeError("Function expected");return U}for(var p=o.kind,g=p==="getter"?"get":p==="setter"?"set":"value",y=!r&&l?o.static?l:l.prototype:null,v=r||(y?Object.getOwnPropertyDescriptor(y,o.name):{}),_,j=!1,k=s.length-1;k>=0;k--){var P={};for(var R in o)P[R]=R==="access"?{}:o[R];for(var R in o.access)P.access[R]=o.access[R];P.addInitializer=function(U){if(j)throw new TypeError("Cannot add initializers after decoration has completed");c.push(h(U||null))};var O=(0,s[k])(p==="accessor"?{get:v.get,set:v.set}:v[g],P);if(p==="accessor"){if(O===void 0)continue;if(O===null||typeof O!="object")throw new TypeError("Object expected");(_=h(O.get))&&(v.get=_),(_=h(O.set))&&(v.set=_),(_=h(O.init))&&u.unshift(_)}else(_=h(O))&&(p==="field"?u.unshift(_):v[g]=_)}y&&Object.defineProperty(y,o.name,v),j=!0}function gh(l,r,s){for(var o=arguments.length>2,u=0;u<r.length;u++)s=o?r[u].call(l,s):r[u].call(l);return o?s:void 0}function yh(l){return typeof l=="symbol"?l:"".concat(l)}function vh(l,r,s){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(l,"name",{configurable:!0,value:s?"".concat(s," ",r):r})}function xh(l,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,r)}function Q(l,r,s,o){function u(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function p(v){try{y(o.next(v))}catch(_){h(_)}}function g(v){try{y(o.throw(v))}catch(_){h(_)}}function y(v){v.done?c(v.value):u(v.value).then(p,g)}y((o=o.apply(l,r||[])).next())})}function wh(l,r){var s={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,u,c,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=p(0),h.throw=p(1),h.return=p(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(y){return function(v){return g([y,v])}}function g(y){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(s=0)),s;)try{if(o=1,u&&(c=y[0]&2?u.return:y[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,y[1])).done)return c;switch(u=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return s.label++,{value:y[1],done:!1};case 5:s.label++,u=y[1],y=[0];continue;case 7:y=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){s=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){s.label=y[1];break}if(y[0]===6&&s.label<c[1]){s.label=c[1],c=y;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(y);break}c[2]&&s.ops.pop(),s.trys.pop();continue}y=r.call(l,s)}catch(v){y=[6,v],u=0}finally{o=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var qi=Object.create?(function(l,r,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(r,s);(!u||("get"in u?!r.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return r[s]}}),Object.defineProperty(l,o,u)}):(function(l,r,s,o){o===void 0&&(o=s),l[o]=r[s]});function bh(l,r){for(var s in l)s!=="default"&&!Object.prototype.hasOwnProperty.call(r,s)&&qi(r,l,s)}function zi(l){var r=typeof Symbol=="function"&&Symbol.iterator,s=r&&l[r],o=0;if(s)return s.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&o>=l.length&&(l=void 0),{value:l&&l[o++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function yl(l,r){var s=typeof Symbol=="function"&&l[Symbol.iterator];if(!s)return l;var o=s.call(l),u,c=[],h;try{for(;(r===void 0||r-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(p){h={error:p}}finally{try{u&&!u.done&&(s=o.return)&&s.call(o)}finally{if(h)throw h.error}}return c}function _h(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(yl(arguments[r]));return l}function jh(){for(var l=0,r=0,s=arguments.length;r<s;r++)l+=arguments[r].length;for(var o=Array(l),u=0,r=0;r<s;r++)for(var c=arguments[r],h=0,p=c.length;h<p;h++,u++)o[u]=c[h];return o}function kh(l,r,s){if(s||arguments.length===2)for(var o=0,u=r.length,c;o<u;o++)(c||!(o in r))&&(c||(c=Array.prototype.slice.call(r,0,o)),c[o]=r[o]);return l.concat(c||Array.prototype.slice.call(r))}function yn(l){return this instanceof yn?(this.v=l,this):new yn(l)}function Sh(l,r,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=s.apply(l,r||[]),u,c=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",h),u[Symbol.asyncIterator]=function(){return this},u;function h(k){return function(P){return Promise.resolve(P).then(k,_)}}function p(k,P){o[k]&&(u[k]=function(R){return new Promise(function(O,U){c.push([k,R,O,U])>1||g(k,R)})},P&&(u[k]=P(u[k])))}function g(k,P){try{y(o[k](P))}catch(R){j(c[0][3],R)}}function y(k){k.value instanceof yn?Promise.resolve(k.value.v).then(v,_):j(c[0][2],k)}function v(k){g("next",k)}function _(k){g("throw",k)}function j(k,P){k(P),c.shift(),c.length&&g(c[0][0],c[0][1])}}function Nh(l){var r,s;return r={},o("next"),o("throw",function(u){throw u}),o("return"),r[Symbol.iterator]=function(){return this},r;function o(u,c){r[u]=l[u]?function(h){return(s=!s)?{value:yn(l[u](h)),done:!1}:c?c(h):h}:c}}function Eh(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=l[Symbol.asyncIterator],s;return r?r.call(l):(l=typeof zi=="function"?zi(l):l[Symbol.iterator](),s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s);function o(c){s[c]=l[c]&&function(h){return new Promise(function(p,g){h=l[c](h),u(p,g,h.done,h.value)})}}function u(c,h,p,g){Promise.resolve(g).then(function(y){c({value:y,done:p})},h)}}function Ch(l,r){return Object.defineProperty?Object.defineProperty(l,"raw",{value:r}):l.raw=r,l}var wm=Object.create?(function(l,r){Object.defineProperty(l,"default",{enumerable:!0,value:r})}):function(l,r){l.default=r},sl=function(l){return sl=Object.getOwnPropertyNames||function(r){var s=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(s[s.length]=o);return s},sl(l)};function Oh(l){if(l&&l.__esModule)return l;var r={};if(l!=null)for(var s=sl(l),o=0;o<s.length;o++)s[o]!=="default"&&qi(r,l,s[o]);return wm(r,l),r}function Th(l){return l&&l.__esModule?l:{default:l}}function Ph(l,r,s,o){if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?l!==r||!o:!r.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?o:s==="a"?o.call(l):o?o.value:r.get(l)}function Rh(l,r,s,o,u){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?l!==r||!u:!r.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?u.call(l,s):u?u.value=s:r.set(l,s),s}function Ah(l,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof l=="function"?r===l:l.has(r)}function Ih(l,r,s){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var o,u;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=r[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=r[Symbol.dispose],s&&(u=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");u&&(o=function(){try{u.call(this)}catch(c){return Promise.reject(c)}}),l.stack.push({value:r,dispose:o,async:s})}else s&&l.stack.push({async:!0});return r}var bm=typeof SuppressedError=="function"?SuppressedError:function(l,r,s){var o=new Error(s);return o.name="SuppressedError",o.error=l,o.suppressed=r,o};function Lh(l){function r(c){l.error=l.hasError?new bm(c,l.error,"An error was suppressed during disposal."):c,l.hasError=!0}var s,o=0;function u(){for(;s=l.stack.pop();)try{if(!s.async&&o===1)return o=0,l.stack.push(s),Promise.resolve().then(u);if(s.dispose){var c=s.dispose.call(s.value);if(s.async)return o|=2,Promise.resolve(c).then(u,function(h){return r(h),u()})}else o|=1}catch(h){r(h)}if(o===1)return l.hasError?Promise.reject(l.error):Promise.resolve();if(l.hasError)throw l.error}return u()}function $h(l,r){return typeof l=="string"&&/^\.\.?\//.test(l)?l.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,o,u,c,h){return o?r?".jsx":".js":u&&(!c||!h)?s:u+c+"."+h.toLowerCase()+"js"}):l}const _m={__extends:hh,__assign:Mi,__rest:xn,__decorate:fh,__param:ph,__esDecorate:mh,__runInitializers:gh,__propKey:yh,__setFunctionName:vh,__metadata:xh,__awaiter:Q,__generator:wh,__createBinding:qi,__exportStar:bh,__values:zi,__read:yl,__spread:_h,__spreadArrays:jh,__spreadArray:kh,__await:yn,__asyncGenerator:Sh,__asyncDelegator:Nh,__asyncValues:Eh,__makeTemplateObject:Ch,__importStar:Oh,__importDefault:Th,__classPrivateFieldGet:Ph,__classPrivateFieldSet:Rh,__classPrivateFieldIn:Ah,__addDisposableResource:Ih,__disposeResources:Lh,__rewriteRelativeImportExtension:$h},jm=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Ih,get __assign(){return Mi},__asyncDelegator:Nh,__asyncGenerator:Sh,__asyncValues:Eh,__await:yn,__awaiter:Q,__classPrivateFieldGet:Ph,__classPrivateFieldIn:Ah,__classPrivateFieldSet:Rh,__createBinding:qi,__decorate:fh,__disposeResources:Lh,__esDecorate:mh,__exportStar:bh,__extends:hh,__generator:wh,__importDefault:Th,__importStar:Oh,__makeTemplateObject:Ch,__metadata:xh,__param:ph,__propKey:yh,__read:yl,__rest:xn,__rewriteRelativeImportExtension:$h,__runInitializers:gh,__setFunctionName:vh,__spread:_h,__spreadArray:kh,__spreadArrays:jh,__values:zi,default:_m},Symbol.toStringTag,{value:"Module"})),km=l=>l?(...r)=>l(...r):(...r)=>fetch(...r);class vl extends Error{constructor(r,s="FunctionsError",o){super(r),this.name=s,this.context=o}}class Pd extends vl{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Rd extends vl{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Ad extends vl{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var il;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(il||(il={}));class Sm{constructor(r,{headers:s={},customFetch:o,region:u=il.Any}={}){this.url=r,this.headers=s,this.region=u,this.fetch=km(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return Q(this,arguments,void 0,function*(s,o={}){var u;try{const{headers:c,method:h,body:p,signal:g}=o;let y={},{region:v}=o;v||(v=this.region);const _=new URL(`${this.url}/${s}`);v&&v!=="any"&&(y["x-region"]=v,_.searchParams.set("forceFunctionRegion",v));let j;p&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",j=p):typeof p=="string"?(y["Content-Type"]="text/plain",j=p):typeof FormData<"u"&&p instanceof FormData?j=p:(y["Content-Type"]="application/json",j=JSON.stringify(p)):j=p;const k=yield this.fetch(_.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),c),body:j,signal:g}).catch(U=>{throw U.name==="AbortError"?U:new Pd(U)}),P=k.headers.get("x-relay-error");if(P&&P==="true")throw new Rd(k);if(!k.ok)throw new Ad(k);let R=((u=k.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),O;return R==="application/json"?O=yield k.json():R==="application/octet-stream"||R==="application/pdf"?O=yield k.blob():R==="text/event-stream"?O=k:R==="multipart/form-data"?O=yield k.formData():O=yield k.text(),{data:O,error:null,response:k}}catch(c){return c instanceof Error&&c.name==="AbortError"?{data:null,error:new Pd(c)}:{data:null,error:c,response:c instanceof Ad||c instanceof Rd?c.context:void 0}}})}}var Qe={};const wn=cm(jm);var Oi={},Ti={},Pi={},Ri={},Ai={},Ii={},Id;function Uh(){if(Id)return Ii;Id=1,Object.defineProperty(Ii,"__esModule",{value:!0});class l extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Ii.default=l,Ii}var Ld;function Dh(){if(Ld)return Ai;Ld=1,Object.defineProperty(Ai,"__esModule",{value:!0});const r=wn.__importDefault(Uh());class s{constructor(u){var c,h;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(c=u.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=u.signal,this.isMaybeSingle=(h=u.isMaybeSingle)!==null&&h!==void 0?h:!1,u.fetch?this.fetch=u.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=new Headers(this.headers),this.headers.set(u,c),this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,v,_,j;let k=null,P=null,R=null,O=g.status,U=g.statusText;if(g.ok){if(this.method!=="HEAD"){const ie=await g.text();ie===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?P=ie:P=JSON.parse(ie))}const T=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),q=(_=g.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");T&&q&&q.length>1&&(R=parseInt(q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(P)&&(P.length>1?(k={code:"PGRST116",details:`Results contain ${P.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},P=null,R=null,O=406,U="Not Acceptable"):P.length===1?P=P[0]:P=null)}else{const T=await g.text();try{k=JSON.parse(T),Array.isArray(k)&&g.status===404&&(P=[],k=null,O=200,U="OK")}catch{g.status===404&&T===""?(O=204,U="No Content"):k={message:T}}if(k&&this.isMaybeSingle&&(!((j=k?.details)===null||j===void 0)&&j.includes("0 rows"))&&(k=null,O=200,U="OK"),k&&this.shouldThrowOnError)throw new r.default(k)}return{error:k,data:P,count:R,status:O,statusText:U}});return this.shouldThrowOnError||(p=p.catch(g=>{var y,v,_;return{error:{message:`${(y=g?.name)!==null&&y!==void 0?y:"FetchError"}: ${g?.message}`,details:`${(v=g?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(_=g?.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),p.then(u,c)}returns(){return this}overrideTypes(){return this}}return Ai.default=s,Ai}var $d;function Mh(){if($d)return Ri;$d=1,Object.defineProperty(Ri,"__esModule",{value:!0});const r=wn.__importDefault(Dh());class s extends r.default{select(u){let c=!1;const h=(u??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:c=!0,nullsFirst:h,foreignTable:p,referencedTable:g=p}={}){const y=g?`${g}.order`:"order",v=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${v?`${v},`:""}${u}.${c?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:c,referencedTable:h=c}={}){const p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${u}`),this}range(u,c,{foreignTable:h,referencedTable:p=h}={}){const g=typeof p>"u"?"offset":`${p}.offset`,y=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${u}`),this.url.searchParams.set(y,`${c-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:c=!1,settings:h=!1,buffers:p=!1,wal:g=!1,format:y="text"}={}){var v;const _=[u?"analyze":null,c?"verbose":null,h?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),j=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${j}"; options=${_};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}}return Ri.default=s,Ri}var Ud;function xl(){if(Ud)return Pi;Ud=1,Object.defineProperty(Pi,"__esModule",{value:!0});const r=wn.__importDefault(Mh()),s=new RegExp("[,()]");class o extends r.default{eq(c,h){return this.url.searchParams.append(c,`eq.${h}`),this}neq(c,h){return this.url.searchParams.append(c,`neq.${h}`),this}gt(c,h){return this.url.searchParams.append(c,`gt.${h}`),this}gte(c,h){return this.url.searchParams.append(c,`gte.${h}`),this}lt(c,h){return this.url.searchParams.append(c,`lt.${h}`),this}lte(c,h){return this.url.searchParams.append(c,`lte.${h}`),this}like(c,h){return this.url.searchParams.append(c,`like.${h}`),this}likeAllOf(c,h){return this.url.searchParams.append(c,`like(all).{${h.join(",")}}`),this}likeAnyOf(c,h){return this.url.searchParams.append(c,`like(any).{${h.join(",")}}`),this}ilike(c,h){return this.url.searchParams.append(c,`ilike.${h}`),this}ilikeAllOf(c,h){return this.url.searchParams.append(c,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(c,h){return this.url.searchParams.append(c,`ilike(any).{${h.join(",")}}`),this}is(c,h){return this.url.searchParams.append(c,`is.${h}`),this}in(c,h){const p=Array.from(new Set(h)).map(g=>typeof g=="string"&&s.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(c,`in.(${p})`),this}contains(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cs.{${h.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(h)}`),this}containedBy(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cd.{${h.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(h)}`),this}rangeGt(c,h){return this.url.searchParams.append(c,`sr.${h}`),this}rangeGte(c,h){return this.url.searchParams.append(c,`nxl.${h}`),this}rangeLt(c,h){return this.url.searchParams.append(c,`sl.${h}`),this}rangeLte(c,h){return this.url.searchParams.append(c,`nxr.${h}`),this}rangeAdjacent(c,h){return this.url.searchParams.append(c,`adj.${h}`),this}overlaps(c,h){return typeof h=="string"?this.url.searchParams.append(c,`ov.${h}`):this.url.searchParams.append(c,`ov.{${h.join(",")}}`),this}textSearch(c,h,{config:p,type:g}={}){let y="";g==="plain"?y="pl":g==="phrase"?y="ph":g==="websearch"&&(y="w");const v=p===void 0?"":`(${p})`;return this.url.searchParams.append(c,`${y}fts${v}.${h}`),this}match(c){return Object.entries(c).forEach(([h,p])=>{this.url.searchParams.append(h,`eq.${p}`)}),this}not(c,h,p){return this.url.searchParams.append(c,`not.${h}.${p}`),this}or(c,{foreignTable:h,referencedTable:p=h}={}){const g=p?`${p}.or`:"or";return this.url.searchParams.append(g,`(${c})`),this}filter(c,h,p){return this.url.searchParams.append(c,`${h}.${p}`),this}}return Pi.default=o,Pi}var Dd;function zh(){if(Dd)return Ti;Dd=1,Object.defineProperty(Ti,"__esModule",{value:!0});const r=wn.__importDefault(xl());class s{constructor(u,{headers:c={},schema:h,fetch:p}){this.url=u,this.headers=new Headers(c),this.schema=h,this.fetch=p}select(u,c){const{head:h=!1,count:p}=c??{},g=h?"HEAD":"GET";let y=!1;const v=(u??"*").split("").map(_=>/\s/.test(_)&&!y?"":(_==='"'&&(y=!y),_)).join("");return this.url.searchParams.set("select",v),p&&this.headers.append("Prefer",`count=${p}`),new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:c,defaultToNull:h=!0}={}){var p;const g="POST";if(c&&this.headers.append("Prefer",`count=${c}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const y=u.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(y.length>0){const v=[...new Set(y)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(u,{onConflict:c,ignoreDuplicates:h=!1,count:p,defaultToNull:g=!0}={}){var y;const v="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),p&&this.headers.append("Prefer",`count=${p}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const _=u.reduce((j,k)=>j.concat(Object.keys(k)),[]);if(_.length>0){const j=[...new Set(_)].map(k=>`"${k}"`);this.url.searchParams.set("columns",j.join(","))}}return new r.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(u,{count:c}={}){var h;const p="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:u}={}){var c;const h="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Ti.default=s,Ti}var Md;function Nm(){if(Md)return Oi;Md=1,Object.defineProperty(Oi,"__esModule",{value:!0});const l=wn,r=l.__importDefault(zh()),s=l.__importDefault(xl());class o{constructor(c,{headers:h={},schema:p,fetch:g}={}){this.url=c,this.headers=new Headers(h),this.schemaName=p,this.fetch=g}from(c){const h=new URL(`${this.url}/${c}`);return new r.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new o(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:p=!1,get:g=!1,count:y}={}){var v;let _;const j=new URL(`${this.url}/rpc/${c}`);let k;p||g?(_=p?"HEAD":"GET",Object.entries(h).filter(([R,O])=>O!==void 0).map(([R,O])=>[R,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([R,O])=>{j.searchParams.append(R,O)})):(_="POST",k=h);const P=new Headers(this.headers);return y&&P.set("Prefer",`count=${y}`),new s.default({method:_,url:j,headers:P,schema:this.schemaName,body:k,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return Oi.default=o,Oi}var zd;function Em(){if(zd)return Qe;zd=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.PostgrestError=Qe.PostgrestBuilder=Qe.PostgrestTransformBuilder=Qe.PostgrestFilterBuilder=Qe.PostgrestQueryBuilder=Qe.PostgrestClient=void 0;const l=wn,r=l.__importDefault(Nm());Qe.PostgrestClient=r.default;const s=l.__importDefault(zh());Qe.PostgrestQueryBuilder=s.default;const o=l.__importDefault(xl());Qe.PostgrestFilterBuilder=o.default;const u=l.__importDefault(Mh());Qe.PostgrestTransformBuilder=u.default;const c=l.__importDefault(Dh());Qe.PostgrestBuilder=c.default;const h=l.__importDefault(Uh());return Qe.PostgrestError=h.default,Qe.default={PostgrestClient:r.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:c.default,PostgrestError:h.default},Qe}var Bh=Em();const Fh=um(Bh),Cm=lm({__proto__:null,default:Fh},[Bh]),{PostgrestClient:Om,PostgrestQueryBuilder:Yv,PostgrestFilterBuilder:Xv,PostgrestTransformBuilder:Zv,PostgrestBuilder:e0,PostgrestError:t0}=Fh||Cm;class Tm{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const o=s.node,u=parseInt(o.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let s=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(s+=`

Suggested solution: ${r.workaround}`),new Error(s)}static createWebSocket(r,s){const o=this.getWebSocketConstructor();return new o(r,s)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Pm="2.79.0",Rm=`realtime-js/${Pm}`,Am="1.0.0",ol=1e4,Im=1e3,Lm=100;var ls;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(ls||(ls={}));var Me;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(Me||(Me={}));var Rt;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(Rt||(Rt={}));var al;(function(l){l.websocket="websocket"})(al||(al={}));var Ar;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(Ar||(Ar={}));class $m{constructor(){this.HEADER_LENGTH=1}decode(r,s){return r.constructor===ArrayBuffer?s(this._binaryDecode(r)):s(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const s=new DataView(r),o=new TextDecoder;return this._decodeBroadcast(r,s,o)}_decodeBroadcast(r,s,o){const u=s.getUint8(1),c=s.getUint8(2);let h=this.HEADER_LENGTH+2;const p=o.decode(r.slice(h,h+u));h=h+u;const g=o.decode(r.slice(h,h+c));h=h+c;const y=JSON.parse(o.decode(r.slice(h,r.byteLength)));return{ref:null,topic:p,event:g,payload:y}}}class Vh{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xe;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(xe||(xe={}));const Bd=(l,r,s={})=>{var o;const u=(o=s.skipTypes)!==null&&o!==void 0?o:[];return r?Object.keys(r).reduce((c,h)=>(c[h]=Um(h,l,r,u),c),{}):{}},Um=(l,r,s,o)=>{const u=r.find(p=>p.name===l),c=u?.type,h=s[l];return c&&!o.includes(c)?Wh(c,h):ll(h)},Wh=(l,r)=>{if(l.charAt(0)==="_"){const s=l.slice(1,l.length);return Bm(r,s)}switch(l){case xe.bool:return Dm(r);case xe.float4:case xe.float8:case xe.int2:case xe.int4:case xe.int8:case xe.numeric:case xe.oid:return Mm(r);case xe.json:case xe.jsonb:return zm(r);case xe.timestamp:return Fm(r);case xe.abstime:case xe.date:case xe.daterange:case xe.int4range:case xe.int8range:case xe.money:case xe.reltime:case xe.text:case xe.time:case xe.timestamptz:case xe.timetz:case xe.tsrange:case xe.tstzrange:return ll(r);default:return ll(r)}},ll=l=>l,Dm=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},Mm=l=>{if(typeof l=="string"){const r=parseFloat(l);if(!Number.isNaN(r))return r}return l},zm=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(r){return console.log(`JSON parse error: ${r}`),l}return l},Bm=(l,r)=>{if(typeof l!="string")return l;const s=l.length-1,o=l[s];if(l[0]==="{"&&o==="}"){let c;const h=l.slice(1,s);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(p=>Wh(r,p))}return l},Fm=l=>typeof l=="string"?l.replace(" ","T"):l,qh=l=>{const r=new URL(l);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class Ha{constructor(r,s,o={},u=ol){this.channel=r,this.event=s,this.payload=o,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var o;return this._hasReceived(r)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Fd;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(Fd||(Fd={}));class us{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},u=>{const{onJoin:c,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=us.syncState(this.state,u,c,h),this.pendingDiffs.forEach(g=>{this.state=us.syncDiff(this.state,g,c,h)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},u=>{const{onJoin:c,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=us.syncDiff(this.state,u,c,h),p())}),this.onJoin((u,c,h)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:c,newPresences:h})}),this.onLeave((u,c,h)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,o,u){const c=this.cloneDeep(r),h=this.transformState(s),p={},g={};return this.map(c,(y,v)=>{h[y]||(g[y]=v)}),this.map(h,(y,v)=>{const _=c[y];if(_){const j=v.map(O=>O.presence_ref),k=_.map(O=>O.presence_ref),P=v.filter(O=>k.indexOf(O.presence_ref)<0),R=_.filter(O=>j.indexOf(O.presence_ref)<0);P.length>0&&(p[y]=P),R.length>0&&(g[y]=R)}else p[y]=v}),this.syncDiff(c,{joins:p,leaves:g},o,u)}static syncDiff(r,s,o,u){const{joins:c,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),u||(u=()=>{}),this.map(c,(p,g)=>{var y;const v=(y=r[p])!==null&&y!==void 0?y:[];if(r[p]=this.cloneDeep(g),v.length>0){const _=r[p].map(k=>k.presence_ref),j=v.filter(k=>_.indexOf(k.presence_ref)<0);r[p].unshift(...j)}o(p,v,g)}),this.map(h,(p,g)=>{let y=r[p];if(!y)return;const v=g.map(_=>_.presence_ref);y=y.filter(_=>v.indexOf(_.presence_ref)<0),r[p]=y,u(p,y,g),y.length===0&&delete r[p]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(o=>s(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,o)=>{const u=r[o];return"metas"in u?s[o]=u.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[o]=u,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vd;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(Vd||(Vd={}));var cs;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(cs||(cs={}));var Kt;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(Kt||(Kt={}));class wl{constructor(r,s={config:{}},o){var u,c;if(this.topic=r,this.params=s,this.socket=o,this.bindings={},this.state=Me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ha(this,Rt.join,this.params,this.timeout),this.rejoinTimer=new Vh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Me.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rt.reply,{},(h,p)=>{this._trigger(this._replyEventName(p),h)}),this.presence=new us(this),this.broadcastEndpointURL=qh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,s=this.timeout){var o,u,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Me.closed){const{config:{broadcast:h,presence:p,private:g}}=this.params,y=(u=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(k=>k.filter))!==null&&u!==void 0?u:[],v=!!this.bindings[cs.PRESENCE]&&this.bindings[cs.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,_={},j={broadcast:h,presence:Object.assign(Object.assign({},p),{enabled:v}),postgres_changes:y,private:g};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(k=>r?.(Kt.CHANNEL_ERROR,k)),this._onClose(()=>r?.(Kt.CLOSED)),this.updateJoinPayload(Object.assign({config:j},_)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:k})=>{var P;if(this.socket.setAuth(),k===void 0){r?.(Kt.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,O=(P=R?.length)!==null&&P!==void 0?P:0,U=[];for(let A=0;A<O;A++){const T=R[A],{filter:{event:q,schema:ie,table:ne,filter:ae}}=T,je=k&&k[A];if(je&&je.event===q&&je.schema===ie&&je.table===ne&&je.filter===ae)U.push(Object.assign(Object.assign({},T),{id:je.id}));else{this.unsubscribe(),this.state=Me.errored,r?.(Kt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,r&&r(Kt.SUBSCRIBED);return}}).receive("error",k=>{this.state=Me.errored,r?.(Kt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(k).join(", ")||"error")))}).receive("timeout",()=>{r?.(Kt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,o){return this.state===Me.joined&&r===cs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,s,o)}async httpSend(r,s,o={}){var u;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const h={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:s,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(u=o.timeout)!==null&&u!==void 0?u:this.timeout);if(p.status===202)return{success:!0};let g=p.statusText;try{const y=await p.json();g=y.error||y.message||g}catch{}return Promise.reject(new Error(g))}async send(r,s={}){var o,u;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=r,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);return await((u=y.body)===null||u===void 0?void 0:u.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,p,g;const y=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((g=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Me.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(u=>{o=new Ha(this,Rt.leave,{},r),o.receive("ok",()=>{s(),u("ok")}).receive("timeout",()=>{s(),u("timed out")}).receive("error",()=>{u("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Me.closed,this.bindings={}}async _fetchWithTimeout(r,s,o){const u=new AbortController,c=setTimeout(()=>u.abort(),o),h=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:u.signal}));return clearTimeout(c),h}_push(r,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Ha(this,r,s,o);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>Lm){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(r,s,o){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,o){var u,c;const h=r.toLocaleLowerCase(),{close:p,error:g,leave:y,join:v}=Rt;if(o&&[p,g,y,v].indexOf(h)>=0&&o!==this._joinRef())return;let j=this._onMessage(h,s,o);if(s&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(k=>{var P,R,O;return((P=k.filter)===null||P===void 0?void 0:P.event)==="*"||((O=(R=k.filter)===null||R===void 0?void 0:R.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===h}).map(k=>k.callback(j,o)):(c=this.bindings[h])===null||c===void 0||c.filter(k=>{var P,R,O,U,A,T;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in k){const q=k.id,ie=(P=k.filter)===null||P===void 0?void 0:P.event;return q&&((R=s.ids)===null||R===void 0?void 0:R.includes(q))&&(ie==="*"||ie?.toLocaleLowerCase()===((O=s.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const q=(A=(U=k?.filter)===null||U===void 0?void 0:U.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return q==="*"||q===((T=s?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===h}).map(k=>{if(typeof j=="object"&&"ids"in j){const P=j.data,{schema:R,table:O,commit_timestamp:U,type:A,errors:T}=P;j=Object.assign(Object.assign({},{schema:R,table:O,commit_timestamp:U,eventType:A,new:{},old:{},errors:T}),this._getPayloadRecords(P))}k.callback(j,o)})}_isClosed(){return this.state===Me.closed}_isJoined(){return this.state===Me.joined}_isJoining(){return this.state===Me.joining}_isLeaving(){return this.state===Me.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,o){const u=r.toLocaleLowerCase(),c={type:u,filter:s,callback:o};return this.bindings[u]?this.bindings[u].push(c):this.bindings[u]=[c],this}_off(r,s){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(u=>{var c;return!(((c=u.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===o&&wl.isEqual(u.filter,s))})),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const o in r)if(r[o]!==s[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Rt.close,{},r)}_onError(r){this._on(Rt.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Me.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=Bd(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=Bd(r.columns,r.old_record)),s}}const Ka=()=>{},Li={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Vm=[1e3,2e3,5e3,1e4],Wm=1e4,qm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Hm{constructor(r,s){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ol,this.transport=null,this.heartbeatIntervalMs=Li.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ka,this.ref=0,this.reconnectTimer=null,this.logger=Ka,this.conn=null,this.sendBuffer=[],this.serializer=new $m,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>u?(...c)=>u(...c):(...c)=>fetch(...c),!(!((o=s?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${r}/${al.websocket}`,this.httpEndpoint=qh(r),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Tm.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const s=r.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Am}))}disconnect(r,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},r?this.conn.close(r,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,s,o){this.logger(r,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case ls.connecting:return Ar.Connecting;case ls.open:return Ar.Open;case ls.closing:return Ar.Closing;default:return Ar.Closed}}isConnected(){return this.connectionState()===Ar.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,s={config:{}}){const o=`realtime:${r}`,u=this.getChannels().find(c=>c.topic===o);if(u)return u;{const c=new wl(`realtime:${r}`,s,this);return this.channels.push(c),c}}push(r){const{topic:s,event:o,payload:u,ref:c}=r,h=()=>{this.encode(r,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${s} ${o} (${c})`,u),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(Im,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Li.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:u,payload:c,ref:h}=s,p=h?`(${h})`:"",g=c.status||"";this.log("receive",`${g} ${o} ${u} ${p}`.trim(),c),this.channels.filter(y=>y._isMember(o)).forEach(y=>y._trigger(u,c,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(r){var s;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var s;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Rt.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const o=r.match(/\?/)?"&":"?",u=new URLSearchParams(s);return`${r}${o}${u}`}_workerObjectUrl(r){let s;if(r)s=r;else{const o=new Blob([qm],{type:"application/javascript"});s=URL.createObjectURL(o)}return s}_setConnectionState(r,s=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(r=null){let s;r?s=r:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const u={access_token:s,version:Rm};s&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(Rt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${r}`,s)})}_triggerStateCallbacks(r,s){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(s)}catch(u){this.log("error",`error in ${r} callback`,u)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Vh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Li.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var s,o,u,c,h,p,g,y,v;if(this.transport=(s=r?.transport)!==null&&s!==void 0?s:null,this.timeout=(o=r?.timeout)!==null&&o!==void 0?o:ol,this.heartbeatIntervalMs=(u=r?.heartbeatIntervalMs)!==null&&u!==void 0?u:Li.HEARTBEAT_INTERVAL,this.worker=(c=r?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=r?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(p=r?.heartbeatCallback)!==null&&p!==void 0?p:Ka,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=r?.reconnectAfterMs)!==null&&g!==void 0?g:(_=>Vm[_-1]||Wm),this.encode=(y=r?.encode)!==null&&y!==void 0?y:((_,j)=>j(JSON.stringify(_))),this.decode=(v=r?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}class bl extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Te(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class Km extends bl{constructor(r,s,o){super(r),this.name="StorageApiError",this.status=s,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ul extends bl{constructor(r,s){super(r),this.name="StorageUnknownError",this.originalError=s}}const _l=l=>l?(...r)=>l(...r):(...r)=>fetch(...r),Jm=()=>Response,cl=l=>{if(Array.isArray(l))return l.map(s=>cl(s));if(typeof l=="function"||l!==Object(l))return l;const r={};return Object.entries(l).forEach(([s,o])=>{const u=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));r[u]=cl(o)}),r},Gm=l=>{if(typeof l!="object"||l===null)return!1;const r=Object.getPrototypeOf(l);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},Ja=l=>{var r;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(r=l.error)===null||r===void 0?void 0:r.message)||JSON.stringify(l)},Qm=(l,r,s)=>Q(void 0,void 0,void 0,function*(){const o=yield Jm();l instanceof o&&!s?.noResolveJson?l.json().then(u=>{const c=l.status||500,h=u?.statusCode||c+"";r(new Km(Ja(u),c,h))}).catch(u=>{r(new ul(Ja(u),u))}):r(new ul(Ja(l),l))}),Ym=(l,r,s,o)=>{const u={method:l,headers:r?.headers||{}};return l==="GET"||!o?u:(Gm(o)?(u.headers=Object.assign({"Content-Type":"application/json"},r?.headers),u.body=JSON.stringify(o)):u.body=o,r?.duplex&&(u.duplex=r.duplex),Object.assign(Object.assign({},u),s))};function ys(l,r,s,o,u,c){return Q(this,void 0,void 0,function*(){return new Promise((h,p)=>{l(s,Ym(r,o,u,c)).then(g=>{if(!g.ok)throw g;return o?.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>Qm(g,p,o))})})}function hs(l,r,s,o){return Q(this,void 0,void 0,function*(){return ys(l,"GET",r,s,o)})}function Pt(l,r,s,o,u){return Q(this,void 0,void 0,function*(){return ys(l,"POST",r,o,u,s)})}function dl(l,r,s,o,u){return Q(this,void 0,void 0,function*(){return ys(l,"PUT",r,o,u,s)})}function Xm(l,r,s,o){return Q(this,void 0,void 0,function*(){return ys(l,"HEAD",r,Object.assign(Object.assign({},s),{noResolveJson:!0}),o)})}function jl(l,r,s,o,u){return Q(this,void 0,void 0,function*(){return ys(l,"DELETE",r,o,u,s)})}class Zm{constructor(r,s){this.downloadFn=r,this.shouldThrowOnError=s}then(r,s){return this.execute().then(r,s)}execute(){return Q(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}})}}var Hh;class eg{constructor(r,s){this.downloadFn=r,this.shouldThrowOnError=s,this[Hh]="BlobDownloadBuilder",this.promise=null}asStream(){return new Zm(this.downloadFn,this.shouldThrowOnError)}then(r,s){return this.getPromise().then(r,s)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Q(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}})}}Hh=Symbol.toStringTag;const tg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rg{constructor(r,s={},o,u){this.shouldThrowOnError=!1,this.url=r,this.headers=s,this.bucketId=o,this.fetch=_l(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,s,o,u){return Q(this,void 0,void 0,function*(){try{let c;const h=Object.assign(Object.assign({},Wd),u);let p=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&o instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),g&&c.append("metadata",this.encodeMetadata(g)),c.append("",o)):typeof FormData<"u"&&o instanceof FormData?(c=o,c.has("cacheControl")||c.append("cacheControl",h.cacheControl),g&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(g))):(c=o,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!h.duplex&&(h.duplex="half")),u?.headers&&(p=Object.assign(Object.assign({},p),u.headers));const y=this._removeEmptyFolders(s),v=this._getFinalPath(y),_=yield(r=="PUT"?dl:Pt)(this.fetch,`${this.url}/object/${v}`,c,Object.assign({headers:p},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:y,id:_.Id,fullPath:_.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Te(c))return{data:null,error:c};throw c}})}upload(r,s,o){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,s,o)})}uploadToSignedUrl(r,s,o,u){return Q(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(r),h=this._getFinalPath(c),p=new URL(this.url+`/object/upload/sign/${h}`);p.searchParams.set("token",s);try{let g;const y=Object.assign({upsert:Wd.upsert},u),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&o instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",o)):typeof FormData<"u"&&o instanceof FormData?(g=o,g.append("cacheControl",y.cacheControl)):(g=o,v["cache-control"]=`max-age=${y.cacheControl}`,v["content-type"]=y.contentType);const _=yield dl(this.fetch,p.toString(),g,{headers:v});return{data:{path:c,fullPath:_.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Te(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(r,s){return Q(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r);const u=Object.assign({},this.headers);s?.upsert&&(u["x-upsert"]="true");const c=yield Pt(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:u}),h=new URL(this.url+c.url),p=h.searchParams.get("token");if(!p)throw new bl("No token returned by API");return{data:{signedUrl:h.toString(),path:r,token:p},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Te(o))return{data:null,error:o};throw o}})}update(r,s,o){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,s,o)})}move(r,s,o){return Q(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Te(u))return{data:null,error:u};throw u}})}copy(r,s,o){return Q(this,void 0,void 0,function*(){try{return{data:{path:(yield Pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Te(u))return{data:null,error:u};throw u}})}createSignedUrl(r,s,o){return Q(this,void 0,void 0,function*(){try{let u=this._getFinalPath(r),c=yield Pt(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:s},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const h=o?.download?`&download=${o.download===!0?"":o.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Te(u))return{data:null,error:u};throw u}})}createSignedUrls(r,s,o){return Q(this,void 0,void 0,function*(){try{const u=yield Pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:r},{headers:this.headers}),c=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:u.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${c}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Te(u))return{data:null,error:u};throw u}})}download(r,s){const u=typeof s?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(s?.transform||{}),h=c?`?${c}`:"",p=this._getFinalPath(r),g=()=>hs(this.fetch,`${this.url}/${u}/${p}${h}`,{headers:this.headers,noResolveJson:!0});return new eg(g,this.shouldThrowOnError)}info(r){return Q(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{const o=yield hs(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:cl(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Te(o))return{data:null,error:o};throw o}})}exists(r){return Q(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{return yield Xm(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Te(o)&&o instanceof ul){const u=o.originalError;if([400,404].includes(u?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(r,s){const o=this._getFinalPath(r),u=[],c=s?.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&u.push(c);const p=typeof s?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(s?.transform||{});g!==""&&u.push(g);let y=u.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${y}`)}}}remove(r){return Q(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}})}list(r,s,o){return Q(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},tg),s),{prefix:r||""});return{data:yield Pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},o),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Te(u))return{data:null,error:u};throw u}})}listV2(r,s){return Q(this,void 0,void 0,function*(){try{const o=Object.assign({},r);return{data:yield Pt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Te(o))return{data:null,error:o};throw o}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const s=[];return r.width&&s.push(`width=${r.width}`),r.height&&s.push(`height=${r.height}`),r.resize&&s.push(`resize=${r.resize}`),r.format&&s.push(`format=${r.format}`),r.quality&&s.push(`quality=${r.quality}`),s.join("&")}}const Kh="2.79.0",Jh={"X-Client-Info":`storage-js/${Kh}`};class ng{constructor(r,s={},o,u){this.shouldThrowOnError=!1;const c=new URL(r);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jh),s),this.fetch=_l(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return Q(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(r);return{data:yield hs(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}})}getBucket(r){return Q(this,void 0,void 0,function*(){try{return{data:yield hs(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}})}createBucket(r){return Q(this,arguments,void 0,function*(s,o={public:!1}){try{return{data:yield Pt(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Te(u))return{data:null,error:u};throw u}})}updateBucket(r,s){return Q(this,void 0,void 0,function*(){try{return{data:yield dl(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Te(o))return{data:null,error:o};throw o}})}emptyBucket(r){return Q(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}})}deleteBucket(r){return Q(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(r){const s={};return r&&("limit"in r&&(s.limit=String(r.limit)),"offset"in r&&(s.offset=String(r.offset)),r.search&&(s.search=r.search),r.sortColumn&&(s.sortColumn=r.sortColumn),r.sortOrder&&(s.sortOrder=r.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}class sg{constructor(r,s={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jh),s),this.fetch=_l(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return Q(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}})}listBuckets(r){return Q(this,void 0,void 0,function*(){try{const s=new URLSearchParams;r?.limit!==void 0&&s.set("limit",r.limit.toString()),r?.offset!==void 0&&s.set("offset",r.offset.toString()),r?.sortColumn&&s.set("sortColumn",r.sortColumn),r?.sortOrder&&s.set("sortOrder",r.sortOrder),r?.search&&s.set("search",r.search);const o=s.toString(),u=o?`${this.url}/bucket?${o}`:`${this.url}/bucket`;return{data:yield hs(this.fetch,u,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}})}deleteBucket(r){return Q(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Te(s))return{data:null,error:s};throw s}})}}const kl={"X-Client-Info":`storage-js/${Kh}`,"Content-Type":"application/json"};class Gh extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ft(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}class Ga extends Gh{constructor(r,s,o){super(r),this.name="StorageVectorsApiError",this.status=s,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ig extends Gh{constructor(r,s){super(r),this.name="StorageVectorsUnknownError",this.originalError=s}}var qd;(function(l){l.InternalError="InternalError",l.S3VectorConflictException="S3VectorConflictException",l.S3VectorNotFoundException="S3VectorNotFoundException",l.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",l.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",l.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(qd||(qd={}));const Sl=l=>l?(...r)=>l(...r):(...r)=>fetch(...r),og=l=>{if(typeof l!="object"||l===null)return!1;const r=Object.getPrototypeOf(l);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},Hd=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),ag=(l,r,s)=>Q(void 0,void 0,void 0,function*(){if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!s?.noResolveJson){const u=l.status||500,c=l;if(typeof c.json=="function")c.json().then(h=>{const p=h?.statusCode||h?.code||u+"";r(new Ga(Hd(h),u,p))}).catch(()=>{const h=u+"",p=c.statusText||`HTTP ${u} error`;r(new Ga(p,u,h))});else{const h=u+"",p=c.statusText||`HTTP ${u} error`;r(new Ga(p,u,h))}}else r(new ig(Hd(l),l))}),lg=(l,r,s,o)=>{const u={method:l,headers:r?.headers||{}};return o?(og(o)?(u.headers=Object.assign({"Content-Type":"application/json"},r?.headers),u.body=JSON.stringify(o)):u.body=o,Object.assign(Object.assign({},u),s)):u};function ug(l,r,s,o,u,c){return Q(this,void 0,void 0,function*(){return new Promise((h,p)=>{l(s,lg(r,o,u,c)).then(g=>{if(!g.ok)throw g;if(o?.noResolveJson)return g;const y=g.headers.get("content-type");return!y||!y.includes("application/json")?{}:g.json()}).then(g=>h(g)).catch(g=>ag(g,p,o))})})}function pt(l,r,s,o,u){return Q(this,void 0,void 0,function*(){return ug(l,"POST",r,o,u,s)})}class cg{constructor(r,s={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},kl),s),this.fetch=Sl(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return Q(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}getIndex(r,s){return Q(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:s},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}})}listIndexes(r){return Q(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}deleteIndex(r,s){return Q(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:s},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}})}}class dg{constructor(r,s={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},kl),s),this.fetch=Sl(o)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return Q(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield pt(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}getVectors(r){return Q(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}listVectors(r){return Q(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield pt(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}queryVectors(r){return Q(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}deleteVectors(r){return Q(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield pt(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}}class hg{constructor(r,s={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},kl),s),this.fetch=Sl(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return Q(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}getBucket(r){return Q(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}listBuckets(){return Q(this,arguments,void 0,function*(r={}){try{return{data:yield pt(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}deleteBucket(r){return Q(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}}class fg extends hg{constructor(r,s={}){super(r,s.headers||{},s.fetch)}from(r){return new pg(this.url,this.headers,r,this.fetch)}}class pg extends cg{constructor(r,s,o,u){super(r,s,u),this.vectorBucketName=o}createIndex(r){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Q(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Q(this,arguments,void 0,function*(s={}){return r.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Q(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Q(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new mg(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class mg extends dg{constructor(r,s,o,u,c){super(r,s,c),this.vectorBucketName=o,this.indexName=u}putVectors(r){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Q(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Q(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Q(this,arguments,void 0,function*(s={}){return r.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Q(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Q(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class gg extends ng{constructor(r,s={},o,u){super(r,s,o,u)}from(r){return new rg(this.url,this.headers,r,this.fetch)}get vectors(){return new fg(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new sg(this.url+"/iceberg",this.headers,this.fetch)}}const yg="2.79.0";let as="";typeof Deno<"u"?as="deno":typeof document<"u"?as="web":typeof navigator<"u"&&navigator.product==="ReactNative"?as="react-native":as="node";const vg={"X-Client-Info":`supabase-js-${as}/${yg}`},xg={headers:vg},wg={schema:"public"},bg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_g={},jg=l=>l?(...r)=>l(...r):(...r)=>fetch(...r),kg=()=>Headers,Sg=(l,r,s)=>{const o=jg(s),u=kg();return async(c,h)=>{var p;const g=(p=await r())!==null&&p!==void 0?p:l;let y=new u(h?.headers);return y.has("apikey")||y.set("apikey",l),y.has("Authorization")||y.set("Authorization",`Bearer ${g}`),o(c,Object.assign(Object.assign({},h),{headers:y}))}};function Ng(l){return l.endsWith("/")?l:l+"/"}function Eg(l,r){var s,o;const{db:u,auth:c,realtime:h,global:p}=l,{db:g,auth:y,realtime:v,global:_}=r,j={db:Object.assign(Object.assign({},g),u),auth:Object.assign(Object.assign({},y),c),realtime:Object.assign(Object.assign({},v),h),storage:{},global:Object.assign(Object.assign(Object.assign({},_),p),{headers:Object.assign(Object.assign({},(s=_?.headers)!==null&&s!==void 0?s:{}),(o=p?.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return l.accessToken?j.accessToken=l.accessToken:delete j.accessToken,j}function Cg(l){const r=l?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ng(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Qh="2.79.0",fn=30*1e3,hl=3,Qa=hl*fn,Og="http://localhost:9999",Tg="supabase.auth.token",Pg={"X-Client-Info":`gotrue-js/${Qh}`},fl="X-Supabase-Api-Version",Yh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Rg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ag=600*1e3;class fs extends Error{constructor(r,s,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=o}}function Y(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class Ig extends fs{constructor(r,s,o){super(r,s,o),this.name="AuthApiError",this.status=s,this.code=o}}function Lg(l){return Y(l)&&l.name==="AuthApiError"}class Ir extends fs{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}}class mr extends fs{constructor(r,s,o,u){super(r,o,u),this.name=s,this.status=o}}class Ot extends mr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $g(l){return Y(l)&&l.name==="AuthSessionMissingError"}class ln extends mr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $i extends mr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Ui extends mr{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ug(l){return Y(l)&&l.name==="AuthImplicitGrantRedirectError"}class Kd extends mr{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pl extends mr{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}}function Ya(l){return Y(l)&&l.name==="AuthRetryableFetchError"}class Jd extends mr{constructor(r,s,o){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=o}}class ml extends mr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gd=` 	
\r=`.split(""),Dg=(()=>{const l=new Array(128);for(let r=0;r<l.length;r+=1)l[r]=-1;for(let r=0;r<Gd.length;r+=1)l[Gd[r].charCodeAt(0)]=-2;for(let r=0;r<Bi.length;r+=1)l[Bi[r].charCodeAt(0)]=r;return l})();function Qd(l,r,s){if(l!==null)for(r.queue=r.queue<<8|l,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;s(Bi[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;s(Bi[o]),r.queuedBits-=6}}function Xh(l,r,s){const o=Dg[l];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Yd(l){const r=[],s=h=>{r.push(String.fromCodePoint(h))},o={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},c=h=>{Bg(h,o,s)};for(let h=0;h<l.length;h+=1)Xh(l.charCodeAt(h),u,c);return r.join("")}function Mg(l,r){if(l<=127){r(l);return}else if(l<=2047){r(192|l>>6),r(128|l&63);return}else if(l<=65535){r(224|l>>12),r(128|l>>6&63),r(128|l&63);return}else if(l<=1114111){r(240|l>>18),r(128|l>>12&63),r(128|l>>6&63),r(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function zg(l,r){for(let s=0;s<l.length;s+=1){let o=l.charCodeAt(s);if(o>55295&&o<=56319){const u=(o-55296)*1024&65535;o=(l.charCodeAt(s+1)-56320&65535|u)+65536,s+=1}Mg(o,r)}}function Bg(l,r,s){if(r.utf8seq===0){if(l<=127){s(l);return}for(let o=1;o<6;o+=1)if((l>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=l&31;else if(r.utf8seq===3)r.codepoint=l&15;else if(r.utf8seq===4)r.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|l&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function mn(l){const r=[],s={queue:0,queuedBits:0},o=u=>{r.push(u)};for(let u=0;u<l.length;u+=1)Xh(l.charCodeAt(u),s,o);return new Uint8Array(r)}function Fg(l){const r=[];return zg(l,s=>r.push(s)),new Uint8Array(r)}function Lr(l){const r=[],s={queue:0,queuedBits:0},o=u=>{r.push(u)};return l.forEach(u=>Qd(u,s,o)),Qd(null,s,o),r.join("")}function Vg(l){return Math.round(Date.now()/1e3)+l}function Wg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const r=Math.random()*16|0;return(l=="x"?r:r&3|8).toString(16)})}const Ye=()=>typeof window<"u"&&typeof document<"u",Tr={tested:!1,writable:!1},Zh=()=>{if(!Ye())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Tr.tested)return Tr.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),Tr.tested=!0,Tr.writable=!0}catch{Tr.tested=!0,Tr.writable=!1}return Tr.writable};function qg(l){const r={},s=new URL(l);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((u,c)=>{r[c]=u})}catch{}return s.searchParams.forEach((o,u)=>{r[u]=o}),r}const ef=l=>l?(...r)=>l(...r):(...r)=>fetch(...r),Hg=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",pn=async(l,r,s)=>{await l.setItem(r,JSON.stringify(s))},Pr=async(l,r)=>{const s=await l.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},fr=async(l,r)=>{await l.removeItem(r)};class Hi{constructor(){this.promise=new Hi.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}Hi.promiseConstructor=Promise;function Xa(l){const r=l.split(".");if(r.length!==3)throw new ml("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!Rg.test(r[o]))throw new ml("JWT not in base64url format");return{header:JSON.parse(Yd(r[0])),payload:JSON.parse(Yd(r[1])),signature:mn(r[2]),raw:{header:r[0],payload:r[1]}}}async function Kg(l){return await new Promise(r=>{setTimeout(()=>r(null),l)})}function Jg(l,r){return new Promise((o,u)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await l(c);if(!r(c,null,h)){o(h);return}}catch(h){if(!r(c,h)){u(h);return}}})()})}function Gg(l){return("0"+l.toString(16)).substr(-2)}function Qg(){const r=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let u="";for(let c=0;c<56;c++)u+=s.charAt(Math.floor(Math.random()*o));return u}return crypto.getRandomValues(r),Array.from(r,Gg).join("")}async function Yg(l){const s=new TextEncoder().encode(l),o=await crypto.subtle.digest("SHA-256",s),u=new Uint8Array(o);return Array.from(u).map(c=>String.fromCharCode(c)).join("")}async function Xg(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const s=await Yg(l);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function un(l,r,s=!1){const o=Qg();let u=o;s&&(u+="/PASSWORD_RECOVERY"),await pn(l,`${r}-code-verifier`,u);const c=await Xg(o);return[c,o===c?"plain":"s256"]}const Zg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ey(l){const r=l.headers.get(fl);if(!r||!r.match(Zg))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function ty(l){if(!l)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(l<=r)throw new Error("JWT has expired")}function ry(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ny=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cn(l){if(!ny.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Za(){const l={};return new Proxy(l,{get:(r,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sy(l,r){return new Proxy(l,{get:(s,o,u)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const c=o.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,o,u)}return!r.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(s,o,u)}})}function Xd(l){return JSON.parse(JSON.stringify(l))}const Rr=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),iy=[502,503,504];async function Zd(l){var r;if(!Hg(l))throw new pl(Rr(l),0);if(iy.includes(l.status))throw new pl(Rr(l),l.status);let s;try{s=await l.json()}catch(c){throw new Ir(Rr(c),c)}let o;const u=ey(l);if(u&&u.getTime()>=Yh["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?o=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(o=s.error_code),o){if(o==="weak_password")throw new Jd(Rr(s),l.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new Ot}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new Jd(Rr(s),l.status,s.weak_password.reasons);throw new Ig(Rr(s),l.status||500,o)}const oy=(l,r,s,o)=>{const u={method:l,headers:r?.headers||{}};return l==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),u.body=JSON.stringify(o),Object.assign(Object.assign({},u),s))};async function te(l,r,s,o){var u;const c=Object.assign({},o?.headers);c[fl]||(c[fl]=Yh["2024-01-01"].name),o?.jwt&&(c.Authorization=`Bearer ${o.jwt}`);const h=(u=o?.query)!==null&&u!==void 0?u:{};o?.redirectTo&&(h.redirect_to=o.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await ay(l,r,s+p,{headers:c,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(g):{data:Object.assign({},g),error:null}}async function ay(l,r,s,o,u,c){const h=oy(r,o,u,c);let p;try{p=await l(s,Object.assign({},h))}catch(g){throw console.error(g),new pl(Rr(g),0)}if(p.ok||await Zd(p),o?.noResolveJson)return p;try{return await p.json()}catch(g){await Zd(g)}}function Tt(l){var r;let s=null;cy(l)&&(s=Object.assign({},l),l.expires_at||(s.expires_at=Vg(l.expires_in)));const o=(r=l.user)!==null&&r!==void 0?r:l;return{data:{session:s,user:o},error:null}}function eh(l){const r=Tt(l);return!r.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(r.data.weak_password=l.weak_password),r}function pr(l){var r;return{data:{user:(r=l.user)!==null&&r!==void 0?r:l},error:null}}function ly(l){return{data:l,error:null}}function uy(l){const{action_link:r,email_otp:s,hashed_token:o,redirect_to:u,verification_type:c}=l,h=xn(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:s,hashed_token:o,redirect_to:u,verification_type:c},g=Object.assign({},h);return{data:{properties:p,user:g},error:null}}function th(l){return l}function cy(l){return l.access_token&&l.refresh_token&&l.expires_in}const el=["global","local","others"];class dy{constructor({url:r="",headers:s={},fetch:o}){this.url=r,this.headers=s,this.fetch=ef(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,s=el[0]){if(el.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${el.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(Y(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,s={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:pr})}catch(o){if(Y(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:s}=r,o=xn(r,["options"]),u=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(u.new_email=o?.newEmail,delete u.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:uy,redirectTo:s?.redirectTo})}catch(s){if(Y(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:pr})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,o,u,c,h,p,g;try{const y={nextPage:null,lastPage:0,total:0},v=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=r?.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(c=(u=r?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:th});if(v.error)throw v.error;const _=await v.json(),j=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,k=(g=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return k.length>0&&(k.forEach(P=>{const R=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(P.split(";")[1].split("=")[1]);y[`${O}Page`]=R}),y.total=parseInt(j)),{data:Object.assign(Object.assign({},_),y),error:null}}catch(y){if(Y(y))return{data:{users:[]},error:y};throw y}}async getUserById(r){cn(r);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:pr})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){cn(r);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:pr})}catch(o){if(Y(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,s=!1){cn(r);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:pr})}catch(o){if(Y(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){cn(r.userId);try{const{data:s,error:o}=await te(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:s,error:o}}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _deleteFactor(r){cn(r.userId),cn(r.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _listOAuthClients(r){var s,o,u,c,h,p,g;try{const y={nextPage:null,lastPage:0,total:0},v=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=r?.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(c=(u=r?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:th});if(v.error)throw v.error;const _=await v.json(),j=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,k=(g=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return k.length>0&&(k.forEach(P=>{const R=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(P.split(";")[1].split("=")[1]);y[`${O}Page`]=R}),y.total=parseInt(j)),{data:Object.assign(Object.assign({},_),y),error:null}}catch(y){if(Y(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(r){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _getOAuthClient(r){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _updateOAuthClient(r,s){try{return await te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:s,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(Y(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(r){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(r){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}}function rh(l={}){return{getItem:r=>l[r]||null,setItem:(r,s)=>{l[r]=s},removeItem:r=>{delete l[r]}}}const dn={debug:!!(globalThis&&Zh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tf extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class hy extends tf{}async function fy(l,r,s){dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),dn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async u=>{if(u){dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,u.name);try{return await s()}finally{dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,u.name)}}else{if(r===0)throw dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new hy(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(dn.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function py(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function rf(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function my(l){return parseInt(l,16)}function gy(l){const r=new TextEncoder().encode(l);return"0x"+Array.from(r,o=>o.toString(16).padStart(2,"0")).join("")}function yy(l){var r;const{chainId:s,domain:o,expirationTime:u,issuedAt:c=new Date,nonce:h,notBefore:p,requestId:g,resources:y,scheme:v,uri:_,version:j}=l;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(j!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${j}`);if(!((r=l.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const k=rf(l.address),P=v?`${v}://${o}`:o,R=l.statement?`${l.statement}
`:"",O=`${P} wants you to sign in with your Ethereum account:
${k}

${R}`;let U=`URI: ${_}
Version: ${j}
Chain ID: ${s}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(u&&(U+=`
Expiration Time: ${u.toISOString()}`),p&&(U+=`
Not Before: ${p.toISOString()}`),g&&(U+=`
Request ID: ${g}`),y){let A=`
Resources:`;for(const T of y){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);A+=`
- ${T}`}U+=A}return`${O}
${U}`}class $e extends Error{constructor({message:r,code:s,cause:o,name:u}){var c;super(r,{cause:o}),this.__isWebAuthnError=!0,this.name=(c=u??(o instanceof Error?o.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class Fi extends $e{constructor(r,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:r}),this.name="WebAuthnUnknownError",this.originalError=s}}function vy({error:l,options:r}){var s,o,u;const{publicKey:c}=r;if(!c)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(r.signal instanceof AbortSignal)return new $e({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new $e({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(r.mediation==="conditional"&&((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new $e({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((u=c.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new $e({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new $e({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new $e({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return c.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new $e({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new $e({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const h=window.location.hostname;if(nf(h)){if(c.rp.id!==h)return new $e({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new $e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new $e({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new $e({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new $e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function xy({error:l,options:r}){const{publicKey:s}=r;if(!s)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(r.signal instanceof AbortSignal)return new $e({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new $e({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const o=window.location.hostname;if(nf(o)){if(s.rpId!==o)return new $e({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new $e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new $e({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new $e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class wy{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const by=new wy;function _y(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:r,user:s,excludeCredentials:o}=l,u=xn(l,["challenge","user","excludeCredentials"]),c=mn(r).buffer,h=Object.assign(Object.assign({},s),{id:mn(s.id).buffer}),p=Object.assign(Object.assign({},u),{challenge:c,user:h});if(o&&o.length>0){p.excludeCredentials=new Array(o.length);for(let g=0;g<o.length;g++){const y=o[g];p.excludeCredentials[g]=Object.assign(Object.assign({},y),{id:mn(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return p}function jy(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:r,allowCredentials:s}=l,o=xn(l,["challenge","allowCredentials"]),u=mn(r).buffer,c=Object.assign(Object.assign({},o),{challenge:u});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const p=s[h];c.allowCredentials[h]=Object.assign(Object.assign({},p),{id:mn(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function ky(l){var r;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l;return{id:l.id,rawId:l.id,response:{attestationObject:Lr(new Uint8Array(l.response.attestationObject)),clientDataJSON:Lr(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Sy(l){var r;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l,o=l.getClientExtensionResults(),u=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:Lr(new Uint8Array(u.authenticatorData)),clientDataJSON:Lr(new Uint8Array(u.clientDataJSON)),signature:Lr(new Uint8Array(u.signature)),userHandle:u.userHandle?Lr(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function nf(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function nh(){var l,r;return!!(Ye()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator?.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.get)=="function")}async function Ny(l){try{const r=await navigator.credentials.create(l);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Fi("Browser returned unexpected credential type",r)}:{data:null,error:new Fi("Empty credential response",r)}}catch(r){return{data:null,error:vy({error:r,options:l})}}}async function Ey(l){try{const r=await navigator.credentials.get(l);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Fi("Browser returned unexpected credential type",r)}:{data:null,error:new Fi("Empty credential response",r)}}catch(r){return{data:null,error:xy({error:r,options:l})}}}const Cy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Oy={userVerification:"preferred",hints:["security-key"]};function Vi(...l){const r=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),s=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),o={};for(const u of l)if(u)for(const c in u){const h=u[c];if(h!==void 0)if(Array.isArray(h))o[c]=h;else if(s(h))o[c]=h;else if(r(h)){const p=o[c];r(p)?o[c]=Vi(p,h):o[c]=Vi(h)}else o[c]=h}return o}function Ty(l,r){return Vi(Cy,l,r||{})}function Py(l,r){return Vi(Oy,l,r||{})}class Ry{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:s,friendlyName:o,signal:u},c){try{const{data:h,error:p}=await this.client.mfa.challenge({factorId:r,webauthn:s});if(!h)return{data:null,error:p};const g=u??by.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:y}=h.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${o}`),y.displayName||(y.displayName=y.name)}switch(h.webauthn.type){case"create":{const y=Ty(h.webauthn.credential_options.publicKey,c?.create),{data:v,error:_}=await Ny({publicKey:y,signal:g});return v?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}case"request":{const y=Py(h.webauthn.credential_options.publicKey,c?.request),{data:v,error:_}=await Ey(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y,signal:g}));return v?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}}}catch(h){return Y(h)?{data:null,error:h}:{data:null,error:new Ir("Unexpected error in challenge",h)}}}async _verify({challengeId:r,factorId:s,webauthn:o}){return this.client.mfa.verify({factorId:s,challengeId:r,webauthn:o})}async _authenticate({factorId:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:u}},c){if(!s)return{data:null,error:new fs("rpId is required for WebAuthn authentication")};try{if(!nh())return{data:null,error:new Ir("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this.challenge({factorId:r,webauthn:{rpId:s,rpOrigins:o},signal:u},{request:c});if(!h)return{data:null,error:p};const{webauthn:g}=h;return this._verify({factorId:r,challengeId:h.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:o,credential_response:g.credential_response}})}catch(h){return Y(h)?{data:null,error:h}:{data:null,error:new Ir("Unexpected error in authenticate",h)}}}async _register({friendlyName:r,rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:u},c){if(!s)return{data:null,error:new fs("rpId is required for WebAuthn registration")};try{if(!nh())return{data:null,error:new Ir("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this._enroll({friendlyName:r});if(!h)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(j=>j.factor_type==="webauthn"&&j.friendly_name===r&&j.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:p};const{data:g,error:y}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:s,rpOrigins:o},signal:u},{create:c});return g?this._verify({factorId:h.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:o,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:y}}catch(h){return Y(h)?{data:null,error:h}:{data:null,error:new Ir("Unexpected error in register",h)}}}}py();const Ay={url:Og,storageKey:Tg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Pg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function sh(l,r,s){return await s()}const hn={};class ps{get jwks(){var r,s;return(s=(r=hn[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(r){hn[this.storageKey]=Object.assign(Object.assign({},hn[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,s;return(s=(r=hn[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){hn[this.storageKey]=Object.assign(Object.assign({},hn[this.storageKey]),{cachedAt:r})}constructor(r){var s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ps.nextInstanceID,ps.nextInstanceID+=1,this.instanceID>0&&Ye()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},Ay),r);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new dy({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=ef(u.fetch),this.lock=u.lock||sh,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:Ye()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=fy:this.lock=sh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ry(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Zh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rh(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=rh(this.memoryStorage)),Ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qh}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let s={},o="none";if(Ye()&&(s=qg(window.location.href),this._isImplicitGrantCallback(s)?o="implicit":await this._isPKCECallback(s)&&(o="pkce")),Ye()&&this.detectSessionInUrl&&o!=="none"){const{data:u,error:c}=await this._getSessionFromURL(s,o);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Ug(c)){const g=(r=c.details)===null||r===void 0?void 0:r.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:h,redirectType:p}=u;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Y(s)?this._returnResult({error:s}):this._returnResult({error:new Ir("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,o,u;try{const c=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(s=r?.options)===null||s===void 0?void 0:s.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(u=r?.options)===null||u===void 0?void 0:u.captchaToken}},xform:Tt}),{data:h,error:p}=c;if(p||!h)return this._returnResult({data:{user:null,session:null},error:p});const g=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(Y(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(r){var s,o,u;try{let c;if("email"in r){const{email:v,password:_,options:j}=r;let k=null,P=null;this.flowType==="pkce"&&([k,P]=await un(this.storage,this.storageKey)),c=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j?.emailRedirectTo,body:{email:v,password:_,data:(s=j?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:j?.captchaToken},code_challenge:k,code_challenge_method:P},xform:Tt})}else if("phone"in r){const{phone:v,password:_,options:j}=r;c=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(o=j?.data)!==null&&o!==void 0?o:{},channel:(u=j?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:j?.captchaToken}},xform:Tt})}else throw new $i("You must provide either an email or phone number and a password");const{data:h,error:p}=c;if(p||!h)return this._returnResult({data:{user:null,session:null},error:p});const g=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(Y(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(r){try{let s;if("email"in r){const{email:c,password:h,options:p}=r;s=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:eh})}else if("phone"in r){const{phone:c,password:h,options:p}=r;s=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:eh})}else throw new $i("You must provide either an email or phone number and a password");const{data:o,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!o||!o.session||!o.user){const c=new ln;return this._returnResult({data:{user:null,session:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:u})}catch(s){if(Y(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(r){var s,o,u,c;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=r.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(c=r.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:s}=r;switch(s){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(r){var s,o,u,c,h,p,g,y,v,_,j;let k,P;if("message"in r)k=r.message,P=r.signature;else{const{chain:R,wallet:O,statement:U,options:A}=r;let T;if(Ye())if(typeof O=="object")T=O;else{const J=window;if("ethereum"in J&&typeof J.ethereum=="object"&&"request"in J.ethereum&&typeof J.ethereum.request=="function")T=J.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=O}const q=new URL((s=A?.url)!==null&&s!==void 0?s:window.location.href),ie=await T.request({method:"eth_requestAccounts"}).then(J=>J).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ie||ie.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ne=rf(ie[0]);let ae=(o=A?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!ae){const J=await T.request({method:"eth_chainId"});ae=my(J)}const je={domain:q.host,address:ne,statement:U,uri:q.href,version:"1",chainId:ae,nonce:(u=A?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(h=(c=A?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(p=A?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(g=A?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(y=A?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(v=A?.signInWithEthereum)===null||v===void 0?void 0:v.resources};k=yy(je),P=await T.request({method:"personal_sign",params:[gy(k),ne]})}try{const{data:R,error:O}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:k,signature:P},!((_=r.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(j=r.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Tt});if(O)throw O;if(!R||!R.session||!R.user){const U=new ln;return this._returnResult({data:{user:null,session:null},error:U})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:O})}catch(R){if(Y(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(r){var s,o,u,c,h,p,g,y,v,_,j,k;let P,R;if("message"in r)P=r.message,R=r.signature;else{const{chain:O,wallet:U,statement:A,options:T}=r;let q;if(Ye())if(typeof U=="object")q=U;else{const ne=window;if("solana"in ne&&typeof ne.solana=="object"&&("signIn"in ne.solana&&typeof ne.solana.signIn=="function"||"signMessage"in ne.solana&&typeof ne.solana.signMessage=="function"))q=ne.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=U}const ie=new URL((s=T?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in q&&q.signIn){const ne=await q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:ie.host,uri:ie.href}),A?{statement:A}:null));let ae;if(Array.isArray(ne)&&ne[0]&&typeof ne[0]=="object")ae=ne[0];else if(ne&&typeof ne=="object"&&"signedMessage"in ne&&"signature"in ne)ae=ne;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ae&&"signature"in ae&&(typeof ae.signedMessage=="string"||ae.signedMessage instanceof Uint8Array)&&ae.signature instanceof Uint8Array)P=typeof ae.signedMessage=="string"?ae.signedMessage:new TextDecoder().decode(ae.signedMessage),R=ae.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");P=[`${ie.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${ie.href}`,`Issued At: ${(u=(o=T?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((c=T?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((h=T?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((p=T?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((g=T?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((y=T?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((_=(v=T?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...T.signInWithSolana.resources.map(ae=>`- ${ae}`)]:[]].join(`
`);const ne=await q.signMessage(new TextEncoder().encode(P),"utf8");if(!ne||!(ne instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=ne}}try{const{data:O,error:U}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:P,signature:Lr(R)},!((j=r.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(k=r.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Tt});if(U)throw U;if(!O||!O.session||!O.user){const A=new ln;return this._returnResult({data:{user:null,session:null},error:A})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:U})}catch(O){if(Y(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async _exchangeCodeForSession(r){const s=await Pr(this.storage,`${this.storageKey}-code-verifier`),[o,u]=(s??"").split("/");try{const{data:c,error:h}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:Tt});if(await fr(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!c||!c.session||!c.user){const p=new ln;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:u??null}),error:h})}catch(c){if(Y(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(r){try{const{options:s,provider:o,token:u,access_token:c,nonce:h}=r,p=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:u,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Tt}),{data:g,error:y}=p;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!g||!g.session||!g.user){const v=new ln;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:y})}catch(s){if(Y(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(r){var s,o,u,c,h;try{if("email"in r){const{email:p,options:g}=r;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await un(this.storage,this.storageKey));const{error:_}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(o=g?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:v},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in r){const{phone:p,options:g}=r,{data:y,error:v}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(u=g?.data)!==null&&u!==void 0?u:{},create_user:(c=g?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(h=g?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:v})}throw new $i("You must provide either an email or phone number.")}catch(p){if(Y(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(r){var s,o;try{let u,c;"options"in r&&(u=(s=r.options)===null||s===void 0?void 0:s.redirectTo,c=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:h,error:p}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:c}}),redirectTo:u,xform:Tt});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,y=h.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(u){if(Y(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(r){var s,o,u;try{let c=null,h=null;this.flowType==="pkce"&&([c,h]=await un(this.storage,this.storageKey));const p=await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((u=r?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:ly});return this._returnResult(p)}catch(c){if(Y(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)throw o;if(!s)throw new Ot;const{error:u}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(r){if(Y(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:o,type:u,options:c}=r,{error:h}=await te(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in r){const{phone:o,type:u,options:c}=r,{data:h,error:p}=await te(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:p})}throw new $i("You must provide either an email or phone number and a type")}catch(s){if(Y(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await Pr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<Qa:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const h=await Pr(this.userStorage,this.storageKey+"-user");h?.user?r.user=h.user:r.user=Za()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};r.user=sy(r.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:u,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:pr}):await this._useSession(async s=>{var o,u,c;const{data:h,error:p}=s;if(p)throw p;return!(!((o=h.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ot}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0,xform:pr})})}catch(s){if(Y(s))return $g(s)&&(await this._removeSession(),await fr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async o=>{const{data:u,error:c}=o;if(c)throw c;if(!u.session)throw new Ot;const h=u.session;let p=null,g=null;this.flowType==="pkce"&&r.email!=null&&([p,g]=await un(this.storage,this.storageKey));const{data:y,error:v}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:g}),jwt:h.access_token,xform:pr});if(v)throw v;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(o){if(Y(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Ot;const s=Date.now()/1e3;let o=s,u=!0,c=null;const{payload:h}=Xa(r.access_token);if(h.exp&&(o=h.exp,u=o<=s),u){const{data:p,error:g}=await this._callRefreshToken(r.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:g}=await this._getUser(r.access_token);if(g)throw g;c={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(Y(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var o;if(!r){const{data:h,error:p}=s;if(p)throw p;r=(o=h.session)!==null&&o!==void 0?o:void 0}if(!r?.refresh_token)throw new Ot;const{data:u,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(Y(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(r,s){try{if(!Ye())throw new Ui("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Ui(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Kd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ui("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Kd("No code detected.");const{data:A,error:T}=await this._exchangeCodeForSession(r.code);if(T)throw T;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:u,access_token:c,refresh_token:h,expires_in:p,expires_at:g,token_type:y}=r;if(!c||!p||!h||!y)throw new Ui("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(p);let j=v+_;g&&(j=parseInt(g));const k=j-v;k*1e3<=fn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${_}s`);const P=j-_;v-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,j,v):v-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,j,v);const{data:R,error:O}=await this._getUser(c);if(O)throw O;const U={provider_token:o,provider_refresh_token:u,access_token:c,expires_in:_,expires_at:j,refresh_token:h,token_type:y,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:U,redirectType:r.type},error:null})}catch(o){if(Y(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await Pr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:u,error:c}=s;if(c)return this._returnResult({error:c});const h=(o=u.session)===null||o===void 0?void 0:o.access_token;if(h){const{error:p}=await this.admin.signOut(h,r);if(p&&!(Lg(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return r!=="others"&&(await this._removeSession(),await fr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const s=Wg(),o={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async s=>{var o,u;try{const{data:{session:c},error:h}=s;if(h)throw h;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",r,"session",c)}catch(c){await((u=this.stateChangeEmitters.get(r))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",c),console.error(c)}})}async resetPasswordForEmail(r,s={}){let o=null,u=null;this.flowType==="pkce"&&([o,u]=await un(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:u,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(Y(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var r;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(s){if(Y(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var s;try{const{data:o,error:u}=await this._useSession(async c=>{var h,p,g,y,v;const{data:_,error:j}=c;if(j)throw j;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=r.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",k,{headers:this.headers,jwt:(v=(y=_.session)===null||y===void 0?void 0:y.access_token)!==null&&v!==void 0?v:void 0})});if(u)throw u;return Ye()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:r.provider,url:o?.url},error:null})}catch(o){if(Y(o))return this._returnResult({data:{provider:r.provider,url:null},error:o});throw o}}async linkIdentityIdToken(r){return await this._useSession(async s=>{var o;try{const{error:u,data:{session:c}}=s;if(u)throw u;const{options:h,provider:p,token:g,access_token:y,nonce:v}=r,_=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=c?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:p,id_token:g,access_token:y,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Tt}),{data:j,error:k}=_;return k?this._returnResult({data:{user:null,session:null},error:k}):!j||!j.session||!j.user?this._returnResult({data:{user:null,session:null},error:new ln}):(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("USER_UPDATED",j.session)),this._returnResult({data:j,error:k}))}catch(u){if(Y(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(r){try{return await this._useSession(async s=>{var o,u;const{data:c,error:h}=s;if(h)throw h;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(u=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0})})}catch(s){if(Y(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await Jg(async u=>(u>0&&await Kg(200*Math.pow(2,u-1)),this._debug(s,"refreshing attempt",u),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Tt})),(u,c)=>{const h=200*Math.pow(2,u);return c&&Ya(c)&&Date.now()+h-o<fn})}catch(o){if(this._debug(s,"error",o),Y(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",o),Ye()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const u=await Pr(this.storage,this.storageKey);if(u&&this.userStorage){let h=await Pr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:u.user},await pn(this.userStorage,this.storageKey+"-user",h)),u.user=(r=h?.user)!==null&&r!==void 0?r:Za()}else if(u&&!u.user&&!u.user){const h=await Pr(this.storage,this.storageKey+"-user");h&&h?.user?(u.user=h.user,await fr(this.storage,this.storageKey+"-user"),await pn(this.storage,this.storageKey,u)):u.user=Za()}if(this._debug(o,"session from storage",u),!this._isValidSession(u)){this._debug(o,"session is not valid"),u!==null&&await this._removeSession();return}const c=((s=u.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Qa;if(this._debug(o,`session has${c?"":" not"} expired with margin of ${Qa}s`),c){if(this.autoRefreshToken&&u.refresh_token){const{error:h}=await this._callRefreshToken(u.refresh_token);h&&(console.error(h),Ya(h)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:p}=await this._getUser(u.access_token);!p&&h?.user?(u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(o,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(o,"error",u),console.error(u);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var s,o;if(!r)throw new Ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Hi;const{data:c,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!c.session)throw new Ot;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={data:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(u,"error",c),Y(c)){const h={data:null,error:c};return Ya(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(c),c}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(r,s,o=!0){const u=`#_notifyAllSubscribers(${r})`;this._debug(u,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:s});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,s)}catch(g){c.push(g)}});if(await Promise.all(h),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(u,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const s=Object.assign({},r),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await pn(this.userStorage,this.storageKey+"-user",{user:s.user});const u=Object.assign({},s);delete u.user;const c=Xd(u);await pn(this.storage,this.storageKey,c)}else{const u=Xd(s);await pn(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await fr(this.storage,this.storageKey),await fr(this.storage,this.storageKey+"-code-verifier"),await fr(this.storage,this.storageKey+"-user"),this.userStorage&&await fr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Ye()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),fn);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((o.expires_at*1e3-r)/fn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${fn}ms, refresh threshold is ${hl} ticks`),u<=hl&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof tf)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ye()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,o){const u=[`provider=${encodeURIComponent(s)}`];if(o?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&u.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[c,h]=await un(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});u.push(p.toString())}if(o?.queryParams){const c=new URLSearchParams(o.queryParams);u.push(c.toString())}return o?.skipBrowserRedirect&&u.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${u.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var o;const{data:u,error:c}=s;return c?this._returnResult({data:null,error:c}):await te(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=u?.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(Y(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(r){try{return await this._useSession(async s=>{var o,u;const{data:c,error:h}=s;if(h)return this._returnResult({data:null,error:h});const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:g,error:y}=await te(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token});return y?this._returnResult({data:null,error:y}):(r.factorType==="totp"&&g.type==="totp"&&(!((u=g?.totp)===null||u===void 0)&&u.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(s){if(Y(s))return this._returnResult({data:null,error:s});throw s}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?ky(r.webauthn.credential_response):Sy(r.webauthn.credential_response)})}:{code:r.code}),{data:p,error:g}=await te(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:h,headers:this.headers,jwt:(o=u?.session)===null||o===void 0?void 0:o.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:g}))})}catch(s){if(Y(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const h=await te(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(o=u?.session)===null||o===void 0?void 0:o.access_token});if(h.error)return h;const{data:p}=h;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:_y(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:jy(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(Y(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(r){const{data:s,error:o}=await this._challenge({factorId:r.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){var r;const{data:{user:s},error:o}=await this.getUser();if(o)return{data:null,error:o};const u={all:[],phone:[],totp:[],webauthn:[]};for(const c of(r=s?.factors)!==null&&r!==void 0?r:[])u.all.push(c),c.status==="verified"&&u[c.factor_type].push(c);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var r,s;const{data:{session:o},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Xa(o.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((s=(r=o.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const y=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async s=>{const{data:{session:o},error:u}=s;return u?this._returnResult({data:null,error:u}):o?await te(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:o.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Ot})})}catch(s){if(Y(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(r,s){try{return await this._useSession(async o=>{const{data:{session:u},error:c}=o;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new Ot});const h=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&Ye()&&!s?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(o){if(Y(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(r,s){try{return await this._useSession(async o=>{const{data:{session:u},error:c}=o;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new Ot});const h=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&Ye()&&!s?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(o){if(Y(o))return this._returnResult({data:null,error:o});throw o}}async fetchJwk(r,s={keys:[]}){let o=s.keys.find(p=>p.kid===r);if(o)return o;const u=Date.now();if(o=this.jwks.keys.find(p=>p.kid===r),o&&this.jwks_cached_at+Ag>u)return o;const{data:c,error:h}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=u,o=c.keys.find(p=>p.kid===r),!o)?null:o}async getClaims(r,s={}){try{let o=r;if(!o){const{data:k,error:P}=await this.getSession();if(P||!k.session)return this._returnResult({data:null,error:P});o=k.session.access_token}const{header:u,payload:c,signature:h,raw:{header:p,payload:g}}=Xa(o);s?.allowExpired||ty(c.exp);const y=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!y){const{error:k}=await this.getUser(o);if(k)throw k;return{data:{claims:c,header:u,signature:h},error:null}}const v=ry(u.alg),_=await crypto.subtle.importKey("jwk",y,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,h,Fg(`${p}.${g}`)))throw new ml("Invalid JWT signature");return{data:{claims:c,header:u,signature:h},error:null}}catch(o){if(Y(o))return this._returnResult({data:null,error:o});throw o}}}ps.nextInstanceID=0;const Iy=ps;class Ly extends Iy{constructor(r){super(r)}}class $y{constructor(r,s,o){var u,c,h;this.supabaseUrl=r,this.supabaseKey=s;const p=Cg(r);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const g=`sb-${p.hostname.split(".")[0]}-auth-token`,y={db:wg,realtime:_g,auth:Object.assign(Object.assign({},bg),{storageKey:g}),global:xg},v=Eg(o??{},y);this.storageKey=(u=v.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(c=v.global.headers)!==null&&c!==void 0?c:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(_,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=v.auth)!==null&&h!==void 0?h:{},this.headers,v.global.fetch),this.fetch=Sg(s,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new Om(new URL("rest/v1",p).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new gg(this.storageUrl.href,this.headers,this.fetch,o?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new Sm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,s={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,s,o)}channel(r,s={config:{}}){return this.realtime.channel(r,s)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r,s;if(this.accessToken)return await this.accessToken();const{data:o}=await this.auth.getSession();return(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:s,detectSessionInUrl:o,storage:u,userStorage:c,storageKey:h,flowType:p,lock:g,debug:y,throwOnError:v},_,j){const k={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ly({url:this.authUrl.href,headers:Object.assign(Object.assign({},k),_),storageKey:h,autoRefreshToken:r,persistSession:s,detectSessionInUrl:o,storage:u,userStorage:c,flowType:p,lock:g,debug:y,throwOnError:v,fetch:j,hasCustomAuthorizationHeader:Object.keys(this.headers).some(P=>P.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new Hm(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,o)=>{this._handleTokenChanged(s,"CLIENT",o?.access_token)})}_handleTokenChanged(r,s,o){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Uy=(l,r,s)=>new $y(l,r,s);function Dy(){if(typeof window<"u"||typeof process>"u")return!1;const l=process.version;if(l==null)return!1;const r=l.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Dy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Nl="wevaoswijlgchhflluhy",El="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndldmFvc3dpamxnY2hoZmxsdWh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIzNzEwNjUsImV4cCI6MjA3Nzk0NzA2NX0.4U8EzUSrdeV_lWjCLtbZtPTIsOmg2lIM6q-GJDfW2ms",ih=Object.freeze(Object.defineProperty({__proto__:null,projectId:Nl,publicAnonKey:El},Symbol.toStringTag,{value:"Module"}));let tl=null;function My(){return tl||(tl=Uy(`https://${Nl}.supabase.co`,El)),tl}const gn=My();function zy(l){return`https://${Nl}.supabase.co/functions/v1/make-server-98e3e7a7${l}`}async function Xe(l,r={}){const{data:{session:s}}=await gn.auth.getSession(),o=s?.access_token||El;return await fetch(zy(l),{...r,headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json",...r.headers}})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fy=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,s,o)=>o?o.toUpperCase():s.toLowerCase()),oh=l=>{const r=Fy(l);return r.charAt(0).toUpperCase()+r.slice(1)},sf=(...l)=>l.filter((r,s,o)=>!!r&&r.trim()!==""&&o.indexOf(r)===s).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=F.forwardRef(({color:l="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:u="",children:c,iconNode:h,...p},g)=>F.createElement("svg",{ref:g,...Vy,width:r,height:r,stroke:l,strokeWidth:o?Number(s)*24/Number(r):s,className:sf("lucide",u),...p},[...h.map(([y,v])=>F.createElement(y,v)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(l,r)=>{const s=F.forwardRef(({className:o,...u},c)=>F.createElement(Wy,{ref:c,iconNode:r,className:sf(`lucide-${By(oh(l))}`,`lucide-${l}`,o),...u}));return s.displayName=oh(l),s};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Hy=pe("arrow-right",qy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Jy=pe("banknote",Ky);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],ah=pe("building-2",Gy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Di=pe("check",Qy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Xy=pe("circle-alert",Yy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ms=pe("circle-check-big",Zy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],tv=pe("circle-check",ev);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],of=pe("circle-user",rv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],af=pe("circle-x",nv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],iv=pe("clock",sv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],lh=pe("copy",ov);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Dt=pe("crown",av);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],uv=pe("dollar-sign",lv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Wi=pe("file-text",cv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],hv=pe("headphones",dv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],uh=pe("log-out",fv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],mv=pe("mail",pv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],yv=pe("menu",gv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],lf=pe("pen",vv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],wv=pe("phone",xv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ds=pe("plus",bv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],uf=pe("save",_v);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],cf=pe("shield",jv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Sv=pe("trash-2",kv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Ev=pe("trending-down",Nv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],gs=pe("trending-up",Cv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],rl=pe("user-check",Ov);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],vn=pe("users",Tv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gr=pe("x",Pv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],df=pe("zap",Rv);function Av({onGetStarted:l}){return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50",children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-4 pt-20 pb-16",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-accent/20 rounded-full mb-6 border border-accent",children:[a.jsx(Dt,{className:"w-4 h-4 text-accent-foreground"}),a.jsx("span",{className:"text-accent-foreground",children:"India's First Multi-Bank Loan Marketplace"})]}),a.jsxs("h1",{className:"text-primary mb-6 max-w-4xl mx-auto",children:["Compare Loan Offers from ",a.jsx("span",{className:"text-accent-foreground",children:"Multiple Banks"})," in Minutes"]}),a.jsx("p",{className:"text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Submit your KYC once, get instant offers from 10+ partner banks. Compare rates, choose the best deal, and keep your contact info private until you're ready."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs("button",{onClick:l,className:"px-8 py-4 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors flex items-center justify-center gap-2",children:["Get Started Free",a.jsx(Hy,{className:"w-5 h-5"})]}),a.jsxs("button",{onClick:l,className:"px-8 py-4 bg-accent text-accent-foreground rounded-lg hover:bg-accent/90 transition-colors flex items-center justify-center gap-2",children:[a.jsx(Dt,{className:"w-5 h-5"}),"View Premium Plans"]})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-20",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-border",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:a.jsx(cf,{className:"w-6 h-6 text-primary"})}),a.jsx("h3",{className:"text-foreground mb-2",children:"Privacy Protected"}),a.jsx("p",{className:"text-muted-foreground",children:"Your contact info stays hidden until you accept an offer"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-border",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:a.jsx(df,{className:"w-6 h-6 text-primary"})}),a.jsx("h3",{className:"text-foreground mb-2",children:"Instant Offers"}),a.jsx("p",{className:"text-muted-foreground",children:"Get real-time loan offers from multiple banks in one place"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-border",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:a.jsx(gs,{className:"w-6 h-6 text-primary"})}),a.jsx("h3",{className:"text-foreground mb-2",children:"Best Rates"}),a.jsx("p",{className:"text-muted-foreground",children:"Compare interest rates and EMI across all offers"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-border",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:a.jsx(vn,{className:"w-6 h-6 text-primary"})}),a.jsx("h3",{className:"text-foreground mb-2",children:"RM Support"}),a.jsx("p",{className:"text-muted-foreground",children:"Dedicated relationship manager to guide you"})]})]}),a.jsxs("div",{className:"mb-20",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-primary mb-4",children:"How LoanLinker Works"}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Get the best loan offers in 3 simple steps"})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-primary text-primary-foreground rounded-full flex items-center justify-center mx-auto mb-4",children:"1"}),a.jsx("h3",{className:"text-foreground mb-2",children:"Complete KYC Once"}),a.jsx("p",{className:"text-muted-foreground",children:"Submit your Aadhaar, PAN, income details and get verified instantly"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-primary text-primary-foreground rounded-full flex items-center justify-center mx-auto mb-4",children:"2"}),a.jsx("h3",{className:"text-foreground mb-2",children:"Get Multiple Offers"}),a.jsx("p",{className:"text-muted-foreground",children:"Banks review your profile and submit competitive loan offers"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-primary text-primary-foreground rounded-full flex items-center justify-center mx-auto mb-4",children:"3"}),a.jsx("h3",{className:"text-foreground mb-2",children:"Choose & Proceed"}),a.jsx("p",{className:"text-muted-foreground",children:"Compare rates, select the best offer, and complete your loan process"})]})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-accent/20 to-accent/10 rounded-2xl p-8 border-2 border-accent mb-20",children:a.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[a.jsx(Dt,{className:"w-12 h-12 text-accent-foreground mx-auto mb-4"}),a.jsx("h2",{className:"text-primary mb-4",children:"Go Premium for More"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Unlock unlimited comparisons, ad-free experience, and priority support"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[a.jsx("p",{className:"text-foreground",children:"Silver - 499"}),a.jsx("p",{className:"text-muted-foreground",children:"3 months"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-accent",children:[a.jsx("p",{className:"text-accent-foreground",children:"Gold - 999"}),a.jsx("p",{className:"text-muted-foreground",children:"6 months  Popular"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[a.jsx("p",{className:"text-foreground",children:"Platinum - 1999"}),a.jsx("p",{className:"text-muted-foreground",children:"12 months"})]})]}),a.jsx("button",{onClick:l,className:"px-8 py-3 bg-accent text-accent-foreground rounded-lg hover:bg-accent/90 transition-colors",children:"View All Premium Benefits"})]})}),a.jsxs("div",{className:"text-center mb-20",children:[a.jsx("h2",{className:"text-primary mb-8",children:"Trusted by Thousands"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-primary mb-2",children:"10,000+"}),a.jsx("p",{className:"text-muted-foreground",children:"Happy Borrowers"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-primary mb-2",children:"15+"}),a.jsx("p",{className:"text-muted-foreground",children:"Partner Banks"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-primary mb-2",children:"500Cr+"}),a.jsx("p",{className:"text-muted-foreground",children:"Loans Facilitated"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-border",children:[a.jsx("h3",{className:"text-primary mb-6 text-center",children:"Account Access Guide"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("h4",{className:"text-blue-900 mb-2",children:" For Borrowers"}),a.jsx("p",{className:"text-blue-700 mb-3",children:"Sign up directly and start comparing loan offers from multiple banks"}),a.jsx("button",{onClick:l,className:"w-full px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Sign Up Now"})]}),a.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[a.jsx("h4",{className:"text-purple-900 mb-2",children:" For Banks & RMs"}),a.jsx("p",{className:"text-purple-700 mb-3",children:"Contact platform admin to get your account credentials"}),a.jsx("button",{onClick:l,className:"w-full px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Login Here"})]}),a.jsxs("div",{className:"p-4 bg-accent/20 rounded-lg border border-accent",children:[a.jsx("h4",{className:"text-accent-foreground mb-2",children:" Platform Admin"}),a.jsx("p",{className:"text-muted-foreground mb-3",children:"Default credentials: admin@loanlinker.com"}),a.jsx("button",{onClick:l,className:"w-full px-4 py-2 bg-accent text-accent-foreground rounded hover:bg-accent/90",children:"Admin Login"})]})]})]})]}),a.jsx("div",{className:"bg-primary text-primary-foreground py-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[a.jsx("p",{className:"mb-2",children:"LoanLinker - India's First Multi-Bank Loan Marketplace"}),a.jsx("p",{className:"text-primary-foreground/80",children:" 2025 LoanLinker. RBI Compliant | Data Protected with AES-256 Encryption"})]})})]})}const Iv="modulepreload",Lv=function(l){return"/"+l},ch={},dh=function(r,s,o){let u=Promise.resolve();if(s&&s.length>0){let h=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");u=h(s.map(y=>{if(y=Lv(y),y in ch)return;ch[y]=!0;const v=y.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${_}`))return;const j=document.createElement("link");if(j.rel=v?"stylesheet":Iv,v||(j.as="script"),j.crossOrigin="",j.href=y,g&&j.setAttribute("nonce",g),document.head.appendChild(j),v)return new Promise((k,P)=>{j.addEventListener("load",k),j.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${y}`)))})}))}function c(h){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=h,window.dispatchEvent(p),!p.defaultPrevented)throw h}return u.then(h=>{for(const p of h||[])p.status==="rejected"&&c(p.reason);return r().catch(c)})};function $v({onSuccess:l,onClose:r}){const[s,o]=F.useState(!0),[u,c]=F.useState(""),[h,p]=F.useState(""),[g,y]=F.useState(""),[v,_]=F.useState(""),[j,k]=F.useState(!1),[P,R]=F.useState(""),O=async U=>{U.preventDefault(),k(!0),R("");try{if(s){const{data:A,error:T}=await gn.auth.signInWithPassword({email:u,password:h});if(T)throw T;l()}else{const A=await fetch(`https://${(await dh(async()=>{const{projectId:ie}=await Promise.resolve().then(()=>ih);return{projectId:ie}},void 0)).projectId}.supabase.co/functions/v1/make-server-98e3e7a7/signup`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(await dh(async()=>{const{publicAnonKey:ie}=await Promise.resolve().then(()=>ih);return{publicAnonKey:ie}},void 0)).publicAnonKey}`},body:JSON.stringify({email:u,password:h,name:g,phone:v})}),T=await A.json();if(!A.ok)throw new Error(T.error||"Signup failed");const{error:q}=await gn.auth.signInWithPassword({email:u,password:h});if(q)throw q;l()}}catch(A){R(A.message||"An error occurred")}finally{k(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-8 relative",children:[a.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:a.jsx(gr,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-primary mb-2",children:s?"Welcome Back":"Create Account"}),a.jsx("p",{className:"text-muted-foreground",children:s?"Sign in to continue":"Join LoanLinker today"}),!s&&a.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200 text-left",children:[a.jsx("p",{className:"text-blue-900 mb-1",children:" Account Types:"}),a.jsxs("p",{className:"text-blue-700",children:[" ",a.jsx("strong",{children:"Users (Borrowers)"}),": Can sign up here",a.jsx("br",{})," ",a.jsx("strong",{children:"Banks & RMs"}),": Contact admin for account creation"]})]})]}),a.jsxs("form",{onSubmit:O,className:"space-y-4",children:[!s&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Full Name"}),a.jsx("input",{type:"text",value:g,onChange:U=>y(U.target.value),className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Phone Number"}),a.jsx("input",{type:"tel",value:v,onChange:U=>_(U.target.value),className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Email"}),a.jsx("input",{type:"email",value:u,onChange:U=>c(U.target.value),className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Password"}),a.jsx("input",{type:"password",value:h,onChange:U=>p(U.target.value),className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),P&&a.jsx("div",{className:"p-3 bg-red-50 text-red-600 rounded-lg",children:P}),a.jsx("button",{type:"submit",disabled:j,className:"w-full py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50",children:j?"Please wait...":s?"Sign In":"Sign Up"}),a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",onClick:()=>{o(!s),R("")},className:"text-primary hover:underline",children:s?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})})}function Uv({onSuccess:l}){const[r,s]=F.useState({aadhaar:"",pan:"",income:"",employmentType:"salaried",city:"",creditScore:""}),[o,u]=F.useState(!1),[c,h]=F.useState(""),p=async g=>{g.preventDefault(),u(!0),h("");try{const y=await Xe("/kyc",{method:"POST",body:JSON.stringify(r)}),v=await y.json();if(!y.ok)throw new Error(v.error||"KYC submission failed");l()}catch(y){h(y.message||"An error occurred")}finally{u(!1)}};return a.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-2xl shadow-lg p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(Wi,{className:"w-6 h-6 text-primary"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-primary",children:"Complete Your KYC"}),a.jsx("p",{className:"text-muted-foreground",children:"Verify your identity to access loan offers"})]})]}),a.jsxs("form",{onSubmit:p,className:"space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Aadhaar Number"}),a.jsx("input",{type:"text",value:r.aadhaar,onChange:g=>s({...r,aadhaar:g.target.value}),placeholder:"1234 5678 9012",maxLength:12,className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"PAN Number"}),a.jsx("input",{type:"text",value:r.pan,onChange:g=>s({...r,pan:g.target.value.toUpperCase()}),placeholder:"ABCDE1234F",maxLength:10,className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Monthly Income ()"}),a.jsx("input",{type:"number",value:r.income,onChange:g=>s({...r,income:g.target.value}),placeholder:"50000",className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Employment Type"}),a.jsxs("select",{value:r.employmentType,onChange:g=>s({...r,employmentType:g.target.value}),className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[a.jsx("option",{value:"salaried",children:"Salaried"}),a.jsx("option",{value:"self-employed",children:"Self-Employed"}),a.jsx("option",{value:"business",children:"Business Owner"}),a.jsx("option",{value:"professional",children:"Professional"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"City"}),a.jsx("input",{type:"text",value:r.city,onChange:g=>s({...r,city:g.target.value}),placeholder:"Mumbai",className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Credit Score (Optional)"}),a.jsx("input",{type:"number",value:r.creditScore,onChange:g=>s({...r,creditScore:g.target.value}),placeholder:"750",min:"300",max:"900",className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),a.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ms,{className:"w-5 h-5 text-blue-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-blue-900 mb-1",children:"Data Security"}),a.jsx("p",{className:"text-blue-700",children:"Your personal information is encrypted with AES-256 and stored securely. Banks only see anonymized data until you accept an offer."})]})]})}),c&&a.jsx("div",{className:"p-3 bg-red-50 text-red-600 rounded-lg",children:c}),a.jsx("button",{type:"submit",disabled:o,className:"w-full py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50",children:o?"Submitting...":"Submit KYC & Continue"})]})]})}function Dv({onSuccess:l,onClose:r}){const[s,o]=F.useState({loanType:"personal",amount:"",tenure:"12",purpose:""}),[u,c]=F.useState(!1),[h,p]=F.useState([{loanType:"personal",amount:"",tenure:"",emi:"",remainingTenure:""}]),[g,y]=F.useState(!1),[v,_]=F.useState(""),j=()=>{p([...h,{loanType:"personal",amount:"",tenure:"",emi:"",remainingTenure:""}])},k=O=>{h.length>1&&p(h.filter((U,A)=>A!==O))},P=(O,U,A)=>{const T=[...h];T[O][U]=A,p(T)},R=async O=>{O.preventDefault(),y(!0),_("");try{const U=await Xe("/loan-application",{method:"POST",body:JSON.stringify({...s,amount:parseFloat(s.amount),tenure:parseInt(s.tenure),hasExistingLoans:u,existingLoans:u?h.filter(T=>T.amount&&T.tenure&&T.emi&&T.remainingTenure):[]})}),A=await U.json();if(!U.ok)throw new Error(A.error||"Application submission failed");l()}catch(U){_(U.message||"An error occurred")}finally{y(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-8 relative my-8 max-h-[90vh] overflow-y-auto",children:[a.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:a.jsx(gr,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-accent/20 rounded-full flex items-center justify-center",children:a.jsx(Jy,{className:"w-6 h-6 text-accent-foreground"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-primary",children:"Apply for Loan"}),a.jsx("p",{className:"text-muted-foreground",children:"Get offers from multiple banks"})]})]}),a.jsxs("form",{onSubmit:R,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Loan Type"}),a.jsxs("select",{value:s.loanType,onChange:O=>o({...s,loanType:O.target.value}),className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[a.jsx("option",{value:"personal",children:"Personal Loan"}),a.jsx("option",{value:"home",children:"Home Loan"}),a.jsx("option",{value:"car",children:"Car Loan"}),a.jsx("option",{value:"business",children:"Business Loan"}),a.jsx("option",{value:"education",children:"Education Loan"}),a.jsx("option",{value:"credit-card",children:"Credit Card"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Loan Amount ()"}),a.jsx("input",{type:"number",value:s.amount,onChange:O=>o({...s,amount:O.target.value}),placeholder:"500000",min:"10000",className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Tenure (months)"}),a.jsxs("select",{value:s.tenure,onChange:O=>o({...s,tenure:O.target.value}),className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[a.jsx("option",{value:"6",children:"6 months"}),a.jsx("option",{value:"12",children:"12 months"}),a.jsx("option",{value:"24",children:"24 months"}),a.jsx("option",{value:"36",children:"36 months"}),a.jsx("option",{value:"48",children:"48 months"}),a.jsx("option",{value:"60",children:"60 months"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Purpose"}),a.jsx("textarea",{value:s.purpose,onChange:O=>o({...s,purpose:O.target.value}),placeholder:"Brief description of loan purpose",rows:3,className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none",required:!0})]}),a.jsxs("div",{className:"border-t border-border pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("label",{className:"text-foreground",children:"Do you have any existing loans?"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"hasExistingLoans",checked:u===!1,onChange:()=>c(!1),className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"text-foreground",children:"No"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"hasExistingLoans",checked:u===!0,onChange:()=>c(!0),className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"text-foreground",children:"Yes"})]})]})]}),u&&a.jsxs("div",{className:"space-y-4 mt-4",children:[a.jsx("p",{className:"text-muted-foreground",children:"Please provide details of all your existing loans:"}),h.map((O,U)=>a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-border space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-foreground",children:["Loan ",U+1]}),h.length>1&&a.jsx("button",{type:"button",onClick:()=>k(U),className:"text-red-600 hover:text-red-700",children:a.jsx(Sv,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-muted-foreground",children:"Loan Type"}),a.jsxs("select",{value:O.loanType,onChange:A=>P(U,"loanType",A.target.value),className:"w-full px-3 py-2 bg-white border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[a.jsx("option",{value:"personal",children:"Personal Loan"}),a.jsx("option",{value:"home",children:"Home Loan"}),a.jsx("option",{value:"car",children:"Car Loan"}),a.jsx("option",{value:"business",children:"Business Loan"}),a.jsx("option",{value:"education",children:"Education Loan"}),a.jsx("option",{value:"credit-card",children:"Credit Card"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-muted-foreground",children:"Total Amount ()"}),a.jsx("input",{type:"number",value:O.amount,onChange:A=>P(U,"amount",A.target.value),placeholder:"500000",className:"w-full px-3 py-2 bg-white border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-muted-foreground",children:"Total Tenure (months)"}),a.jsx("input",{type:"number",value:O.tenure,onChange:A=>P(U,"tenure",A.target.value),placeholder:"24",className:"w-full px-3 py-2 bg-white border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-muted-foreground",children:"Monthly EMI ()"}),a.jsx("input",{type:"number",value:O.emi,onChange:A=>P(U,"emi",A.target.value),placeholder:"25000",className:"w-full px-3 py-2 bg-white border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block mb-1 text-muted-foreground",children:"Remaining Tenure (months)"}),a.jsx("input",{type:"number",value:O.remainingTenure,onChange:A=>P(U,"remainingTenure",A.target.value),placeholder:"12",className:"w-full px-3 py-2 bg-white border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]},U)),a.jsxs("button",{type:"button",onClick:j,className:"w-full py-2 border-2 border-dashed border-primary text-primary rounded-lg hover:bg-primary/5 transition-colors flex items-center justify-center gap-2",children:[a.jsx(ds,{className:"w-4 h-4"}),"Add Another Loan"]})]})]}),v&&a.jsx("div",{className:"p-3 bg-red-50 text-red-600 rounded-lg",children:v}),a.jsx("button",{type:"submit",disabled:g,className:"w-full py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50",children:g?"Submitting...":"Submit Application"})]})]})})}var Mv={};const zv=()=>new Promise(l=>{if(window.Razorpay){l(!0);return}const r=document.createElement("script");r.src="https://checkout.razorpay.com/v1/checkout.js",r.onload=()=>{l(!0)},r.onerror=()=>{l(!1)},document.body.appendChild(r)}),Bv=async(l,r,s)=>{if(!await zv()){alert("Razorpay SDK failed to load. Please check your internet connection.");return}const u={key:Mv.RAZORPAY_KEY_ID||"rzp_test_PLACEHOLDER",amount:l.amount*100,currency:l.currency||"INR",name:l.name||"LoanLinker",description:l.description,image:"/logo.png",order_id:l.orderId,handler:function(h){r(h.razorpay_payment_id,h.razorpay_order_id,h.razorpay_signature)},prefill:l.prefill||{},notes:l.notes||{},theme:{color:l.theme?.color||"#0047AB"},modal:{ondismiss:function(){s({code:"payment_cancelled",description:"Payment cancelled by user"})}}};new window.Razorpay(u).open()},Fv=async(l,r,s,o)=>{await Bv({amount:199,name:"LoanLinker",description:"Unlock Loan Offers",notes:{applicationId:l,type:"unlock"},prefill:r,theme:{color:"#0047AB"}},u=>{s(u)},o)};function Vv({application:l,isPremium:r,user:s,onClose:o,onUpgrade:u}){const[c,h]=F.useState(!1),[p,g]=F.useState(l.unlocked),y=l.offers?.filter(j=>j.eligible)||[],v=async()=>{if(r){g(!0);return}h(!0);try{await Fv(l.id,{name:s?.name||"User",email:s?.email||"",phone:s?.phone||""},async j=>{const k=await Xe("/unlock-offers",{method:"POST",body:JSON.stringify({applicationId:l.id,paymentId:j})}),P=await k.json();k.ok?(g(!0),alert("Payment successful! Offers unlocked.")):alert(P.error||"Failed to unlock offers"),h(!1)},j=>{console.error("Payment failed:",j),alert("Payment failed or cancelled"),h(!1)})}catch(j){console.error("Unlock error:",j),alert("Failed to initiate payment"),h(!1)}},_=[...y].sort((j,k)=>parseFloat(j.interestRate)-parseFloat(k.interestRate));return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-5xl my-8 relative",children:[a.jsx("button",{onClick:o,className:"absolute top-4 right-4 z-10 text-gray-400 hover:text-gray-600 bg-white rounded-full p-2",children:a.jsx(gr,{className:"w-5 h-5"})}),a.jsxs("div",{className:"p-6 border-b border-border",children:[a.jsx("h2",{className:"text-primary mb-2",children:"Compare Loan Offers"}),a.jsxs("p",{className:"text-muted-foreground",children:[l.loanType.replace("-"," ")," Loan - ",l.amount.toLocaleString()]})]}),p?a.jsxs("div",{className:"p-6",children:[_.length>0&&a.jsxs("div",{className:"mb-6 p-6 bg-gradient-to-r from-green-50 to-green-100 rounded-xl border-2 border-green-500",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Ev,{className:"w-5 h-5 text-green-700"}),a.jsx("h3",{className:"text-green-900",children:"Best Offer"})]}),a.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-green-700",children:"Bank"}),a.jsx("p",{className:"text-green-900",children:_[0].bankName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-green-700",children:"Interest Rate"}),a.jsxs("p",{className:"text-green-900",children:[_[0].interestRate,"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-green-700",children:"EMI"}),a.jsxs("p",{className:"text-green-900",children:["",_[0].emi?.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-green-700",children:"Max Amount"}),a.jsxs("p",{className:"text-green-900",children:["",_[0].maxAmount?.toLocaleString()]})]})]}),a.jsxs("button",{className:"mt-4 px-6 py-2 bg-green-700 text-white rounded-lg hover:bg-green-800 transition-colors",children:["Proceed with ",_[0].bankName]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-muted",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Bank"}),a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Interest Rate"}),a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"EMI"}),a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Max Amount"}),a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Eligible"}),a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Action"})]})}),a.jsx("tbody",{className:"divide-y divide-border",children:_.map(j=>a.jsxs("tr",{className:"hover:bg-muted/50",children:[a.jsx("td",{className:"px-4 py-4 text-foreground",children:j.bankName}),a.jsxs("td",{className:"px-4 py-4 text-foreground",children:[j.interestRate,"%"]}),a.jsxs("td",{className:"px-4 py-4 text-foreground",children:["",j.emi?.toLocaleString()]}),a.jsxs("td",{className:"px-4 py-4 text-foreground",children:["",j.maxAmount?.toLocaleString()]}),a.jsx("td",{className:"px-4 py-4",children:j.eligible?a.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[a.jsx(ms,{className:"w-4 h-4"}),"Yes"]}):a.jsxs("span",{className:"flex items-center gap-1 text-red-600",children:[a.jsx(af,{className:"w-4 h-4"}),"No"]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("button",{className:"px-4 py-1 bg-primary text-primary-foreground rounded hover:bg-primary/90 transition-colors",children:"Select"})})]},j.id))})]})}),y.length===0&&a.jsx("div",{className:"p-12 text-center text-muted-foreground",children:"No eligible offers at this time. Our team will reach out with alternatives."})]}):a.jsx("div",{className:"p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"w-20 h-20 bg-accent/20 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Dt,{className:"w-10 h-10 text-accent-foreground"})}),a.jsxs("h3",{className:"text-primary mb-3",children:[y.length," Banks Ready to Offer!"]}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Multiple banks have reviewed your application and are ready to make you an offer. Unlock the comparison to see interest rates, EMI, and choose the best deal."}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl mb-6 border border-blue-200",children:[a.jsx("h4",{className:"text-blue-900 mb-2",children:"Unlock Options:"}),a.jsxs("div",{className:"space-y-3 text-left",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(ms,{className:"w-5 h-5 text-blue-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-900",children:"One-time unlock: 199"}),a.jsx("p",{className:"text-blue-700",children:"View this comparison once"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Dt,{className:"w-5 h-5 text-accent-foreground mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-accent-foreground",children:"Premium Plan: 499+"}),a.jsx("p",{className:"text-blue-700",children:"Unlimited comparisons + Ad-free + Priority support"})]})]})]})]}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{onClick:v,disabled:c,className:"px-8 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50",children:c?"Processing...":"Unlock for 199"}),a.jsxs("button",{onClick:u,className:"px-8 py-3 bg-accent text-accent-foreground rounded-lg hover:bg-accent/90 transition-colors flex items-center gap-2",children:[a.jsx(Dt,{className:"w-5 h-5"}),"Go Premium"]})]})]})})]})})}function Wv({user:l,onSuccess:r,onClose:s}){const[o,u]=F.useState("gold"),[c,h]=F.useState(!1),p=[{id:"silver",name:"Silver",price:499,duration:"3 months",features:["Unlimited comparisons","Ad-free experience","Email support","3 months validity"]},{id:"gold",name:"Gold",price:999,duration:"6 months",features:["All Silver features","Priority bank response","RM assistance","6 months validity"],popular:!0},{id:"platinum",name:"Platinum",price:1999,duration:"12 months",features:["All Gold features","Exclusive bank offers","Dedicated RM","12 months validity"]}],g=async()=>{h(!0);try{const y=`pay_premium_${Date.now()}`,v=await Xe("/upgrade-premium",{method:"POST",body:JSON.stringify({plan:o,paymentId:y})}),_=await v.json();v.ok?r():alert(_.error||"Failed to upgrade")}catch(y){console.error("Upgrade error:",y),alert("Failed to upgrade")}finally{h(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl my-8 relative",children:[a.jsx("button",{onClick:s,className:"absolute top-4 right-4 z-10 text-gray-400 hover:text-gray-600",children:a.jsx(gr,{className:"w-5 h-5"})}),a.jsxs("div",{className:"p-8 text-center border-b border-border",children:[a.jsx("div",{className:"w-16 h-16 bg-accent/20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Dt,{className:"w-8 h-8 text-accent-foreground"})}),a.jsx("h2",{className:"text-primary mb-2",children:"Upgrade to Premium"}),a.jsx("p",{className:"text-muted-foreground",children:"Unlock unlimited access and exclusive features"})]}),a.jsx("div",{className:"p-8 bg-muted/50 border-b border-border",children:a.jsxs("div",{className:"grid md:grid-cols-4 gap-6 max-w-3xl mx-auto",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(df,{className:"w-6 h-6 text-primary"})}),a.jsx("p",{className:"text-foreground",children:"Unlimited Comparisons"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(cf,{className:"w-6 h-6 text-primary"})}),a.jsx("p",{className:"text-foreground",children:"Ad-Free Experience"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(hv,{className:"w-6 h-6 text-primary"})}),a.jsx("p",{className:"text-foreground",children:"Priority Support"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(Dt,{className:"w-6 h-6 text-primary"})}),a.jsx("p",{className:"text-foreground",children:"Exclusive Offers"})]})]})}),a.jsxs("div",{className:"p-8",children:[a.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:p.map(y=>a.jsxs("div",{onClick:()=>u(y.id),className:`relative p-6 rounded-xl border-2 cursor-pointer transition-all ${o===y.id?"border-primary bg-primary/5":"border-border hover:border-primary/50"} ${y.popular?"ring-2 ring-accent":""}`,children:[y.popular&&a.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-1 bg-accent text-accent-foreground rounded-full",children:"Popular"}),a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("h3",{className:"text-foreground mb-2",children:y.name}),a.jsx("div",{className:"mb-2",children:a.jsxs("span",{className:"text-primary",children:["",y.price]})}),a.jsx("p",{className:"text-muted-foreground",children:y.duration})]}),a.jsx("ul",{className:"space-y-3",children:y.features.map((v,_)=>a.jsxs("li",{className:"flex items-start gap-2 text-foreground",children:[a.jsx(Di,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:v})]},_))})]},y.id))}),a.jsxs("div",{className:"text-center",children:[a.jsx("button",{onClick:g,disabled:c,className:"px-12 py-4 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50",children:c?"Processing...":`Upgrade to ${p.find(y=>y.id===o)?.name} - ${p.find(y=>y.id===o)?.price}`}),a.jsx("p",{className:"text-muted-foreground mt-4",children:"Secure payment powered by Razorpay"})]})]})]})})}function qv({user:l,onRefresh:r}){const[s,o]=F.useState([]),[u,c]=F.useState(!0),[h,p]=F.useState(!1),[g,y]=F.useState(null),[v,_]=F.useState(!1),[j,k]=F.useState("applications"),[P,R]=F.useState(!1),[O,U]=F.useState(null),[A,T]=F.useState({phone:l.phone||"",income:l.kycData?.income||"",address:l.kycData?.address||"",companyName:l.kycData?.companyName||""});F.useEffect(()=>{q()},[]);const q=async()=>{try{const J=await Xe("/my-applications"),we=await J.json();J.ok&&o(we.applications||[])}catch(J){console.error("Failed to load applications:",J)}finally{c(!1)}},ie=()=>{p(!1),q()},ne=J=>{switch(J){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"approved":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},ae=J=>J.offers?.filter(we=>we.eligible).length||0,je=async()=>{try{const J=await Xe("/user/update-profile",{method:"POST",body:JSON.stringify({phone:A.phone,kycData:{income:parseFloat(A.income),address:A.address,companyName:A.companyName}})});if(J.ok)alert("Profile updated successfully!"),R(!1),r();else{const we=await J.json();alert(we.error||"Failed to update profile")}}catch(J){console.error("Profile update error:",J),alert("Failed to update profile")}};return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-primary mb-2",children:["Welcome, ",l.name,"! "]}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your loan applications and compare offers"})]}),a.jsxs("div",{className:"flex gap-3",children:[!l.isPremium&&a.jsxs("button",{onClick:()=>_(!0),className:"px-6 py-3 bg-accent text-accent-foreground rounded-lg hover:bg-accent/90 transition-colors flex items-center gap-2",children:[a.jsx(Dt,{className:"w-5 h-5"}),"Upgrade to Premium"]}),a.jsx("button",{onClick:()=>p(!0),className:"px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"+ New Application"})]})]})}),a.jsx("div",{className:"mb-6 border-b border-border",children:a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("button",{onClick:()=>k("applications"),className:`pb-3 px-2 border-b-2 transition-colors ${j==="applications"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:[a.jsx(gs,{className:"w-4 h-4 inline mr-2"}),"Applications"]}),a.jsxs("button",{onClick:()=>k("profile"),className:`pb-3 px-2 border-b-2 transition-colors ${j==="profile"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:[a.jsx(of,{className:"w-4 h-4 inline mr-2"}),"Profile"]})]})}),j==="profile"&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-border p-8 max-w-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-primary",children:"My Profile"}),P?a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:je,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[a.jsx(uf,{className:"w-4 h-4"}),"Save"]}),a.jsxs("button",{onClick:()=>{R(!1),T({phone:l.phone||"",income:l.kycData?.income||"",address:l.kycData?.address||"",companyName:l.kycData?.companyName||""})},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 flex items-center gap-2",children:[a.jsx(gr,{className:"w-4 h-4"}),"Cancel"]})]}):a.jsxs("button",{onClick:()=>R(!0),className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 flex items-center gap-2",children:[a.jsx(lf,{className:"w-4 h-4"}),"Edit Profile"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Full Name"}),a.jsx("input",{type:"text",value:l.name,disabled:!0,className:"w-full px-4 py-3 bg-gray-100 border border-border rounded-lg opacity-60 cursor-not-allowed"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Name cannot be changed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Email"}),a.jsx("input",{type:"email",value:l.email,disabled:!0,className:"w-full px-4 py-3 bg-gray-100 border border-border rounded-lg opacity-60 cursor-not-allowed"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Contact admin to change email"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Phone Number"}),a.jsx("input",{type:"tel",value:A.phone,onChange:J=>T({...A,phone:J.target.value}),disabled:!P,placeholder:"+91 98765 43210",className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:opacity-60"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Monthly Income ()"}),a.jsx("input",{type:"number",value:A.income,onChange:J=>T({...A,income:J.target.value}),disabled:!P,placeholder:"50000",className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:opacity-60"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Address"}),a.jsx("textarea",{value:A.address,onChange:J=>T({...A,address:J.target.value}),disabled:!P,placeholder:"Full address",rows:3,className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:opacity-60 resize-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Company Name"}),a.jsx("input",{type:"text",value:A.companyName,onChange:J=>T({...A,companyName:J.target.value}),disabled:!P,placeholder:"Company name",className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:opacity-60"})]})]})]}),j==="applications"&&a.jsxs(a.Fragment,{children:[l.isPremium&&a.jsx("div",{className:"mb-6 p-6 bg-gradient-to-r from-accent/20 to-accent/10 rounded-2xl border-2 border-accent",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Dt,{className:"w-8 h-8 text-accent-foreground"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-accent-foreground",children:"Premium Member"}),a.jsxs("p",{className:"text-muted-foreground",children:["Plan: ",l.premiumPlan?.toUpperCase(),"  Unlimited comparisons"]})]})]})}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-border",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total Applications"}),a.jsx(gs,{className:"w-5 h-5 text-primary"})]}),a.jsx("p",{className:"text-primary",children:s.length})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-border",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Pending Review"}),a.jsx(iv,{className:"w-5 h-5 text-yellow-600"})]}),a.jsx("p",{className:"text-primary",children:s.filter(J=>J.status==="pending").length})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-border",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total Offers"}),a.jsx(tv,{className:"w-5 h-5 text-green-600"})]}),a.jsx("p",{className:"text-primary",children:s.reduce((J,we)=>J+ae(we),0)})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-border overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-border",children:a.jsx("h2",{className:"text-primary",children:"Your Applications"})}),u?a.jsx("div",{className:"p-12 text-center text-muted-foreground",children:"Loading applications..."}):s.length===0?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(Xy,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"No applications yet"}),a.jsx("button",{onClick:()=>p(!0),className:"px-6 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90",children:"Create Your First Application"})]}):a.jsx("div",{className:"divide-y divide-border",children:s.map(J=>{const we=ae(J),mt=we>=3&&!J.unlocked;return a.jsx("div",{className:"p-6 hover:bg-muted/50 transition-colors",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h3",{className:"text-foreground capitalize",children:[J.loanType.replace("-"," ")," Loan"]}),a.jsx("span",{className:`px-3 py-1 rounded-full border ${ne(J.status)}`,children:J.status})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-muted-foreground",children:[a.jsxs("span",{children:["Amount: ",J.amount.toLocaleString()]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Tenure: ",J.tenure," months"]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Offers: ",we]})]}),a.jsxs("p",{className:"text-muted-foreground mt-2",children:["Applied on ",new Date(J.createdAt).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex gap-2",children:[mt&&a.jsxs("button",{onClick:()=>y(J),className:"px-6 py-2 bg-accent text-accent-foreground rounded-lg hover:bg-accent/90 transition-colors",children:["Unlock Offers (",we,")"]}),J.unlocked&&a.jsx("button",{onClick:()=>y(J),className:"px-6 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"View Comparison"}),we<3&&a.jsxs("div",{className:"px-4 py-2 bg-blue-50 text-blue-700 rounded-lg border border-blue-200",children:["Waiting for ",3-we," more offers"]})]})]})},J.id)})})]})]}),h&&a.jsx(Dv,{onSuccess:ie,onClose:()=>p(!1)}),g&&a.jsx(Vv,{application:g,isPremium:l.isPremium,user:l,onClose:()=>{y(null),q()},onUpgrade:()=>{y(null),_(!0)}}),v&&a.jsx(Wv,{onSuccess:()=>{_(!1),r()},onClose:()=>_(!1)})]})}function Hv({lead:l,onSuccess:r,onClose:s}){const[o,u]=F.useState({eligible:!0,interestRate:"",emi:"",maxAmount:l.amount.toString(),remarks:""}),[c,h]=F.useState(!1),[p,g]=F.useState(""),y=async v=>{v.preventDefault(),h(!0),g("");try{const _=await Xe("/bank/submit-offer",{method:"POST",body:JSON.stringify({applicationId:l.id,eligible:o.eligible,interestRate:parseFloat(o.interestRate),emi:parseFloat(o.emi),maxAmount:parseFloat(o.maxAmount),remarks:o.remarks})}),j=await _.json();if(!_.ok)throw new Error(j.error||"Failed to submit offer");r()}catch(_){g(_.message||"An error occurred")}finally{h(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl p-8 relative my-8 max-h-[90vh] overflow-y-auto",children:[a.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:a.jsx(gr,{className:"w-5 h-5"})}),a.jsx("h2",{className:"text-primary mb-6",children:"Submit Loan Offer"}),a.jsxs("div",{className:"bg-muted p-4 rounded-lg mb-6",children:[a.jsx("h3",{className:"text-foreground mb-3",children:"Application Details"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-foreground mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Loan Type"}),a.jsx("p",{className:"capitalize",children:l.loanType.replace("-"," ")})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Requested Amount"}),a.jsxs("p",{children:["",l.amount.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Tenure"}),a.jsxs("p",{children:[l.tenure," months"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Income"}),a.jsxs("p",{children:["",l.applicant.income?.toLocaleString(),"/month"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Employment"}),a.jsx("p",{className:"capitalize",children:l.applicant.employmentType})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"City"}),a.jsx("p",{children:l.applicant.city})]})]}),l.applicant.kycData&&a.jsxs("div",{className:"border-t border-border pt-4 mt-4",children:[a.jsx("h3",{className:"text-foreground mb-3",children:"KYC & Verification Details"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-foreground",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Aadhaar Number"}),a.jsx("p",{className:"font-mono",children:l.applicant.kycData.aadhaarNumber})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"PAN Number"}),a.jsx("p",{className:"font-mono uppercase",children:l.applicant.kycData.panNumber})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Date of Birth"}),a.jsx("p",{children:l.applicant.kycData.dob})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Address"}),a.jsx("p",{children:l.applicant.kycData.address})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Company Name"}),a.jsx("p",{children:l.applicant.kycData.companyName||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Work Experience"}),a.jsxs("p",{children:[l.applicant.kycData.workExperience||"N/A"," years"]})]})]})]}),l.existingLoans&&l.existingLoans.length>0&&a.jsxs("div",{className:"border-t border-border pt-4 mt-4",children:[a.jsxs("h3",{className:"text-foreground mb-3",children:["Existing Loans (",l.existingLoans.length,")"]}),a.jsxs("div",{className:"space-y-3",children:[l.existingLoans.map((v,_)=>a.jsx("div",{className:"bg-white p-3 rounded-lg border border-border",children:a.jsxs("div",{className:"grid md:grid-cols-5 gap-3 text-foreground",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Type"}),a.jsx("p",{className:"capitalize",children:v.loanType})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Amount"}),a.jsxs("p",{children:["",parseFloat(v.amount).toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"EMI"}),a.jsxs("p",{children:["",parseFloat(v.emi).toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Total Tenure"}),a.jsxs("p",{children:[v.tenure," months"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Remaining"}),a.jsxs("p",{children:[v.remainingTenure," months"]})]})]})},_)),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 p-2 rounded",children:a.jsxs("p",{className:"text-yellow-800",children:[a.jsx("strong",{children:"Total Monthly EMI Burden:"})," ",l.existingLoans.reduce((v,_)=>v+parseFloat(_.emi||0),0).toLocaleString()]})})]})]})]}),a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Eligibility Status"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("button",{type:"button",onClick:()=>u({...o,eligible:!0}),className:`flex-1 p-4 rounded-lg border-2 transition-all ${o.eligible?"border-green-500 bg-green-50":"border-border hover:border-green-500/50"}`,children:[a.jsx(ms,{className:`w-6 h-6 mx-auto mb-2 ${o.eligible?"text-green-600":"text-gray-400"}`}),a.jsx("p",{className:o.eligible?"text-green-900":"text-muted-foreground",children:"Eligible"})]}),a.jsxs("button",{type:"button",onClick:()=>u({...o,eligible:!1}),className:`flex-1 p-4 rounded-lg border-2 transition-all ${o.eligible?"border-border hover:border-red-500/50":"border-red-500 bg-red-50"}`,children:[a.jsx(af,{className:`w-6 h-6 mx-auto mb-2 ${o.eligible?"text-gray-400":"text-red-600"}`}),a.jsx("p",{className:o.eligible?"text-muted-foreground":"text-red-900",children:"Not Eligible"})]})]})]}),o.eligible&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Interest Rate (%)"}),a.jsx("input",{type:"number",step:"0.1",value:o.interestRate,onChange:v=>u({...o,interestRate:v.target.value}),placeholder:"9.5",className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Monthly EMI ()"}),a.jsx("input",{type:"number",value:o.emi,onChange:v=>u({...o,emi:v.target.value}),placeholder:"8500",className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Maximum Sanctioned Amount ()"}),a.jsx("input",{type:"number",value:o.maxAmount,onChange:v=>u({...o,maxAmount:v.target.value}),placeholder:l.amount,className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Remarks / Conditions"}),a.jsx("textarea",{value:o.remarks,onChange:v=>u({...o,remarks:v.target.value}),placeholder:"Add any special conditions, required documents, or notes",rows:4,className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none"})]}),p&&a.jsx("div",{className:"p-3 bg-red-50 text-red-600 rounded-lg",children:p}),a.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50",children:c?"Submitting...":"Submit Offer"})]})]})})}function Kv({user:l}){const[r,s]=F.useState([]),[o,u]=F.useState(!0),[c,h]=F.useState(null),[p,g]=F.useState("all"),[y,v]=F.useState("leads"),[_,j]=F.useState(!1),[k,P]=F.useState({name:l.name||"",phone:l.phone||"",email:l.email||"",address:""});F.useEffect(()=>{R()},[]);const R=async()=>{try{const T=await Xe("/bank/leads"),q=await T.json();T.ok&&s(q.leads||[])}catch(T){console.error("Failed to load leads:",T)}finally{u(!1)}},O=r.filter(T=>p==="new"?!T.hasOfferedByMe:p==="offered"?T.hasOfferedByMe:!0),U=()=>{h(null),R()},A=async()=>{try{const T=await Xe("/bank/update-profile",{method:"POST",body:JSON.stringify(k)});if(T.ok)alert("Profile updated successfully!"),j(!1),l.name=k.name,l.phone=k.phone;else{const q=await T.json();alert(q.error||"Failed to update profile")}}catch(T){console.error("Profile update error:",T),alert("Failed to update profile")}};return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-primary mb-2",children:"Bank Partner Dashboard"}),a.jsxs("p",{className:"text-muted-foreground",children:["Welcome, ",l.name]})]}),a.jsx("div",{className:"mb-6 border-b border-border",children:a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("button",{onClick:()=>v("leads"),className:`pb-3 px-2 border-b-2 transition-colors ${y==="leads"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:[a.jsx(vn,{className:"w-4 h-4 inline mr-2"}),"Leads"]}),a.jsxs("button",{onClick:()=>v("profile"),className:`pb-3 px-2 border-b-2 transition-colors ${y==="profile"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:[a.jsx(of,{className:"w-4 h-4 inline mr-2"}),"Profile"]})]})}),y==="profile"&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-border p-8 max-w-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-primary",children:"Bank Profile"}),_?a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:A,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[a.jsx(uf,{className:"w-4 h-4"}),"Save"]}),a.jsxs("button",{onClick:()=>{j(!1),P({name:l.name||"",phone:l.phone||"",email:l.email||"",address:k.address})},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 flex items-center gap-2",children:[a.jsx(gr,{className:"w-4 h-4"}),"Cancel"]})]}):a.jsxs("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 flex items-center gap-2",children:[a.jsx(lf,{className:"w-4 h-4"}),"Edit Profile"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Bank Name"}),a.jsx("input",{type:"text",value:k.name,onChange:T=>P({...k,name:T.target.value}),disabled:!_,className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:opacity-60"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Email"}),a.jsx("input",{type:"email",value:k.email,disabled:!0,className:"w-full px-4 py-3 bg-gray-100 border border-border rounded-lg opacity-60 cursor-not-allowed"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Email cannot be changed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Phone Number"}),a.jsx("input",{type:"tel",value:k.phone,onChange:T=>P({...k,phone:T.target.value}),disabled:!_,placeholder:"+91 98765 43210",className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:opacity-60"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Bank Address"}),a.jsx("textarea",{value:k.address,onChange:T=>P({...k,address:T.target.value}),disabled:!_,placeholder:"Bank headquarters address",rows:3,className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:opacity-60 resize-none"})]})]})]}),y==="leads"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-border",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total Leads"}),a.jsx(vn,{className:"w-5 h-5 text-primary"})]}),a.jsx("p",{className:"text-primary",children:r.length})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-border",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"New Leads"}),a.jsx(gs,{className:"w-5 h-5 text-blue-600"})]}),a.jsx("p",{className:"text-primary",children:r.filter(T=>!T.hasOfferedByMe).length})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-border",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Offers Submitted"}),a.jsx(ms,{className:"w-5 h-5 text-green-600"})]}),a.jsx("p",{className:"text-primary",children:r.filter(T=>T.hasOfferedByMe).length})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-border overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-border",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsx("h2",{className:"text-primary",children:"Available Leads"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>g("all"),className:`px-4 py-2 rounded-lg transition-colors ${p==="all"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:["All (",r.length,")"]}),a.jsxs("button",{onClick:()=>g("new"),className:`px-4 py-2 rounded-lg transition-colors ${p==="new"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:["New (",r.filter(T=>!T.hasOfferedByMe).length,")"]}),a.jsxs("button",{onClick:()=>g("offered"),className:`px-4 py-2 rounded-lg transition-colors ${p==="offered"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:["Offered (",r.filter(T=>T.hasOfferedByMe).length,")"]})]})]})}),o?a.jsx("div",{className:"p-12 text-center text-muted-foreground",children:"Loading leads..."}):O.length===0?a.jsx("div",{className:"p-12 text-center text-muted-foreground",children:"No leads available"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-muted",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Loan Type"}),a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Amount"}),a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Tenure"}),a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Income"}),a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Employment"}),a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"City"}),a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Action"})]})}),a.jsx("tbody",{className:"divide-y divide-border",children:O.map(T=>a.jsxs("tr",{className:"hover:bg-muted/50",children:[a.jsx("td",{className:"px-4 py-4 text-foreground capitalize",children:T.loanType.replace("-"," ")}),a.jsxs("td",{className:"px-4 py-4 text-foreground",children:["",T.amount.toLocaleString()]}),a.jsxs("td",{className:"px-4 py-4 text-foreground",children:[T.tenure,"m"]}),a.jsxs("td",{className:"px-4 py-4 text-foreground",children:["",T.applicant.income?.toLocaleString()]}),a.jsx("td",{className:"px-4 py-4 text-foreground capitalize",children:T.applicant.employmentType}),a.jsx("td",{className:"px-4 py-4 text-foreground",children:T.applicant.city}),a.jsx("td",{className:"px-4 py-4",children:T.hasOfferedByMe?a.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full border border-green-200",children:"Offered"}):a.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full border border-blue-200",children:"New"})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("button",{onClick:()=>h(T),className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors flex items-center gap-2",children:[a.jsx(ds,{className:"w-4 h-4"}),T.hasOfferedByMe?"Update Offer":"Make Offer"]})})]},T.id))})]})})]})]}),c&&a.jsx(Hv,{lead:c,onSuccess:U,onClose:()=>h(null)})]})}function Jv({user:l}){const[r,s]=F.useState(null),[o,u]=F.useState([]),[c,h]=F.useState([]),[p,g]=F.useState(!0),[y,v]=F.useState("overview"),[_,j]=F.useState(!1),[k,P]=F.useState(null),[R,O]=F.useState(null),[U,A]=F.useState(null),[T,q]=F.useState(null),[ie,ne]=F.useState(""),[ae,je]=F.useState(null);F.useEffect(()=>{J()},[]);const J=async()=>{try{const[se,ke,Re]=await Promise.all([Xe("/admin/analytics"),Xe("/admin/users"),Xe("/admin/applications")]),Ze=await se.json(),qe=await ke.json(),Se=await Re.json();se.ok&&s(Ze.analytics),ke.ok&&u(qe.users),Re.ok&&h(Se.applications)}catch(se){console.error("Failed to load data:",se)}finally{g(!1)}},we=async se=>{se.preventDefault();const ke=new FormData(se.target);try{const Re=await Xe("/admin/create-account",{method:"POST",body:JSON.stringify({email:ke.get("email"),password:ke.get("password"),name:ke.get("name"),phone:ke.get("phone"),role:ke.get("role")})}),Ze=await Re.json();Re.ok?(P(Ze.credentials),j(!1),J()):alert(Ze.error||"Failed to create account")}catch(Re){console.error("Create account error:",Re),alert("Failed to create account")}},mt=(se,ke)=>{navigator.clipboard.writeText(se).then(()=>{O(ke),setTimeout(()=>O(null),2e3)}).catch(Re=>{console.error("Copy failed:",Re),alert("Failed to copy. Please copy manually: "+se)})};return p?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading admin dashboard..."})}):a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-primary mb-2",children:"Admin Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Platform Overview & Management"})]}),a.jsx("div",{className:"mb-6 border-b border-border",children:a.jsxs("div",{className:"flex gap-6 overflow-x-auto",children:[a.jsx("button",{onClick:()=>v("overview"),className:`pb-3 px-2 border-b-2 transition-colors whitespace-nowrap ${y==="overview"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Overview"}),a.jsxs("button",{onClick:()=>v("users"),className:`pb-3 px-2 border-b-2 transition-colors whitespace-nowrap ${y==="users"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:["All Users (",r?.totalUsers||0,")"]}),a.jsx("button",{onClick:()=>v("create-account"),className:`pb-3 px-2 border-b-2 transition-colors whitespace-nowrap ${y==="create-account"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Create Account"}),a.jsxs("button",{onClick:()=>v("applications"),className:`pb-3 px-2 border-b-2 transition-colors whitespace-nowrap ${y==="applications"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:["Applications (",r?.totalApplications||0,")"]})]})}),y==="overview"&&r&&a.jsxs("div",{children:[a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-border",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total Users"}),a.jsx(vn,{className:"w-5 h-5 text-primary"})]}),a.jsx("p",{className:"text-primary mb-1",children:r.totalUsers}),a.jsx("p",{className:"text-muted-foreground",children:"Active borrowers"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-border",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Bank Partners"}),a.jsx(ah,{className:"w-5 h-5 text-blue-600"})]}),a.jsx("p",{className:"text-primary mb-1",children:r.totalBanks}),a.jsx("p",{className:"text-muted-foreground",children:"Active banks"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-border",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"RMs"}),a.jsx(rl,{className:"w-5 h-5 text-purple-600"})]}),a.jsx("p",{className:"text-primary mb-1",children:r.totalRMs||0}),a.jsx("p",{className:"text-muted-foreground",children:"Relationship managers"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-border",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Applications"}),a.jsx(Wi,{className:"w-5 h-5 text-green-600"})]}),a.jsx("p",{className:"text-primary mb-1",children:r.totalApplications}),a.jsx("p",{className:"text-muted-foreground",children:"Loan requests"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-border",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total Revenue"}),a.jsx(uv,{className:"w-5 h-5 text-accent-foreground"})]}),a.jsxs("p",{className:"text-primary mb-1",children:["",r.totalRevenue?.toLocaleString()||0]}),a.jsx("p",{className:"text-muted-foreground",children:"All time earnings"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-border",children:[a.jsxs("h3",{className:"text-foreground mb-4 flex items-center gap-2",children:[a.jsx(ah,{className:"w-5 h-5 text-blue-600"}),"Bank Partners"]}),a.jsx("p",{className:"text-primary mb-2",children:r.totalBanks}),a.jsxs("button",{onClick:()=>v("create-account"),className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[a.jsx(ds,{className:"w-4 h-4"}),"Add Bank"]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-border",children:[a.jsxs("h3",{className:"text-foreground mb-4 flex items-center gap-2",children:[a.jsx(rl,{className:"w-5 h-5 text-purple-600"}),"Relationship Managers"]}),a.jsx("p",{className:"text-primary mb-2",children:r.totalRMs||0}),a.jsxs("button",{onClick:()=>v("create-account"),className:"mt-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2",children:[a.jsx(ds,{className:"w-4 h-4"}),"Add RM"]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-border",children:[a.jsxs("h3",{className:"text-foreground mb-4 flex items-center gap-2",children:[a.jsx(vn,{className:"w-5 h-5 text-primary"}),"Active Users"]}),a.jsx("p",{className:"text-primary mb-2",children:r.totalUsers}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Self-registered borrowers"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-gradient-to-br from-accent/20 to-accent/10 p-6 rounded-xl border-2 border-accent",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(gs,{className:"w-6 h-6 text-accent-foreground"}),a.jsx("h3",{className:"text-accent-foreground",children:"Premium Members"})]}),a.jsx("p",{className:"text-accent-foreground mb-1",children:r.premiumUsers}),a.jsxs("p",{className:"text-muted-foreground",children:[(r.premiumUsers/Math.max(r.totalUsers,1)*100).toFixed(1),"% conversion rate"]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-border",children:[a.jsx("h3",{className:"text-foreground mb-4",children:"Recent Applications"}),a.jsx("div",{className:"space-y-2",children:r.recentApplications?.slice(0,5).map(se=>a.jsxs("div",{className:"flex items-center justify-between p-2 rounded hover:bg-muted/50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-foreground capitalize",children:se.loanType.replace("-"," ")}),a.jsxs("p",{className:"text-muted-foreground",children:["",se.amount.toLocaleString()]})]}),a.jsxs("span",{className:"text-muted-foreground",children:[se.offers?.length||0," offers"]})]},se.id))})]})]})]}),y==="create-account"&&a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-border p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(ds,{className:"w-6 h-6 text-primary"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-primary",children:"Create Bank or RM Account"}),a.jsx("p",{className:"text-muted-foreground",children:"Add new bank partners or relationship managers"})]})]}),k&&a.jsxs("div",{className:"mb-6 p-6 bg-green-50 rounded-xl border-2 border-green-500",children:[a.jsxs("h3",{className:"text-green-900 mb-4 flex items-center gap-2",children:[a.jsx(Di,{className:"w-5 h-5"}),"Account Created Successfully!"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[a.jsx("p",{className:"text-muted-foreground mb-1",children:"Email"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-foreground",children:k.email}),a.jsx("button",{onClick:()=>mt(k.email,"email"),className:"p-2 hover:bg-gray-100 rounded transition-colors",children:R==="email"?a.jsx(Di,{className:"w-4 h-4 text-green-600"}):a.jsx(lh,{className:"w-4 h-4 text-gray-600"})})]})]}),a.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[a.jsx("p",{className:"text-muted-foreground mb-1",children:"Password"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-foreground",children:k.password}),a.jsx("button",{onClick:()=>mt(k.password,"password"),className:"p-2 hover:bg-gray-100 rounded transition-colors",children:R==="password"?a.jsx(Di,{className:"w-4 h-4 text-green-600"}):a.jsx(lh,{className:"w-4 h-4 text-gray-600"})})]})]}),a.jsx("p",{className:"text-green-700",children:" Save these credentials securely. They won't be shown again."}),a.jsx("button",{onClick:()=>P(null),className:"w-full py-2 bg-green-700 text-white rounded-lg hover:bg-green-800",children:"Create Another Account"})]})]}),!k&&a.jsxs("form",{onSubmit:we,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Account Type"}),a.jsxs("select",{name:"role",required:!0,className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[a.jsx("option",{value:"bank",children:"Bank Partner"}),a.jsx("option",{value:"rm",children:"Relationship Manager"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Full Name / Bank Name"}),a.jsx("input",{type:"text",name:"name",required:!0,placeholder:"HDFC Bank",className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Email"}),a.jsx("input",{type:"email",name:"email",required:!0,placeholder:"hdfc@bank.com",className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Password"}),a.jsx("input",{type:"text",name:"password",required:!0,placeholder:"Create a strong password",className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Phone (Optional)"}),a.jsx("input",{type:"tel",name:"phone",placeholder:"+91 98765 43210",className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),a.jsx("button",{type:"submit",className:"w-full py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Create Account"})]})]})}),y==="users"&&a.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-border overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-muted",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Name"}),a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Email"}),a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Phone"}),a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Role"}),a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"KYC Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Premium"}),a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Joined"})]})}),a.jsx("tbody",{className:"divide-y divide-border",children:o.map(se=>a.jsxs("tr",{className:"hover:bg-muted/50",children:[a.jsx("td",{className:"px-4 py-4 text-foreground",children:se.name}),a.jsx("td",{className:"px-4 py-4 text-foreground",children:se.email}),a.jsx("td",{className:"px-4 py-4 text-foreground",children:se.phone||"N/A"}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary rounded capitalize",children:se.role})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:`px-2 py-1 rounded capitalize ${se.kycStatus==="verified"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:se.kycStatus||"pending"})}),a.jsx("td",{className:"px-4 py-4",children:se.isPremium?a.jsx(rl,{className:"w-5 h-5 text-accent-foreground"}):a.jsx("span",{className:"text-muted-foreground",children:"-"})}),a.jsx("td",{className:"px-4 py-4 text-muted-foreground",children:new Date(se.createdAt).toLocaleDateString()})]},se.id))})]})})}),y==="applications"&&a.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-border overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-muted",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Loan Type"}),a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Amount"}),a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Tenure"}),a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Offers"}),a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Unlocked"}),a.jsx("th",{className:"px-4 py-3 text-left text-foreground",children:"Created"})]})}),a.jsx("tbody",{className:"divide-y divide-border",children:c.map(se=>a.jsxs("tr",{className:"hover:bg-muted/50",children:[a.jsx("td",{className:"px-4 py-4 text-foreground capitalize",children:se.loanType.replace("-"," ")}),a.jsxs("td",{className:"px-4 py-4 text-foreground",children:["",se.amount.toLocaleString()]}),a.jsxs("td",{className:"px-4 py-4 text-foreground",children:[se.tenure,"m"]}),a.jsx("td",{className:"px-4 py-4 text-foreground",children:se.offers?.length||0}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:"px-2 py-1 bg-muted rounded capitalize",children:se.status})}),a.jsx("td",{className:"px-4 py-4",children:se.unlocked?a.jsx(CheckCircle,{className:"w-5 h-5 text-green-600"}):a.jsx("span",{className:"text-muted-foreground",children:"-"})}),a.jsx("td",{className:"px-4 py-4 text-muted-foreground",children:new Date(se.createdAt).toLocaleDateString()})]},se.id))})]})})})]})}function Gv({user:l}){const[r,s]=F.useState([]),[o,u]=F.useState(!0),[c,h]=F.useState(null);F.useEffect(()=>{p()},[]);const p=async()=>{try{const y=await Xe("/rm/leads"),v=await y.json();y.ok&&s(v.leads||[])}catch(y){console.error("Failed to load leads:",y)}finally{u(!1)}},g=async(y,v,_)=>{try{(await Xe("/rm/update-status",{method:"POST",body:JSON.stringify({applicationId:y,status:v,notes:_})})).ok&&(p(),h(null))}catch(j){console.error("Failed to update status:",j)}};return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-primary mb-2",children:"RM Dashboard"}),a.jsxs("p",{className:"text-muted-foreground",children:["Welcome, ",l.name," - Manage your assigned leads"]})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-border",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total Leads"}),a.jsx(vn,{className:"w-5 h-5 text-primary"})]}),a.jsx("p",{className:"text-primary",children:r.length})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-border",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Under Review"}),a.jsx(Wi,{className:"w-5 h-5 text-yellow-600"})]}),a.jsx("p",{className:"text-primary",children:r.filter(y=>y.rmStatus==="Under Review").length})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-border",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Approved"}),a.jsx(Wi,{className:"w-5 h-5 text-green-600"})]}),a.jsx("p",{className:"text-primary",children:r.filter(y=>y.rmStatus==="Approved").length})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-border overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-border",children:a.jsx("h2",{className:"text-primary",children:"Assigned Leads"})}),o?a.jsx("div",{className:"p-12 text-center text-muted-foreground",children:"Loading leads..."}):r.length===0?a.jsx("div",{className:"p-12 text-center text-muted-foreground",children:"No leads assigned yet"}):a.jsx("div",{className:"divide-y divide-border",children:r.map(y=>a.jsx("div",{className:"p-6 hover:bg-muted/50 transition-colors",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"text-foreground mb-2 capitalize",children:[y.loanType.replace("-"," ")," Loan"]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Applicant Details"}),a.jsxs("div",{className:"space-y-1 mt-2",children:[a.jsx("p",{className:"text-foreground",children:y.applicant?.name}),a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(mv,{className:"w-4 h-4"}),a.jsx("span",{children:y.applicant?.email})]}),a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(wv,{className:"w-4 h-4"}),a.jsx("span",{children:y.applicant?.phone})]})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Loan Details"}),a.jsxs("div",{className:"space-y-1 mt-2 text-foreground",children:[a.jsxs("p",{children:["Amount: ",y.amount.toLocaleString()]}),a.jsxs("p",{children:["Tenure: ",y.tenure," months"]}),a.jsxs("p",{children:["Offers: ",y.offers?.length||0]}),a.jsxs("p",{children:["Income: ",y.applicant?.kycData?.income?.toLocaleString()]})]})]})]}),y.rmStatus&&a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[a.jsxs("p",{className:"text-blue-900",children:["Status: ",y.rmStatus]}),y.rmNotes&&a.jsxs("p",{className:"text-blue-700 mt-1",children:["Notes: ",y.rmNotes]})]})]}),a.jsx("div",{children:a.jsx("button",{onClick:()=>h(y),className:"px-6 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Update Status"})})]})},y.id))})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6",children:[a.jsx("h3",{className:"text-primary mb-4",children:"Update Lead Status"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-foreground",children:"Status"}),a.jsxs("select",{className:"w-full px-4 py-3 bg-input-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",defaultValue:c.rmStatus||"",onChange:y=>{const v=prompt("Add notes (optional):")||"";g(c.id,y.target.value,v)},children:[a.jsx("option",{value:"",children:"Select status"}),a.jsx("option",{value:"Under Review",children:"Under Review"}),a.jsx("option",{value:"Documents Verified",children:"Documents Verified"}),a.jsx("option",{value:"Bank Meeting Scheduled",children:"Bank Meeting Scheduled"}),a.jsx("option",{value:"Approved",children:"Approved"}),a.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),a.jsx("button",{onClick:()=>h(null),className:"w-full py-2 border border-border rounded-lg hover:bg-muted transition-colors",children:"Cancel"})]})]})})]})}function Qv(){const[l,r]=F.useState(!0),[s,o]=F.useState(null),[u,c]=F.useState(null),[h,p]=F.useState(!1),[g,y]=F.useState(!1),[v,_]=F.useState(!1);F.useEffect(()=>{j();const{data:U}=gn.auth.onAuthStateChange(async(A,T)=>{o(T),T?await k():c(null)});return()=>{U.subscription.unsubscribe()}},[]);const j=async()=>{try{const{data:{session:U}}=await gn.auth.getSession();o(U),U&&await k()}catch(U){console.error("Session check error:",U)}finally{r(!1)}},k=async()=>{try{const U=await Xe("/me"),A=await U.json();U.ok&&A.user&&(c(A.user),A.user.role==="user"&&A.user.kycStatus!=="verified"&&y(!0))}catch(U){console.error("Failed to load user data:",U)}},P=async()=>{await gn.auth.signOut(),o(null),c(null),p(!1),y(!1)},R=async()=>{p(!1),await k()},O=async()=>{y(!1),await k()};return l?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading LoanLinker..."})]})}):!s||!u?a.jsxs(a.Fragment,{children:[a.jsx(Av,{onGetStarted:()=>p(!0)}),h&&a.jsx($v,{onSuccess:R,onClose:()=>p(!1)})]}):g&&u.role==="user"?a.jsx("div",{className:"min-h-screen bg-background py-12 px-4",children:a.jsx(Uv,{onSuccess:O})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"bg-white border-b border-border sticky top-0 z-40",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-primary-foreground",children:"LL"})}),a.jsx("span",{className:"text-primary",children:"LoanLinker"})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[a.jsxs("div",{className:"text-foreground",children:[u.name,u.isPremium&&a.jsx("span",{className:"ml-2 px-2 py-1 bg-accent/20 text-accent-foreground rounded",children:"Premium"})]}),a.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 text-muted-foreground hover:text-foreground transition-colors",children:[a.jsx(uh,{className:"w-4 h-4"}),"Sign Out"]})]}),a.jsx("button",{onClick:()=>_(!v),className:"md:hidden p-2 text-foreground",children:v?a.jsx(gr,{className:"w-6 h-6"}):a.jsx(yv,{className:"w-6 h-6"})})]}),v&&a.jsx("div",{className:"md:hidden py-4 border-t border-border",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"px-4 py-2 text-foreground",children:[u.name,u.isPremium&&a.jsx("span",{className:"ml-2 px-2 py-1 bg-accent/20 text-accent-foreground rounded",children:"Premium"})]}),a.jsxs("button",{onClick:P,className:"w-full flex items-center gap-2 px-4 py-2 text-muted-foreground hover:bg-muted transition-colors",children:[a.jsx(uh,{className:"w-4 h-4"}),"Sign Out"]})]})})]})}),a.jsxs("main",{children:[u.role==="user"&&a.jsx(qv,{user:u,onRefresh:k}),u.role==="bank"&&a.jsx(Kv,{user:u}),u.role==="admin"&&a.jsx(Jv,{user:u}),u.role==="rm"&&a.jsx(Gv,{user:u})]})]})}xm.createRoot(document.getElementById("root")).render(a.jsx(Qv,{}));
